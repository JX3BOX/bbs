{"version":3,"sources":["webpack:///./src/views/CommunitySingle.vue","webpack:///./src/components/community/reply_item.vue","webpack:///./src/components/community/comment_user.vue","webpack:///src/components/community/comment_user.vue","webpack:///./src/components/community/comment_user.vue?5cc4","webpack:///./src/components/community/comment_user.vue?101f","webpack:///./src/components/community/ReplyForReply.vue","webpack:///src/components/community/ReplyForReply.vue","webpack:///./src/components/community/ReplyForReply.vue?4714","webpack:///./src/components/community/ReplyForReply.vue?fc2e","webpack:///./src/components/community/comment_item.vue","webpack:///./src/components/community/add_block_button.vue","webpack:///src/components/community/add_block_button.vue","webpack:///./src/components/community/add_block_button.vue?0a5a","webpack:///./src/components/community/add_block_button.vue?35ce","webpack:///./src/components/community/complaint_button.vue","webpack:///src/components/community/complaint_button.vue","webpack:///./src/components/community/complaint_button.vue?a42a","webpack:///./src/components/community/complaint_button.vue?32da","webpack:///./src/components/community/delete_button.vue","webpack:///src/components/community/delete_button.vue","webpack:///./src/components/community/delete_button.vue?df1d","webpack:///./src/components/community/delete_button.vue?362d","webpack:///src/components/community/comment_item.vue","webpack:///./src/components/community/comment_item.vue?aa7a","webpack:///./src/components/community/comment_item.vue?17b9","webpack:///./src/components/community/forward_button.vue","webpack:///src/components/community/forward_button.vue","webpack:///./src/components/community/forward_button.vue?edbe","webpack:///./src/components/community/forward_button.vue?3f8a","webpack:///src/components/community/reply_item.vue","webpack:///./src/components/community/reply_item.vue?f2be","webpack:///./src/components/community/reply_item.vue?5903","webpack:///./src/layouts/CommunitySingleLayout.vue","webpack:///./src/components/community/top_sticky_info.vue","webpack:///src/components/community/top_sticky_info.vue","webpack:///./src/components/community/top_sticky_info.vue?6ef3","webpack:///./src/components/community/top_sticky_info.vue?99af","webpack:///src/layouts/CommunitySingleLayout.vue","webpack:///./src/layouts/CommunitySingleLayout.vue?9681","webpack:///./src/layouts/CommunitySingleLayout.vue?8224","webpack:///./src/components/community/post_header.vue","webpack:///src/components/community/post_header.vue","webpack:///./src/components/community/post_header.vue?fde3","webpack:///./src/components/community/post_header.vue?d691","webpack:///./src/components/community/comment_editor.vue","webpack:///./src/components/community/upload.vue","webpack:///src/components/community/upload.vue","webpack:///./src/components/community/upload.vue?d675","webpack:///./src/components/community/upload.vue?b4e4","webpack:///./src/components/community/quick-reply.vue","webpack:///src/components/community/quick-reply.vue","webpack:///./src/components/community/quick-reply.vue?1d22","webpack:///./src/components/community/quick-reply.vue?b589","webpack:///src/components/community/comment_editor.vue","webpack:///./src/components/community/comment_editor.vue?7f35","webpack:///./src/components/community/comment_editor.vue?f6d2","webpack:///src/views/CommunitySingle.vue","webpack:///./src/views/CommunitySingle.vue?7fdb","webpack:///./src/views/CommunitySingle.vue?d9eb","webpack:///./src/components/community/top_sticky_info.vue?c79f","webpack:///./src/assets/img/community/reply.svg","webpack:///./src/components/community/comment_user.vue?262f","webpack:///./src/components/community/ReplyForReply.vue?8efe","webpack:///./src/views/CommunitySingle.vue?193f","webpack:///./src/components/community/comment_item.vue?7b4d","webpack:///./src/assets/img/community/praise.svg","webpack:///./src/layouts/CommunitySingleLayout.vue?7a80","webpack:///./src/components/community/forward_button.vue?a30f","webpack:///./src/components/community/reply_item.vue?8232","webpack:///./src/components/community/comment_editor.vue?781d","webpack:///./src/assets/img/comment.svg","webpack:///./src/service/next.js","webpack:///./src/service/cms.js","webpack:///./src/assets/img/community/collapse_2.svg","webpack:///./src/components/community/quick-reply.vue?f9f2","webpack:///./src/assets/img/community/collapse_1.svg","webpack:///./src/components/community/post_header.vue?0fed"],"names":["render","_vm","this","_c","_self","attrs","post","directives","name","rawName","value","loading","expression","staticClass","stat","scopedSlots","_u","key","fn","per","total","page","on","$event","changePage","proxy","_v","_e","_l","replyList","item","i","isAuthor","onReplyTopic","staticRenderFns","concat","floor","userInfo","id","_s","isMaster","showTime","content","domProps","renderContent","title","user_id","client","style","styles","onShowReply","require","isLike","addLike","likeCountRender","slot","showReplyForReplyFrom","display_name","authorLink","userId","doReply","comments_count","isCollapse","onCollapseChange","commentList","length","uid","installModules","data","staticStyle","onMessage","_t","props","methods","window","open","components","AuthorInfo","AuthorFollow","AuthorMedals","component","ref","userHref","username","inputId","model","callback","$$v","handleEmotionSelected","disableSubmitBtn","submintReply","hideForm","showUploader","Emotion","mounted","currentId","$refs","uploader","upload","attachmentUploadFinish","$emit","attachmentList","attachmentUplodError","emotion","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","myField","startPos","endPos","wrap","_context","prev","next","document","querySelector","selectionStart","selectionEnd","substring","$nextTick","focus","setSelectionRange","stop","showAvatar","avatar","updated_at","replyUserInfo","class","likeCount","allowBlock","addBlock","computed","isLogin","User","getInfo","$confirm","confirmButtonText","cancelButtonText","type","then","$message","success","catch","err","console","log","_","allowReport","onMiscfeedback","inject","topicData","getTopicData","replyData","getReplyData","user_info","ext_user_info","user_name","layerNum","layerStr","$prompt","input","inputPlaceholder","inputValidator","_ref","feedback","public","subtype","refer","canDelete","onDeleteClick","isReplyToMyTopic","isCommentToMyReply","isSuperAdmin","isFollower","_this$post","_User$getInfo","manageDeleteComment","delMyComment","manageDeleteReply","deleteMyReply","delReplyToMyTopic","delCommentToMyReply","onSearch","_this2","getCommentList","index","_this3","_this4","topic_reply_id","_this5","manageDelComment","_this6","manageDelReply","ReplyForReply","AddBlockButton","ComplaintButton","DeleteButton","watch","handler","val","formatContent","immediate","reply_for_user_info","comments","ins","JX3_EMOTION","_renderHTML","sent","$route","params","replyId","replyReply","reply_for_user_id","finally","error","postStat","allowForward","onForward","ForwardButton","CommentUser","CommentItem","Article","provide","getList","time","created_at","dayjs","format","width","height","onlyAuthor","v","query","_handler","getLikes","apply","arguments","_callee2","_context2","scrollTo","body","scrollHeight","postData","undefined","_objectSpread","pageSize","_ref2","_callee3","res","list","_context3","current","_x","_callee4","_context4","map","join","post_type","post_action","_res$data$data","likes","abrupt","isTeammate","finalPost","show","hightStyle","isTop","isStar","tags","backgroundColor","color","label","collection","url","is_hight","hight_color","collection_id","color_tag","_this$post2","is_star","_this$post3","_this$post4","is_top","is_category_top","_this$post5","addEventListener","handleScroll","beforeDestroy","removeEventListener","dom","getElementsByClassName","rect","getBoundingClientRect","documentElement","scrollTop","y","getAppID","post_title","ID","getAppIcon","publishGate","AdminDrop","TopStickyInfo","hoverColor","icon","category","post_status","visible","isPostOwner","onEditClick","setOnlyAuthor","post_time","post_date","views","wordCount","categoryList","_this$post6","_this$post7","showDate","Date","update_date","_this$post8","_this$post9","update_time","_this$post10","_this$stat","edit_link","_this$post11","_this$post12","editLink","canEdit","_this$post13","isEditor","find","deep","countWords","showClientLabel","__clients","_$$text","text","$","replace","getCategoryList","getTopicBucket","search","formatCategoryList","_this$post14","location","href","newComment","maxLength","$set","onQuickReply","onSubmit","handlePictureCardPreview","fileList","maxCount","acceptedExtensions","reduce","acc","cur","onExceed","onChange","onSuccess","onError","toUpperCase","maxSize","dialogVisible","dialogImageUrl","API_Root","__cms","API","successList","file","$notify","message","duration","position","status","size","pop","submit","response","code","msg","closePop","replyTemplate","reply","emits","quickReply","doClose","Uploader","isBottom","Boolean","default","is_secret","is_template","insertVariable","emotionVal","appKey","CommentEditor","CommunitySingleLayout","PostHeader","ReplyItem","getReplyList","pageTotal","number_queries","created","getJumpFloor","getDetails","Object","keys","includes","hash","split","Math","ceil","jumpFloor","_floor","el","getElementById","scrollIntoView","scrollBy","buildQuery","appendMode","_query","order_created_at","replaceRoute","getTopicDetails","getStat","getTopicReplyList","ids","imageTags","image","replyTopic","onReplyTopicSuccess","_this7","push","Number","extend","$router","assign","module","exports","$next","get","getBirthdayList","$cms","getConfigBanner","getUserList"],"mappings":"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","file":"js/chunk-2c561cd2.4d9e713d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CommunitySingleLayout',{attrs:{\"post\":_vm.post}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-community-single\"},[_c('div',{staticClass:\"m-community-header\"},[_c('PostHeader',{attrs:{\"post\":_vm.post,\"stat\":_vm.stat},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('el-pagination',{staticClass:\"m-pageheader-pagination\",attrs:{\"layout\":\"prev, pager, next\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page,\"size\":\"small\"},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"current-change\":_vm.changePage}})]},proxy:true}])}),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"JX3BOX\")])],1),_c('div',{staticClass:\"m-list-box\"},[_c('div',{staticClass:\"m-master-box\"},[(this.page === 1)?_c('ReplyItem',{attrs:{\"isMaster\":true,\"post\":_vm.post}}):_vm._e()],1),_c('div',{staticClass:\"m-reply-box\"},_vm._l((_vm.replyList),function(item,i){return _c('ReplyItem',{key:i,attrs:{\"post\":item,\"is-master\":false,\"is-author\":_vm.isAuthor}})}),1)]),_c('div',{staticClass:\"m-community-footer\"},[_c('div',{staticClass:\"m-pagination-box\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"current-change\":_vm.changePage}})],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"回帖\")]),_c('div',{staticClass:\"u-editor\"},[_c('CommentEditor',{on:{\"submit\":_vm.onReplyTopic}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-reply-wrapper\",attrs:{\"id\":`floor-${_vm.post.floor}`}},[_c('div',{staticClass:\"m-reply-left\"},[_c('CommentUser',{attrs:{\"uid\":_vm.userInfo.id}}),_c('div',{staticClass:\"u-top-right u-mobile-show\"},[_c('div',[_c('div',{staticClass:\"u-floor\"},[_vm._v(_vm._s(_vm.isMaster ? \"楼主\" : \"#\" + _vm.post.floor))]),_c('div',{staticClass:\"m-reply-time\"},[_vm._v(_vm._s(_vm.showTime))])])])],1),_c('div',{staticClass:\"m-reply-right\"},[_c('div',{staticClass:\"m-reply-content\"},[_c('div',{staticClass:\"u-reply-floor u-mobile-hidden\"},[_vm._v(\" \"+_vm._s(_vm.isMaster ? \"楼主\" : _vm.post.floor + \"楼\")+\" \")]),_c('div',{staticClass:\"u-reply-content\"},[(_vm.isMaster)?_c('Article',{attrs:{\"content\":_vm.post.content || ''}}):_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.renderContent)}})],1),(_vm.isMaster)?_c('Thx',{staticClass:\"m-single-thx\",attrs:{\"postId\":_vm.id,\"postType\":\"community_topic\",\"postTitle\":_vm.post.title,\"userId\":_vm.post.user_id,\"adminBoxcoinEnable\":true,\"userBoxcoinEnable\":true,\"client\":_vm.post.client}}):_vm._e(),_c('div',{staticClass:\"m-reply-time u-mobile-hidden\"},[_vm._v(_vm._s(_vm.showTime))]),_c('div',{staticClass:\"u-reply-toolbar\"},[_c('div',[_c('ForwardButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post,\"isMaster\":_vm.isMaster}}),_c('DeleteButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post,\"type\":\"reply\",\"isMaster\":_vm.isMaster}}),_c('AddBlockButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post}}),_c('ComplaintButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post}}),_c('el-button',{staticClass:\"u-reply-btn\",style:(_vm.styles),attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onShowReply()}}},[_c('div',{staticClass:\"u-btn\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/community/reply.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.isMaster ? \"跟帖\" : \"回复\"))])])]),(!_vm.isMaster)?_c('el-button',{staticClass:\"u-praise-btn\",attrs:{\"disabled\":_vm.isLike,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addLike}},[_c('div',{staticClass:\"u-btn\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/community/praise.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"赞\")]),_c('span',[_vm._v(_vm._s(_vm.likeCountRender))])])]):_vm._e()],1),_c('div',[_c('el-dropdown',{staticClass:\"u-more u-mobile-show\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-more\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('ForwardButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post,\"isMaster\":_vm.isMaster}})],1),_c('el-dropdown-item',[_c('DeleteButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post,\"type\":\"reply\",\"isMaster\":_vm.isMaster}})],1),_c('el-dropdown-item',[_c('AddBlockButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post}})],1),_c('el-dropdown-item',[_c('ComplaintButton',{staticClass:\"u-mobile-hidden\",attrs:{\"post\":_vm.post}})],1)],1)],1)],1)]),(_vm.showReplyForReplyFrom)?_c('ReplyForReply',{attrs:{\"username\":_vm.userInfo.display_name,\"user-href\":_vm.authorLink(_vm.userId)},on:{\"hideForm\":function($event){_vm.showReplyForReplyFrom = false},\"doReply\":_vm.doReply}}):_vm._e()],1),(!_vm.isMaster && _vm.post.comments_count > 3)?_c('div',{staticClass:\"m-comment-collapse\"},[(_vm.isCollapse)?_c('div',{on:{\"click\":_vm.onCollapseChange}},[_c('img',{attrs:{\"width\":\"14\",\"src\":require(\"@/assets/img/community/collapse_1.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"折叠评论\")])]):_c('div',{on:{\"click\":_vm.onCollapseChange}},[_c('img',{attrs:{\"width\":\"14\",\"src\":require(\"@/assets/img/community/collapse_2.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"展开评论\")])])]):_vm._e(),(!_vm.isMaster && _vm.commentList.length)?_c('div',{staticClass:\"m-comment-list\"},_vm._l((_vm.commentList),function(item){return _c('CommentItem',{key:item.id,attrs:{\"post\":item}})}),1):_vm._e(),(_vm.isCollapse)?_c('div',{staticClass:\"m-pagination-box\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"current-change\":_vm.changePage}})],1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-user c-author\"},[_c('AuthorInfo',{attrs:{\"uid\":_vm.uid},on:{\"ready\":_vm.installModules}}),(_vm.data)?[_c('div',{staticClass:\"u-interact\"},[_c('AuthorFollow',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"uid\":_vm.uid}}),_c('el-button',{staticClass:\"u-btn\",attrs:{\"icon\":\"el-icon-message\",\"size\":\"mini\"},on:{\"click\":_vm.onMessage}},[_vm._v(\"私信\")])],1),_c('AuthorMedals',{staticClass:\"u-block u-trophy\",attrs:{\"uid\":_vm.uid}}),_vm._t(\"default\")]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-comment-user c-author\">\n        <AuthorInfo :uid=\"uid\" @ready=\"installModules\" />\n        <template v-if=\"data\">\n            <div class=\"u-interact\">\n                <AuthorFollow style=\"margin-right: 8px\" :uid=\"uid\" />\n                <!-- <AuthorGift :uid=\"uid\" /> -->\n                <el-button icon=\"el-icon-message\" class=\"u-btn\" size=\"mini\" @click=\"onMessage\">私信</el-button>\n            </div>\n            <!-- <AuthorMsg :uid=\"uid\" /> -->\n            <!-- <AuthorLink class=\"u-block u-links\" :uid=\"uid\" :data=\"data\" /> -->\n            <AuthorMedals class=\"u-block u-trophy\" :uid=\"uid\" />\n            <!-- <AuthorTeams class=\"u-block u-teams\" :uid=\"uid\" /> -->\n            <!-- <AuthorFans class=\"u-block u-fans\" :uid=\"uid\" /> -->\n            <slot></slot>\n            <!-- <AuthorPosts class=\"u-block u-posts\" :uid=\"uid\" /> -->\n        </template>\n    </div>\n</template>\n\n<script>\nimport AuthorInfo from \"@jx3box/jx3box-common-ui/src/author/AuthorInfo.vue\";\n// import AuthorLink from \"@jx3box/jx3box-common-ui/src/author/AuthorLink.vue\";\nimport AuthorFollow from \"@jx3box/jx3box-common-ui/src/author/AuthorFollow.vue\";\n// import AuthorMsg from \"@jx3box/jx3box-common-ui/src/author/AuthorMsg.vue\";\n// import AuthorGift from \"@jx3box/jx3box-common-ui/src/author/AuthorGift.vue\";\n// import AuthorFans from \"@jx3box/jx3box-common-ui/src/author/AuthorFans.vue\";\nimport AuthorMedals from \"@jx3box/jx3box-common-ui/src/author/AuthorMedals.vue\";\n// import AuthorTeams from \"@jx3box/jx3box-common-ui/src/author/AuthorTeams.vue\";\n// import AuthorPosts from \"@jx3box/jx3box-common-ui/src/author/AuthorPosts.vue\";\nexport default {\n    props: [\"uid\"],\n    data: function () {\n        return {\n            data: \"\",\n        };\n    },\n    methods: {\n        installModules: function (data) {\n            this.data = data;\n        },\n        onMessage: function () {\n            window.open(\"/dashboard/letter?receiver=\" + this.uid, \"_blank\");\n        },\n    },\n    components: {\n        AuthorInfo,\n        // AuthorLink,\n        AuthorFollow,\n        // AuthorMsg,\n        // AuthorGift,\n        AuthorMedals,\n        // AuthorTeams,\n        // AuthorPosts,\n        // AuthorFans,\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-comment-user {\n    position: sticky;\n    top: 130px;\n}\n\n@media screen and (max-width: @ipad) {\n    .m-comment-user {\n        position: unset;\n        .c-author-honor,\n        .u-bio,\n        .c-author-medals,\n        .u-interact {\n            display: none;\n        }\n        .u-info {\n            height: 48px;\n        }\n        .c-avatar.s {\n            .c-avatar-pic {\n                width: 48px;\n                height: 48px;\n            }\n            .c-avatar-frame {\n                width: 58px;\n                height: 58px;\n                left: 40px;\n                top: 40px;\n            }\n        }\n\n        .u-avatar {\n            width: 48px;\n            height: 48px;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_user.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_user.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./comment_user.vue?vue&type=template&id=767d3640\"\nimport script from \"./comment_user.vue?vue&type=script&lang=js\"\nexport * from \"./comment_user.vue?vue&type=script&lang=js\"\nimport style0 from \"./comment_user.vue?vue&type=style&index=0&id=767d3640&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",staticClass:\"c-comment-subbox m-comment-editor\"},[_c('div',{staticClass:\"u-subbox-label\"},[_vm._v(\" 回复 \"),_c('el-link',{attrs:{\"type\":\"primary\",\"target\":\"_blank\",\"href\":_vm.userHref}},[_vm._v(\"＠\"+_vm._s(_vm.username))]),_vm._v(\" ： \")],1),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"textarea\",\"id\":'id' + _vm.inputId,\"placeholder\":\"输入回复...\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"c-comment-tools\"},[_c('Emotion',{staticClass:\"c-comment-emotion\",attrs:{\"type\":\"pop\",\"max\":6},on:{\"selected\":_vm.handleEmotionSelected}}),_c('el-button',{staticClass:\"u-publish\",attrs:{\"size\":\"mini\",\"type\":\"primary\",\"disabled\":_vm.disableSubmitBtn},on:{\"click\":function($event){return _vm.submintReply()}}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.hideForm()}}},[_vm._v(\"收起\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-form ref=\"form\" class=\"c-comment-subbox m-comment-editor\">\n        <div class=\"u-subbox-label\">\n            回复\n            <el-link type=\"primary\" target=\"_blank\" :href=\"userHref\">＠{{ username }}</el-link>\n            ：\n        </div>\n        <el-form-item>\n            <el-input type=\"textarea\" v-model=\"content\" :id=\"'id' + inputId\" placeholder=\"输入回复...\"></el-input>\n        </el-form-item>\n        <el-form-item>\n            <div class=\"c-comment-tools\">\n                <Emotion class=\"c-comment-emotion\" @selected=\"handleEmotionSelected\" type=\"pop\" :max=\"6\"></Emotion>\n                <el-button\n                    class=\"u-publish\"\n                    size=\"mini\"\n                    type=\"primary\"\n                    @click=\"submintReply()\"\n                    :disabled=\"disableSubmitBtn\"\n                    >提交</el-button\n                >\n                <el-button size=\"mini\" type=\"text\" @click=\"hideForm()\">收起</el-button>\n            </div>\n        </el-form-item>\n    </el-form>\n</template>\n\n<script>\n// import Uploader from \"./upload.vue\";\nimport Emotion from \"@jx3box/jx3box-emotion/src/Emotion.vue\";\nexport default {\n    props: [\"username\", \"userHref\", \"currentId\"],\n    data: function () {\n        return {\n            content: \"\",\n            showUploader: false,\n            disableSubmitBtn: false,\n            inputId: \"\",\n        };\n    },\n    components: {\n        // Uploader,\n        Emotion,\n    },\n    mounted() {\n        if (this.currentId) this.inputId = this.currentId;\n    },\n    methods: {\n        submintReply() {\n            this.disableSubmitBtn = true;\n            if (this.$refs.uploader) {\n                this.$refs.uploader.upload();\n            } else {\n                this.attachmentUploadFinish([]);\n            }\n        },\n        hideForm() {\n            this.$emit(\"hideForm\");\n        },\n        attachmentUploadFinish(data) {\n            this.disableSubmitBtn = false;\n            this.$emit(\"doReply\", {\n                content: this.content,\n                attachmentList: data,\n            });\n            this.content = \"\";\n            this.showUploader = false;\n        },\n        attachmentUplodError() {\n            this.disableSubmitBtn = false;\n        },\n        async handleEmotionSelected(emotion) {\n            const myField = document.querySelector(`#id${this.inputId}`);\n            const value = emotion.key;\n            if (myField.selectionStart || myField.selectionStart === 0) {\n                let startPos = myField.selectionStart;\n                let endPos = myField.selectionEnd;\n\n                this.content =\n                    myField.value.substring(0, startPos) +\n                    value +\n                    myField.value.substring(endPos, myField.value.length);\n\n                await this.$nextTick();\n\n                myField.focus();\n                myField.setSelectionRange(endPos + value.length, endPos + value.length);\n            } else {\n                this.content = value;\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-comment-editor {\n    margin-bottom: 10px;\n    .u-subbox-label {\n        margin-bottom: 10px;\n        .fz(14px);\n        .flex;\n        gap: 3px;\n    }\n    .el-form-item {\n        margin: 0;\n    }\n\n    // .u-publish {\n        // margin-bottom: 4px;\n        // background: #4080ff;\n        // border:none;\n        // &:hover {\n        //     background-color:lighten(#4080ff, 2%);\n        // }\n    // }\n    .c-comment-emotion {\n        display: inline-block;\n        height: 24px;\n        margin: 0 10px 0 0;\n        vertical-align: middle;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ReplyForReply.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ReplyForReply.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReplyForReply.vue?vue&type=template&id=c2a90b4e\"\nimport script from \"./ReplyForReply.vue?vue&type=script&lang=js\"\nexport * from \"./ReplyForReply.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReplyForReply.vue?vue&type=style&index=0&id=c2a90b4e&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-wrapper\"},[_c('div',{staticClass:\"m-comment-right\"},[_c('img',{staticClass:\"u-avatar\",attrs:{\"src\":_vm.showAvatar(_vm.userInfo.avatar)}}),_c('div',{staticClass:\"m-comment-content\"},[_c('div',{staticClass:\"u-content-top\"},[_c('div',{staticClass:\"u-name\"},[_c('a',{attrs:{\"href\":_vm.authorLink(_vm.userInfo.id),\"alt\":\"用户名\"}},[_vm._v(_vm._s(_vm.userInfo.display_name))]),_c('span',{staticClass:\"m-comment-time u-mobile-show\"},[_vm._v(_vm._s(_vm.post.updated_at))])]),_c('div',[_c('el-dropdown',{staticClass:\"u-more u-mobile-show\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-more\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('DeleteButton',{attrs:{\"post\":_vm.post,\"type\":\"comment\"}})],1),_c('el-dropdown-item',[_c('AddBlockButton',{attrs:{\"post\":_vm.post}})],1),_c('el-dropdown-item',[_c('ComplaintButton',{attrs:{\"post\":_vm.post}})],1)],1)],1)],1)]),_c('p',{staticClass:\"u-answer-user\"},[_vm._v(\"回复 \"+_vm._s(_vm.replyUserInfo.display_name)+\"：\")]),_c('p',{staticClass:\"u-content\",domProps:{\"innerHTML\":_vm._s(_vm.renderContent)}}),_c('div',{staticClass:\"u-comment-toolbar\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":_vm.addLike}},[_c('div',{staticClass:\"u-btn-content\"},[_c('i',{class:`u-like-icon ${_vm.isLike && 'is-like'}`},[_vm._v(_vm._s(_vm.isLike ? \"♥\" : \"♡\"))]),_vm._v(\" \"+_vm._s(_vm.isLike ? \"已赞\" : \"赞\")+\" \"),(_vm.likeCount)?_c('span',{staticClass:\"u-count\"},[_vm._v(\" (\"+_vm._s(_vm.likeCountRender)+\")\")]):_vm._e()])]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":_vm.onShowReply}},[_c('i',{staticClass:\"el-icon-chat-round\"}),_c('span',[_vm._v(\"回复\")])])],1),_c('div',{staticClass:\"u-mobile-hidden\"},[_c('DeleteButton',{attrs:{\"post\":_vm.post,\"type\":\"comment\"}}),_c('AddBlockButton',{attrs:{\"post\":_vm.post}}),_c('ComplaintButton',{attrs:{\"post\":_vm.post}}),_c('span',{staticClass:\"m-comment-time u-mobile-hidden\"},[_vm._v(_vm._s(_vm.post.updated_at))])],1)]),(_vm.showReplyForReplyFrom)?_c('ReplyForReply',{attrs:{\"username\":_vm.userInfo.display_name,\"user-href\":_vm.authorLink(_vm.userInfo.id)},on:{\"hideForm\":function($event){_vm.showReplyForReplyFrom = false},\"doReply\":_vm.doReply}}):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-button',{attrs:{\"type\":\"text\",\"disabled\":!_vm.allowBlock},on:{\"click\":function($event){return _vm.addBlock()}}},[_c('i',{staticClass:\"el-icon-circle-close\"}),_vm._v(\" 拉黑 \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-button type=\"text\" :disabled=\"!allowBlock\" @click=\"addBlock()\">\n        <i class=\"el-icon-circle-close\"></i>\n        拉黑\n    </el-button>\n</template>\n\n<script>\nimport { addBlock } from \"@/service/community\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\n\nexport default {\n    name: \"add-block-button\",\n    props: [\"post\"],\n    computed: {\n        isLogin: function () {\n            return User.isLogin();\n        },\n        // 是否允许拉黑\n        allowBlock: function () {\n            // 登录  && 不是自己\n            return this.isLogin && this.post.user_id != User.getInfo().uid;\n        },\n    },\n    methods: {\n        // 拉黑\n        addBlock: function () {\n            this.$confirm(\"确定要拉黑此人？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            })\n                .then(() => {\n                    addBlock(this.post.user_id)\n                        .then(() => {\n                            this.$message.success(\"拉黑成功\");\n                        })\n                        .catch((err) => {\n                            console.log(err);\n                        });\n                })\n                .catch((_) => {});\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./add_block_button.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./add_block_button.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./add_block_button.vue?vue&type=template&id=87e5968e&scoped=true\"\nimport script from \"./add_block_button.vue?vue&type=script&lang=js\"\nexport * from \"./add_block_button.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87e5968e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-button',{attrs:{\"type\":\"text\",\"disabled\":!_vm.allowReport},on:{\"click\":_vm.onMiscfeedback}},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 举报 \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-button type=\"text\" :disabled=\"!allowReport\" @click=\"onMiscfeedback\">\n        <i class=\"el-icon-warning-outline\"></i>\n        举报\n    </el-button>\n</template>\n\n<script>\nimport { feedback } from \"@/service/community\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nexport default {\n    name: \"ComplaintButton\",\n    props: [\"post\"],\n    inject: [\"getTopicData\", \"getReplyData\"],\n    computed: {\n        isLogin: function () {\n            return User.isLogin();\n        },\n        // 是否允许举报\n        allowReport: function () {\n            // 登陆 && 不是自己\n            return this.isLogin && this.post.user_id != User.getInfo().uid;\n        },\n    },\n    methods: {\n        onMiscfeedback() {\n            const topicData = this.getTopicData();\n            const replyData = this.getReplyData();\n            const userInfo = this.post.user_info || this.post.ext_user_info;\n            const user_name = userInfo.display_name;\n            const layerNum = replyData.floor || 0;\n            const layerStr = layerNum ? layerNum + \"楼\" : \"楼主\";\n\n            this.$prompt(`请输入要举报的内容`, \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                input: \"textarea\",\n                inputPlaceholder: \"请输入要举报的内容\",\n                inputValidator: (value) => {\n                    if (!value) {\n                        return \"内容不能为空!\";\n                    }\n                },\n            }).then(({ value }) => {\n                const content = `魔盒论坛《${topicData.title}》${layerStr}的${user_name}：${value}`;\n                feedback({\n                    // 平台\n                    client: topicData.client,\n                    // 举报内容\n                    content,\n                    // 是否公开\n                    public: 0,\n                    // 类型：举报\n                    subtype: \"3\",\n                    // 来源：官网\n                    type: \"1\",\n                    // 来源地址\n                    refer: `/community/${topicData.id}#${layerNum}`,\n                }).then(() => {\n                    this.$message.success(\"举报成功\");\n                });\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./complaint_button.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./complaint_button.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./complaint_button.vue?vue&type=template&id=738d2bf8&scoped=true\"\nimport script from \"./complaint_button.vue?vue&type=script&lang=js\"\nexport * from \"./complaint_button.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"738d2bf8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.canDelete)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.onDeleteClick}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" 删除 \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-button type=\"text\" @click=\"onDeleteClick\" v-if=\"canDelete\">\n        <i class=\"el-icon-delete\"></i>\n        删除\n    </el-button>\n</template>\n\n<script>\nimport { delMyComment, delCommentToMyReply, delReplyToMyTopic, deleteMyReply, manageDelComment, manageDelReply } from \"@/service/community\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nexport default {\n    name: \"DeleteButton\",\n    inject: [\"getTopicData\", \"getReplyList\", \"getReplyData\", \"getCommentList\", \"onSearch\"],\n    props: [\"isMaster\", \"post\", \"type\"],\n    computed: {\n        topicData: function () {\n            return this.getTopicData();\n        },\n        replyData: function () {\n            return this.getReplyData();\n        },\n        // 作者\n        isAuthor: function () {\n            return this.post.user_id == User.getInfo().uid;\n        },\n        // 是我的帖子的回帖 （我是楼主）\n        isReplyToMyTopic: function () {\n            return this.type === \"reply\" && this.topicData.user_id == User.getInfo().uid;\n        },\n        // 回复我的回帖 （我是层主）\n        isCommentToMyReply: function () {\n            return this.type === \"comment\" && this.replyData.user_id == User.getInfo().uid\n        },\n        isSuperAdmin() {\n            return User.isSuperAdmin();\n        },\n        isFollower() {\n            return this.post?.user_id == User.getInfo()?.uid;\n        },\n        canDelete() {\n            // 不是 1 楼 且 是超级管理 || 层主\n            return !this.isMaster && (this.isSuperAdmin || this.isFollower)\n        }\n    },\n    methods: {\n        onDeleteClick() {\n            // 删除自己的评论与回帖\n            if (this.isAuthor || this.isSuperAdmin) {\n                if (this.type === \"comment\") {\n                    this.isSuperAdmin ? this.manageDeleteComment() : this.delMyComment();\n                } else if (this.type === \"reply\") {\n                    this.isSuperAdmin ? this.manageDeleteReply() : this.deleteMyReply();\n                } else {\n                    this.$message.success(\"未知的组件类型：\" + this.type);\n                }\n            } else {\n                // 删除回帖我的\n                if (this.isReplyToMyTopic) {\n                    // console.log(\"删除回帖我的\");\n                    this.delReplyToMyTopic();\n                }\n                // 删除回复我\n                if (this.isCommentToMyReply) {\n                    // console.log(\"删除回复我的\");\n                    this.delCommentToMyReply();\n                }\n            }\n        },\n        deleteMyReply: function () {\n            this.$confirm(\"确认是否删除该回帖？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                deleteMyReply(this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    // 调用父组件的方法，刷新回到第一页\n                    this.onSearch();\n                });\n            });\n        },\n        delMyComment: function () {\n            this.$confirm(\"确认是否删除该评论？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                delMyComment(this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    this.getCommentList({ index: 1 });\n                });\n            });\n        },\n        delReplyToMyTopic: function () {\n            this.$confirm(\"确认是否删除该回帖？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                delReplyToMyTopic(this.topicData.id, this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    // 调用父组件的方法，刷新回到第一页\n                    this.onSearch();\n                });\n            });\n        },\n        delCommentToMyReply: function () {\n            this.$confirm(\"确认是否删除该评论？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                delCommentToMyReply(this.post.topic_reply_id, this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    // 调用父组件的方法，刷新回到第一页\n                    this.getCommentList({ index: 1 });\n                });\n            });\n        },\n        manageDeleteComment: function() {\n            this.$confirm(\"确认是否删除该评论？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                manageDelComment(this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    this.getCommentList({ index: 1 });\n                });\n            });\n        },\n        manageDeleteReply: function() {\n            this.$confirm(\"确认是否删除该回帖？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                manageDelReply(this.post.id).then(() => {\n                    this.$message.success(\"删除成功\");\n                    this.onSearch();\n                });\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./delete_button.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./delete_button.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./delete_button.vue?vue&type=template&id=537e8ca6&scoped=true\"\nimport script from \"./delete_button.vue?vue&type=script&lang=js\"\nexport * from \"./delete_button.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"537e8ca6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-comment-wrapper\">\n        <div class=\"m-comment-right\">\n            <img class=\"u-avatar\" :src=\"showAvatar(userInfo.avatar)\" />\n            <div class=\"m-comment-content\">\n                <div class=\"u-content-top\">\n                    <div class=\"u-name\">\n                        <a :href=\"authorLink(userInfo.id)\" alt=\"用户名\">{{ userInfo.display_name }}</a>\n                        <span class=\"m-comment-time u-mobile-show\">{{ post.updated_at }}</span>\n                    </div>\n                    <div>\n                        <el-dropdown class=\"u-more u-mobile-show\" trigger=\"click\" placement=\"bottom\">\n                            <span class=\"el-dropdown-link\">\n                                <i class=\"el-icon-more\"></i>\n                            </span>\n                            <el-dropdown-menu slot=\"dropdown\">\n                                <el-dropdown-item>\n                                    <DeleteButton :post=\"post\" type=\"comment\" />\n                                </el-dropdown-item>\n                                <el-dropdown-item>\n                                    <AddBlockButton :post=\"post\" />\n                                </el-dropdown-item>\n                                <el-dropdown-item>\n                                    <ComplaintButton :post=\"post\" />\n                                </el-dropdown-item>\n                            </el-dropdown-menu>\n                        </el-dropdown>\n                    </div>\n                </div>\n                <p class=\"u-answer-user\">回复 {{ replyUserInfo.display_name }}：</p>\n                <p class=\"u-content\" v-html=\"renderContent\"></p>\n                <div class=\"u-comment-toolbar\">\n                    <div>\n                        <el-button type=\"text\" size=\"small\" @click=\"addLike\" class=\"\">\n                            <div class=\"u-btn-content\">\n                                <i :class=\"`u-like-icon ${isLike && 'is-like'}`\">{{ isLike ? \"♥\" : \"♡\" }}</i>\n                                {{ isLike ? \"已赞\" : \"赞\" }}\n                                <span class=\"u-count\" v-if=\"likeCount\"> ({{ likeCountRender }})</span>\n                            </div>\n                        </el-button>\n                        <el-button type=\"text\" size=\"small\" @click=\"onShowReply\">\n                            <i class=\"el-icon-chat-round\"></i>\n                            <span>回复</span>\n                        </el-button>\n                    </div>\n                    <div class=\"u-mobile-hidden\">\n                        <DeleteButton :post=\"post\" type=\"comment\" />\n                        <!-- <AddBlackHoleButton :post=\"post\" type=\"comment\" /> -->\n                        <AddBlockButton :post=\"post\" />\n                        <ComplaintButton :post=\"post\" />\n                        <span class=\"m-comment-time u-mobile-hidden\">{{ post.updated_at }}</span>\n                    </div>\n                </div>\n                <ReplyForReply\n                    v-if=\"showReplyForReplyFrom\"\n                    :username=\"userInfo.display_name\"\n                    :user-href=\"authorLink(userInfo.id)\"\n                    @hideForm=\"showReplyForReplyFrom = false\"\n                    @doReply=\"doReply\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ReplyForReply from \"./ReplyForReply.vue\";\nimport { authorLink, showAvatar } from \"@jx3box/jx3box-common/js/utils\";\nimport JX3_EMOTION from \"@jx3box/jx3box-emotion\";\nimport { replyReply } from \"@/service/community\";\nimport { postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport AddBlockButton from \"@/components/community/add_block_button.vue\";\n// import AddBlackHoleButton from \"@/components/community/add_black_hole_button.vue\";\n\nimport ComplaintButton from \"./complaint_button.vue\";\nimport DeleteButton from \"./delete_button.vue\";\n\nexport default {\n    name: \"CommentItem\",\n    props: [\"post\"],\n    inject: [\"getTopicData\", \"getReplyData\", \"getCommentList\"],\n    components: {\n        ReplyForReply,\n        AddBlockButton,\n        // AddBlackHoleButton,\n        ComplaintButton,\n        DeleteButton,\n    },\n    data() {\n        return {\n            isLike: false,\n            likeCount: 0,\n            renderContent: \"\",\n            showReplyForReplyFrom: false,\n            commentList: [],\n        };\n    },\n    watch: {\n        content: {\n            handler: function (val) {\n                this.formatContent(val);\n            },\n            immediate: true,\n        },\n        \"post.likes\": {\n            handler: function (val) {\n                this.likeCount = val;\n            },\n            immediate: true,\n        },\n    },\n    computed: {\n        // 是否登录\n        likeCountRender: function () {\n            if (this.likeCount >= 100) {\n                return \"99+\";\n            } else if (this.likeCount != 0) {\n                return this.likeCount;\n            } else {\n                return \"\";\n            }\n        },\n        userInfo: function () {\n            return this.post.user_info;\n        },\n        replyUserInfo: function () {\n            return this.post.reply_for_user_info;\n        },\n        comments: function () {\n            return this.post.comments;\n        },\n        content: function () {\n            return this.post.content;\n        },\n        id: function () {\n            return this.post.id;\n        },\n    },\n    mounted() {},\n    methods: {\n        authorLink,\n        async formatContent(val) {\n            const ins = new JX3_EMOTION(val);\n            this.renderContent = await ins._renderHTML();\n        },\n        onShowReply() {\n            this.showReplyForReplyFrom = !this.showReplyForReplyFrom;\n        },\n        doReply({ content }) {\n            const id = this.$route.params.id;\n            const replyId = this.post.topic_reply_id;\n            const userId = this.userInfo.id;\n            if (id && replyId && userId) {\n                replyReply(id, replyId, {\n                    content: content,\n                    reply_for_user_id: userId,\n                })\n                    .then(() => {\n                        this.getCommentList();\n                    })\n                    .finally(() => {\n                        this.showReplyForReplyFrom = false;\n                    });\n            } else {\n                this.$message.error(\"回复失败：数据不正确\");\n            }\n            this.showReplyForReplyFrom = false;\n        },\n        // 点赞\n        addLike: function () {\n            if (this.isLike) return;\n            this.likeCount++;\n            if (!this.isLike) {\n                postStat(\"community_comment\", this.post.id, \"likes\");\n            }\n            this.isLike = true;\n        },\n        showAvatar\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/community/comment_item.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./comment_item.vue?vue&type=template&id=4d059490\"\nimport script from \"./comment_item.vue?vue&type=script&lang=js\"\nexport * from \"./comment_item.vue?vue&type=script&lang=js\"\nimport style0 from \"./comment_item.vue?vue&type=style&index=0&id=4d059490&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.allowForward)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.onForward()}}},[_c('i',{staticClass:\"el-icon-document-copy\"}),_c('span',{staticClass:\"u-copy-text__pc\"},[_vm._v(\" 复制党+1 \")]),_c('span',{staticClass:\"u-copy-text__phone\"},[_vm._v(\"  \"),_c('strong',[_vm._v(\"+1\")])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-button type=\"text\" v-if=\"allowForward\" @click=\"onForward()\">\n        <i class=\"el-icon-document-copy\"></i>\n        <span class=\"u-copy-text__pc\"> 复制党+1 </span>\n        <span class=\"u-copy-text__phone\">&nbsp; <strong>+1</strong> </span>\n    </el-button>\n</template>\n\n<script>\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nexport default {\n    props: [\"post\", \"isMaster\"],\n    inject: [\"onReplyTopic\"],\n    computed: {\n        isLogin: function () {\n            return User.isLogin();\n        },\n        allowForward() {\n            // 不是主楼 && 已经登陆\n            return !this.isMaster && this.isLogin;\n        },\n    },\n    methods: {\n        onForward() {\n            this.onReplyTopic({\n                content: this.post.content,\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.u-copy-text__phone {\n    display: none;\n}\n@media screen and (max-width: @phone) {\n    .u-copy-text__pc {\n        display: none;\n    }\n    .u-copy-text__phone {\n        display: inline-block;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./forward_button.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./forward_button.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./forward_button.vue?vue&type=template&id=be47b8ce&scoped=true\"\nimport script from \"./forward_button.vue?vue&type=script&lang=js\"\nexport * from \"./forward_button.vue?vue&type=script&lang=js\"\nimport style0 from \"./forward_button.vue?vue&type=style&index=0&id=be47b8ce&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be47b8ce\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-reply-wrapper\" :id=\"`floor-${post.floor}`\">\n        <div class=\"m-reply-left\">\n            <CommentUser :uid=\"userInfo.id\" />\n            <div class=\"u-top-right u-mobile-show\">\n                <div>\n                    <div class=\"u-floor\">{{ isMaster ? \"楼主\" : \"#\" + post.floor }}</div>\n                    <div class=\"m-reply-time\">{{ showTime }}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"m-reply-right\">\n            <div class=\"m-reply-content\">\n                <div class=\"u-reply-floor u-mobile-hidden\">\n                    {{ isMaster ? \"楼主\" : post.floor + \"楼\" }}\n                </div>\n                <div class=\"u-reply-content\">\n                    <Article v-if=\"isMaster\" :content=\"post.content || ''\" />\n                    <div v-else v-html=\"renderContent\" />\n                </div>\n                <!-- 打赏 只有主楼有打赏-->\n                <Thx\n                    v-if=\"isMaster\"\n                    class=\"m-single-thx\"\n                    :postId=\"id\"\n                    postType=\"community_topic\"\n                    :postTitle=\"post.title\"\n                    :userId=\"post.user_id\"\n                    :adminBoxcoinEnable=\"true\"\n                    :userBoxcoinEnable=\"true\"\n                    :client=\"post.client\"\n                />\n                <!-- 操作按钮 -->\n                <div class=\"m-reply-time u-mobile-hidden\">{{ showTime }}</div>\n                <div class=\"u-reply-toolbar\">\n                    <div>\n                        <ForwardButton class=\"u-mobile-hidden\" :post=\"post\" :isMaster=\"isMaster\" />\n                        <DeleteButton class=\"u-mobile-hidden\" :post=\"post\" type=\"reply\" :isMaster=\"isMaster\" />\n                        <!-- <el-button type=\"text\" icon=\"el-icon-delete\" v-if=\"canDelete\" @click=\"onDelete\">删除</el-button> -->\n                        <!-- <AddBlackHoleButton :post=\"post\" :isMaster=\"isMaster\" type=\"reply\" /> -->\n                        <AddBlockButton class=\"u-mobile-hidden\" :post=\"post\" />\n                        <ComplaintButton class=\"u-mobile-hidden\" :post=\"post\" />\n                        <el-button\n                            type=\"primary\"\n                            size=\"small\"\n                            class=\"u-reply-btn\"\n                            :style=\"styles\"\n                            @click=\"onShowReply()\"\n                        >\n                            <div class=\"u-btn\">\n                                <img src=\"@/assets/img/community/reply.svg\" alt=\"\" />\n                                <span>{{ isMaster ? \"跟帖\" : \"回复\" }}</span>\n                            </div>\n                        </el-button>\n                        <el-button\n                            v-if=\"!isMaster\"\n                            :disabled=\"isLike\"\n                            type=\"primary\"\n                            size=\"small\"\n                            class=\"u-praise-btn\"\n                            @click=\"addLike\"\n                        >\n                            <div class=\"u-btn\">\n                                <img src=\"@/assets/img/community/praise.svg\" alt=\"\" />\n                                <span>赞</span>\n                                <span>{{ likeCountRender }}</span>\n                            </div>\n                        </el-button>\n                    </div>\n                    <div>\n                        <el-dropdown class=\"u-more u-mobile-show\" trigger=\"click\" placement=\"bottom\">\n                            <span class=\"el-dropdown-link\">\n                                <i class=\"el-icon-more\"></i>\n                            </span>\n                            <el-dropdown-menu slot=\"dropdown\">\n                                <el-dropdown-item>\n                                    <ForwardButton class=\"u-mobile-hidden\" :post=\"post\" :isMaster=\"isMaster\" />\n                                </el-dropdown-item>\n                                <el-dropdown-item>\n                                    <DeleteButton\n                                        class=\"u-mobile-hidden\"\n                                        :post=\"post\"\n                                        type=\"reply\"\n                                        :isMaster=\"isMaster\"\n                                    />\n                                </el-dropdown-item>\n                                <el-dropdown-item>\n                                    <AddBlockButton class=\"u-mobile-hidden\" :post=\"post\" />\n                                </el-dropdown-item>\n                                <el-dropdown-item>\n                                    <ComplaintButton class=\"u-mobile-hidden\" :post=\"post\" />\n                                </el-dropdown-item>\n                            </el-dropdown-menu>\n                        </el-dropdown>\n                    </div>\n                </div>\n                <!-- 回复的输入框 ，判断主楼不需要展示主楼是跟帖 -->\n                <ReplyForReply\n                    v-if=\"showReplyForReplyFrom\"\n                    :username=\"userInfo.display_name\"\n                    :user-href=\"authorLink(userId)\"\n                    @hideForm=\"showReplyForReplyFrom = false\"\n                    @doReply=\"doReply\"\n                />\n            </div>\n\n            <!-- 折叠评论 -->\n            <div v-if=\"!isMaster && post.comments_count > 3\" class=\"m-comment-collapse\">\n                <div v-if=\"isCollapse\" @click=\"onCollapseChange\">\n                    <img width=\"14\" src=\"@/assets/img/community/collapse_1.svg\" alt=\"\" />\n                    <span>折叠评论</span>\n                </div>\n                <div v-else @click=\"onCollapseChange\">\n                    <img width=\"14\" src=\"@/assets/img/community/collapse_2.svg\" alt=\"\" />\n                    <span>展开评论</span>\n                </div>\n            </div>\n            <!-- 评论列表 -->\n            <div v-if=\"!isMaster && commentList.length\" class=\"m-comment-list\">\n                <CommentItem v-for=\"item in commentList\" :key=\"item.id\" :post=\"item\" />\n            </div>\n\n            <!-- 分页 -->\n            <div v-if=\"isCollapse\" class=\"m-pagination-box\">\n                <el-pagination\n                    background\n                    layout=\"total, prev, pager, next\"\n                    :hide-on-single-page=\"true\"\n                    :page-size=\"per\"\n                    :total=\"total\"\n                    :current-page.sync=\"page\"\n                    @current-change=\"changePage\"\n                ></el-pagination>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport CommentUser from \"@/components/community/comment_user.vue\";\nimport ReplyForReply from \"./ReplyForReply.vue\";\nimport CommentItem from \"@/components/community/comment_item.vue\";\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport JX3_EMOTION from \"@jx3box/jx3box-emotion\";\nimport { authorLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { replyReply, getCommentList } from \"@/service/community\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nimport { postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport AddBlockButton from \"@/components/community/add_block_button.vue\";\nimport ForwardButton from \"@/components/community/forward_button.vue\";\n// import AddBlackHoleButton from \"@/components/community/add_black_hole_button.vue\";\nimport ComplaintButton from \"./complaint_button.vue\";\nimport DeleteButton from \"./delete_button.vue\";\nimport { getLikes } from \"@/service/next\";\nimport Thx from \"@jx3box/jx3box-common-ui/src/single/Thx.vue\";\nimport dayjs from \"dayjs\";\n\nexport default {\n    name: \"ReplyItem\",\n    inject: [\"getTopicData\", \"getReplyList\", \"onReplyTopic\"],\n    props: [\"isMaster\", \"post\", \"isAuthor\"],\n    components: {\n        DeleteButton,\n        ForwardButton,\n        ComplaintButton,\n        AddBlockButton,\n        CommentUser,\n        ReplyForReply,\n        CommentItem,\n        Article,\n        // AddBlackHoleButton,\n    },\n    provide() {\n        return {\n            getReplyData: () => this.post,\n            getCommentList: this.getList,\n        };\n    },\n    data() {\n        return {\n            page: 1, //当前页数\n            per: 5, //每页条目\n            total: 0, //总条目数\n            isCollapse: false,\n            isLike: false,\n            likeCount: 0,\n            showReplyForReplyFrom: false,\n            renderContent: \"\",\n            commentList: [],\n        };\n    },\n    computed: {\n        showTime: function () {\n            const time = this.post.created_at || this.post.updated_at;\n            return dayjs(time).format(\"YYYY-MM-DD HH:mm:ss\");\n        },\n        // 主楼的跟帖按钮占位宽度 * 2\n        styles: function () {\n            if (this.isMaster) {\n                return {\n                    width: \"150px\",\n                    height: \"38px\",\n                };\n            }\n            return {};\n        },\n        id: function () {\n            return this.$route.params.id;\n        },\n        onlyAuthor: function () {\n            const v = this.$route.query.onlyAuthor;\n            return (v == true || v == \"true\") && true;\n        },\n        likeCountRender: function () {\n            if (this.likeCount >= 100) {\n                return \"99+\";\n            } else if (this.likeCount != 0) {\n                return this.likeCount;\n            } else {\n                return \"\";\n            }\n        },\n        userInfo: function () {\n            if (this.post && this.post.user_info) {\n                return this.post.user_info;\n            }\n            if (this.post && this.post.ext_user_info) {\n                return this.post.ext_user_info;\n            }\n            return {};\n        },\n        userId: function () {\n            if (this.post && this.post.user_info) {\n                return this.post.user_info.id;\n            }\n            if (this.post && this.post.ext_user_info) {\n                return this.post.ext_user_info.id;\n            }\n            return \"\";\n        },\n    },\n    watch: {\n        \"post.content\": {\n            handler: function (val) {\n                if (!this.isMaster) {\n                    this.formatContent(val);\n                }\n            },\n            immediate: true,\n        },\n        post: {\n            handler: async function () {\n                this.commentList = [];\n                if (this.post.comments) {\n                    this.commentList = await this.getLikes(this.post.comments);\n                }\n            },\n            immediate: true,\n        },\n        \"post.likes\": {\n            handler: function (val) {\n                this.likeCount = val;\n            },\n            immediate: true,\n        },\n    },\n    methods: {\n        onCollapseChange() {\n            if (this.isCollapse) {\n                this.commentList = this.post.comments;\n            } else {\n                this.page = 1;\n                this.getList();\n            }\n            this.isCollapse = !this.isCollapse;\n        },\n        authorLink,\n        async formatContent(val) {\n            const ins = new JX3_EMOTION(val);\n            this.renderContent = await ins._renderHTML();\n        },\n        onShowReply() {\n            if (this.isMaster) {\n                window.scrollTo(0, document.body.scrollHeight);\n            } else {\n                this.showReplyForReplyFrom = !this.showReplyForReplyFrom;\n            }\n        },\n        doReply({ content }) {\n            const id = this.$route.params.id;\n            const replyId = this.post.id;\n            if (id && replyId && this.userId) {\n                replyReply(id, replyId, {\n                    content: content,\n                    reply_for_user_id: this.userId,\n                })\n                    .then(() => {\n                        this.getList();\n                    })\n                    .finally(() => {\n                        this.showReplyForReplyFrom = false;\n                    });\n            } else {\n                this.$message.error(\"回复失败：数据不正确\");\n            }\n        },\n        changePage() {\n            this.getList();\n        },\n        getList(postData = {}) {\n            if (this.isMaster) return;\n            const id = this.id;\n            const replyId = this.post.id;\n            if (id && replyId) {\n                getCommentList(id, replyId, {\n                    index: this.page,\n                    pageSize: this.per,\n                    ...postData,\n                }).then(async (res) => {\n                    var list = res.data.data.list;\n\n                    if (list) {\n                        this.commentList = await this.getLikes(list);\n                        this.isCollapse = true;\n                    } else {\n                        this.commentList = [];\n                    }\n                    this.page = res.data.data.page.index;\n                    this.total = res.data.data.page.total;\n                    this.current = res.data.data.page.current;\n                });\n            }\n        },\n        // 点赞\n        addLike: function () {\n            if (this.isLike) return;\n            this.likeCount++;\n            if (!this.isLike) {\n                if (this.isMaster) {\n                    postStat(\"community_topic\", this.post.id, \"likes\");\n                } else {\n                    postStat(\"community_reply\", this.post.id, \"likes\");\n                }\n            }\n            this.isLike = true;\n        },\n        async getLikes(commentList) {\n            const id = commentList.map((item) => `community_comment-${item.id}`).join(\",\");\n            let list = [];\n            const params = {\n                post_type: \"community_comment\",\n                post_action: \"likes\",\n                id,\n            };\n            await getLikes(params)\n                .then((res) => {\n                    list = commentList.map((item) => {\n                        item.likes = res.data.data[`community_comment-${item.id}`]?.likes || 0;\n                        return item;\n                    });\n                })\n                .catch(() => {\n                    list = commentList;\n                });\n            return list;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/community/reply_item.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./reply_item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./reply_item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./reply_item.vue?vue&type=template&id=440673e6\"\nimport script from \"./reply_item.vue?vue&type=script&lang=js\"\nexport * from \"./reply_item.vue?vue&type=script&lang=js\"\nimport style0 from \"./reply_item.vue?vue&type=style&index=0&id=440673e6&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"p-community-single\",attrs:{\"id\":\"app\"}},[_c('Header'),(_vm.post)?_c('Breadcrumb',{attrs:{\"name\":\"魔盒论坛\",\"slug\":\"community\",\"publishEnable\":false,\"adminEnable\":true,\"feedbackEnable\":true,\"crumbEnable\":true,\"showExtend\":true},scopedSlots:_vm._u([{key:\"op-prepend\",fn:function(){return [(_vm.isTeammate)?_c('AdminDrop',{attrs:{\"is-community\":true,\"post\":_vm.finalPost,\"user-id\":_vm.user_id}}):_vm._e()]},proxy:true},{key:\"title\",fn:function(){return [_c('span',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]},proxy:true}],null,false,3373041507)},[_c('TopStickyInfo',{attrs:{\"post\":_vm.post}}),_c('publish-gate',{attrs:{\"slot\":\"op-append\"},slot:\"op-append\"})],1):_vm._e(),_c('div',[_c('Main',{attrs:{\"withoutRight\":false}},[_c('div',{staticClass:\"m-community-single__main\"},[_c('div',{staticClass:\"m-community-single__left\"},[_vm._t(\"default\"),_c('Footer')],2)])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"m-sticky-info\"},[_c('h2',{staticClass:\"u-title\",style:(_vm.hightStyle)},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"u-infos\"},[(_vm.isTop)?_c('span',{staticClass:\"u-status u-sub-block top\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 14 14\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#FFF\",\"d\":\"M14 1.647H0V0h14v1.647zm-.778 6.405L7 3.294.778 8.052h4.666V14h3.112V8.052h4.666z\"}})])]):_vm._e(),(_vm.isStar)?_c('span',{staticClass:\"u-status u-sub-block star\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"15\",\"height\":\"15\",\"viewBox\":\"0 0 15 15\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M15 7.5L9.515 5.485 7.5 0 5.485 5.485 0 7.5l5.485 2.015L7.5 15l2.015-5.485L15 7.5z\",\"fill\":\"#FFF\"}})])]):_vm._e(),_vm._l((_vm.tags),function(item,index){return _c('span',{key:index,staticClass:\"u-tag u-meta u-sub-block\",style:({ backgroundColor: item.color })},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),(_vm.collection)?_c('a',{staticClass:\"u-book u-sub-block u-meta\",attrs:{\"href\":_vm.collection.url,\"target\":\"_blank\"}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"11\",\"height\":\"16\",\"viewBox\":\"0 0 11 16\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#A6A6A6\",\"d\":\"M5.5 12.1L0 16V0h11v16l-5.5-3.9z\"}})]),_vm._v(\" \"+_vm._s(_vm.collection.name)+\" \")]):_vm._e()],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <transition name=\"slide-fade\">\n        <div v-show=\"show\" class=\"m-sticky-info\">\n            <h2 :style=\"hightStyle\" class=\"u-title\">{{ title }}</h2>\n            <div class=\"u-infos\">\n                <span v-if=\"isTop\" class=\"u-status u-sub-block top\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#FFF\" d=\"M14 1.647H0V0h14v1.647zm-.778 6.405L7 3.294.778 8.052h4.666V14h3.112V8.052h4.666z\"/></svg>\n                </span>\n\n                <span v-if=\"isStar\" class=\"u-status u-sub-block star\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M15 7.5L9.515 5.485 7.5 0 5.485 5.485 0 7.5l5.485 2.015L7.5 15l2.015-5.485L15 7.5z\" fill=\"#FFF\"/></svg>\n                </span>\n\n                <span\n                    v-for=\"(item, index) in tags\"\n                    :key=\"index\"\n                    class=\"u-tag u-meta u-sub-block\"\n                    :style=\"{ backgroundColor: item.color }\"\n                >\n                    {{ item.label }}\n                </span>\n\n                <a v-if=\"collection\" class=\"u-book u-sub-block u-meta\" :href=\"collection.url\" target=\"_blank\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#A6A6A6\" d=\"M5.5 12.1L0 16V0h11v16l-5.5-3.9z\"/></svg>\n                    {{ collection.name }}\n                </a>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nexport default {\n    props: [\"post\"],\n    data() {\n        return {\n            show: false,\n        };\n    },\n    computed: {\n        hightStyle: function () {\n            if (this.post.is_hight && this.post.hight_color) {\n                return {\n                    color: this.post.hight_color,\n                };\n            } else {\n                return {};\n            }\n        },\n        collection: function () {\n            if (this.post.collection && this.post.collection.title) {\n                return {\n                    name: this.post.collection.title,\n                    url: `/collection/${this.post.collection_id}`,\n                };\n            }\n            return null;\n        },\n        tags: function () {\n            return this.post?.color_tag;\n        },\n        isStar: function () {\n            return this.post?.is_star;\n        },\n        isTop: function () {\n            return this.post?.is_top || this.post?.is_category_top;\n        },\n        title: function () {\n            return this.post?.title || \"无标题\";\n        },\n    },\n    mounted() {\n        document.addEventListener(\"scroll\", this.handleScroll);\n    },\n    beforeDestroy() {\n        document.removeEventListener(\"scroll\", this.handleScroll);\n    },\n    methods: {\n        handleScroll() {\n            const dom = document.getElementsByClassName(\"m-single-header\");\n            if (dom.length) {\n                const rect = dom[0].getBoundingClientRect();\n                if (document.documentElement.scrollTop > rect.y + rect.height) {\n                    this.show = true;\n                } else {\n                    this.show = false;\n                }\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.m-sticky-info {\n    display: flex;\n    gap: 8px;\n    // opacity: 0;\n    // transition: 0.5s;\n    // &.active {\n    //     opacity: 1;\n    // }\n    .u-title {\n        .bold;\n        .fz(16px,28px);\n        margin: 0;\n        display: inline-block;\n        color: #3d454d;\n\n        white-space: nowrap; /* 保持文本在一行显示 */\n        overflow: hidden;\n        text-overflow: ellipsis; /* 超出部分用省略号表示 */\n    }\n    .u-infos {\n        .flex;\n        gap: 8px;\n        align-items: center;\n\n        .u-status {\n            .flex;\n            gap: 1px;\n            align-items: center;\n            color: white;\n            height: 22px;\n            width: 22px;\n            border-radius: 4px;\n            box-sizing: border-box;\n            user-select: none;\n            justify-content: center;\n            &.top {\n                background: rgba(255, 105, 105, 1);\n            }\n            &.star {\n                background: rgba(255, 187, 105, 1);\n            }\n        }\n        .u-tag {\n            .fz(14px,22px);\n            padding: 0 6px;\n            border-radius: 4px;\n            background: @color;\n            color: #fff;\n        }\n        .u-podate {\n            margin-left: 10px;\n        }\n        .u-book {\n            .fz(12px,22px);\n            position: relative;\n            padding-left: 27px;\n            padding-right: 8px;\n            border-radius: 4px;\n            border: 1px solid rgba(146, 148, 151, 1);\n            color: rgba(146, 148, 151, 1);\n            box-sizing: border-box;\n            svg {\n                position: absolute;\n                left: 12px;\n                top: 0;\n                width: 11px;\n                height: 16px;\n                margin-right: 0;\n            }\n        }\n    }\n}\n@media screen and (max-width: @ipad) {\n    .u-meta {\n        display: none;\n    }\n}\n@media screen and (max-width: @phone) {\n    .u-podate {\n        display: none;\n    }\n}\n\n.slide-fade-enter-active {\n    transition: all 0.3s ease;\n}\n.slide-fade-leave-active {\n    transition: all 0.3s cubic-bezier(1, 0.5, 0.8, 1);\n}\n.slide-fade-enter, .slide-fade-leave-to\n/* .slide-fade-leave-active for below version 2.1.8 */ {\n    transform: translateX(10px);\n    opacity: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./top_sticky_info.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./top_sticky_info.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./top_sticky_info.vue?vue&type=template&id=f43a3c28&scoped=true\"\nimport script from \"./top_sticky_info.vue?vue&type=script&lang=js\"\nexport * from \"./top_sticky_info.vue?vue&type=script&lang=js\"\nimport style0 from \"./top_sticky_info.vue?vue&type=style&index=0&id=f43a3c28&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f43a3c28\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"app\" class=\"p-community-single\">\n        <Header></Header>\n        <Breadcrumb\n            v-if=\"post\"\n            name=\"魔盒论坛\"\n            slug=\"community\"\n            :publishEnable=\"false\"\n            :adminEnable=\"true\"\n            :feedbackEnable=\"true\"\n            :crumbEnable=\"true\"\n            :showExtend=\"true\"\n        >\n            <TopStickyInfo :post=\"post\" />\n            <!-- <Info /> -->\n            <publish-gate slot=\"op-append\" />\n            <template #op-prepend>\n                <AdminDrop v-if=\"isTeammate\" :is-community=\"true\" :post=\"finalPost\" :user-id=\"user_id\" />\n            </template>\n            <template #title>\n                <span>\n                    {{ title }}\n                </span>\n            </template>\n        </Breadcrumb>\n\n        <div>\n            <Main :withoutRight=\"false\">\n                <div class=\"m-community-single__main\">\n                    <div class=\"m-community-single__left\">\n                        <slot></slot>\n                        <Footer></Footer>\n                    </div>\n\n                    <!-- <div class=\"m-community-single__right\">\n                        <PostTopic v-if=\"post.id\" type=\"community\" :id=\"~~post.id\" />\n                    </div> -->\n                </div>\n            </Main>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TopStickyInfo from \"@/components/community/top_sticky_info.vue\";\nimport publishGate from \"@/components/publish_gate.vue\";\nimport { getAppIcon, getAppID } from \"@jx3box/jx3box-common/js/utils\";\nimport AdminDrop from \"@jx3box/jx3box-common-ui/src/bread/AdminDrop.vue\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nexport default {\n    name: \"CommunitySingleLayout\",\n    props: [\"post\"],\n    data: function () {\n        return {\n            id: getAppID(),\n        };\n    },\n    computed: {\n        isTeammate() {\n            return User.isTeammate();\n        },\n        user_id: function () {\n            return this.post ? this.post.user_id : \"\";\n        },\n        title() {\n            return this.post ? this.post.title : document.title;\n        },\n        finalPost() {\n            return {\n                ...this.post,\n                post_title: this.post.title,\n                ID: this.post.id,\n                post_type: \"community\",\n            }\n        }\n    },\n    mounted() {},\n    methods: { getAppIcon },\n    components: {\n        \"publish-gate\": publishGate,\n        AdminDrop,\n        TopStickyInfo,\n        // PostTopic,\n        // Info,\n    },\n};\n</script>\n\n<style lang=\"less\">\n.p-community-single {\n    .m-community-single__main {\n        display: flex;\n    }\n    .c-main {\n        flex: 1;\n        margin-left: 0;\n        margin-right: 0;\n        .m-community-single {\n            flex: 1;\n        }\n        .m-community-single__left {\n            flex: 1;\n        }\n        .m-community-single__right {\n            width: 280px;\n            box-sizing: border-box;\n            padding: 16px;\n            background: rgba(250, 250, 250, 1);\n            img {\n                width: 100%;\n                cursor: pointer;\n            }\n        }\n    }\n    @media screen and (max-width: @ipad) {\n        .c-main {\n            .m-community-single__right {\n                display: none;\n            }\n        }\n    }\n    @media screen and (max-width: @phone) {\n        .m-community-single__main {\n            display: block;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingleLayout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingleLayout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommunitySingleLayout.vue?vue&type=template&id=8b76e36c\"\nimport script from \"./CommunitySingleLayout.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitySingleLayout.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommunitySingleLayout.vue?vue&type=style&index=0&id=8b76e36c&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.post)?_c('header',{staticClass:\"m-single-header\"},[_c('div',{staticClass:\"m-single-title\"},[_c('span',{staticClass:\"u-title u-sub-block\"},[_vm._t(\"title_before\"),(_vm.styles)?_c('div',{staticClass:\"m-topic-category-box\"},[_c('div',{class:`m-topic-category`,style:(`background-color: ${_vm.styles.hoverColor};color:${_vm.styles.color};`)},[_c('img',{directives:[{name:\"svg-inline\",rawName:\"v-svg-inline\"}],staticClass:\"u-icon\",attrs:{\"src\":require(`@/assets/img/community/category/${_vm.styles.icon}.svg`)}}),_c('div',[_vm._v(_vm._s(_vm.post.category))])])]):_vm._e(),(_vm.post.post_status != 'publish' || !!~~_vm.post.visible)?_c('i',{staticClass:\"u-private\"},[(_vm.post.post_status == 'draft' || _vm.post.post_status == 'pending' || !!~~_vm.post.visible)?_c('i',{staticClass:\"el-icon-lock\",staticStyle:{\"color\":\"#fb9b24\"}}):_vm._e(),(_vm.post.post_status == 'dustbin')?_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"color\":\"#c00\"}}):_vm._e()]):_vm._e(),_c('span',{staticClass:\"u-title-text\",style:(_vm.hightStyle)},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"u-title-toolbar\"},[(_vm.isPostOwner)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.onEditClick}},[_vm._v(\"编辑\")]):_vm._e(),_c('el-button',{class:`u-only-btn ${_vm.onlyAuthor && 'u-unset'}`,attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setOnlyAuthor(!_vm.onlyAuthor)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyAuthor),expression:\"!onlyAuthor\"}],attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#FFF\",\"d\":\"M8 .667c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zM8 2a2.666 2.666 0 110 5.333A2.666 2.666 0 118 2zm6 9.333v-.666a2 2 0 00-4 0v.666h-.667v3.334h5.333v-3.334H14zM2.667 14.667H4a4 4 0 014-4V9.333a5.333 5.333 0 00-5.333 5.334zM12 10c.368 0 .666.299.666.667v.666h-1.333v-.666c0-.368.299-.667.667-.667z\"}})]),_vm._v(\" \"+_vm._s(_vm.onlyAuthor ? \"取消只看楼主\" : \"只看楼主\")+\" \")])],1)],2)]),_c('div',{staticClass:\"m-single-info\"},[_vm._t(\"default\"),(_vm.isTop)?_c('span',{staticClass:\"u-status u-sub-block top\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 14 14\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#FFF\",\"d\":\"M14 1.647H0V0h14v1.647zm-.778 6.405L7 3.294.778 8.052h4.666V14h3.112V8.052h4.666z\"}})]),_vm._v(\" 置顶 \")]):_vm._e(),(_vm.isStar)?_c('span',{staticClass:\"u-status u-sub-block star\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"15\",\"height\":\"15\",\"viewBox\":\"0 0 15 15\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M15 7.5L9.515 5.485 7.5 0 5.485 5.485 0 7.5l5.485 2.015L7.5 15l2.015-5.485L15 7.5z\",\"fill\":\"#FFF\"}})]),_vm._v(\" 精选 \")]):_vm._e(),_vm._l((_vm.tags),function(item,index){return _c('span',{key:index,staticClass:\"u-tag u-sub-block\",style:({ backgroundColor: item.color })},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),(_vm.collection)?_c('a',{staticClass:\"u-book u-sub-block\",attrs:{\"href\":_vm.collection.url,\"target\":\"_blank\"}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"11\",\"height\":\"16\",\"viewBox\":\"0 0 11 16\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#A6A6A6\",\"d\":\"M5.5 12.1L0 16V0h11v16l-5.5-3.9z\"}})]),_vm._v(\" \"+_vm._s(_vm.collection.name)+\" \")]):_vm._e(),_c('span',{staticClass:\"u-sub-block\",attrs:{\"title\":'发布日期:' + _vm.post_time}},[_c('i',{staticClass:\"u-icon-podate\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#6a737d\",\"viewBox\":\"0 0 485.2 485.2\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M60.7 75.8V15.2C60.7 6.8 67.4 0 75.8 0 84.2 0 91 6.8 91 15.2v60.7C91 84.2 84.2 91 75.8 91c-8.4 0-15.1-6.8-15.1-15.2zM318.4 91c8.4 0 15.2-6.8 15.2-15.2V15.2c0-8.4-6.8-15.2-15.2-15.2-8.4 0-15.2 6.8-15.2 15.2v60.7c.1 8.3 6.8 15.1 15.2 15.1zM60.7 182h60.7v60.7H60.7zM60.7 272.9h60.7v60.7H60.7zM151.6 182h60.7v60.7h-60.7zM151.6 272.9h60.7v60.7h-60.7z\"}}),_c('path',{attrs:{\"d\":\"M30 361.2v-210h334c.2 70.7.4 141.4.7 212.1 9.8 0 19.6-.1 29.3-.1V93.6c0-18.5-14.5-33.4-32.5-33.4H349v15.2c0 16.7-13.7 30.3-30.5 30.3S288 92.1 288 75.4V60.2H106v15.2c0 16.7-13.7 30.3-30.5 30.3S45 92.1 45 75.4V60.2H32.5c-18 0-32.5 15-32.5 33.4v267.2c0 9.2 3.6 17.5 9.5 23.6 7.8 8.1 18.5 9.3 23 9.8 22.1 2.4 165.3 2.9 361.5 1v-32c-120.5.3-241 .7-361.5 1-.8-1-1.7-2-2.5-3z\"}}),_c('path',{attrs:{\"d\":\"M242.6 182h60.6v60.7h-60.6zM242.6 272.9h60.7v60.7h-60.7z\"}})])]),_c('time',[_vm._v(_vm._s(_vm.post_date))])]),_c('span',{staticClass:\"u-views u-sub-block\"},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" \"+_vm._s(_vm.views)+\" \")]),(_vm.wordCount)?_c('span',{staticClass:\"u-word-count u-sub-block\",attrs:{\"title\":\"累计字数\"}},[_c('i',{staticClass:\"el-icon-sunny\"}),_vm._v(\" \"+_vm._s(_vm.wordCount)+\" \")]):_vm._e(),_vm._t(\"append\")],2),_c('div',{staticClass:\"u-title-toolbar u-phone-show\"},[(_vm.isPostOwner)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.onEditClick}},[_vm._v(\"编辑\")]):_vm._e(),_c('el-button',{class:`u-only-btn ${_vm.onlyAuthor && 'u-unset'}`,attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setOnlyAuthor(!_vm.onlyAuthor)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyAuthor),expression:\"!onlyAuthor\"}],attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"fill\":\"#FFF\",\"d\":\"M8 .667c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zM8 2a2.666 2.666 0 110 5.333A2.666 2.666 0 118 2zm6 9.333v-.666a2 2 0 00-4 0v.666h-.667v3.334h5.333v-3.334H14zM2.667 14.667H4a4 4 0 014-4V9.333a5.333 5.333 0 00-5.333 5.334zM12 10c.368 0 .666.299.666.667v.666h-1.333v-.666c0-.368.299-.667.667-.667z\"}})]),_vm._v(\" \"+_vm._s(_vm.onlyAuthor ? \"取消只看楼主\" : \"只看楼主\")+\" \")])],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <header class=\"m-single-header\" v-if=\"post\">\n        <!-- 标题 -->\n        <div class=\"m-single-title\">\n            <span class=\"u-title u-sub-block\">\n                <slot name=\"title_before\"></slot>\n                <div class=\"m-topic-category-box\" v-if=\"styles\">\n                    <div\n                        :class=\"`m-topic-category`\"\n                        :style=\"`background-color: ${styles.hoverColor};color:${styles.color};`\"\n                    >\n                        <img\n                            v-svg-inline\n                            class=\"u-icon\"\n                            :src=\"require(`@/assets/img/community/category/${styles.icon}.svg`)\"\n                        />\n                        <div>{{ post.category }}</div>\n                    </div>\n                </div>\n\n                <i class=\"u-private\" v-if=\"post.post_status != 'publish' || !!~~post.visible\">\n                    <i\n                        class=\"el-icon-lock\"\n                        v-if=\"post.post_status == 'draft' || post.post_status == 'pending' || !!~~post.visible\"\n                        style=\"color: #fb9b24\"\n                    ></i>\n                    <i class=\"el-icon-delete\" v-if=\"post.post_status == 'dustbin'\" style=\"color: #c00\"></i>\n                </i>\n                <span :style=\"hightStyle\" class=\"u-title-text\">{{ title }}</span>\n                <div class=\"u-title-toolbar\">\n                    <el-button size=\"small\" @click=\"onEditClick\" v-if=\"isPostOwner\" type=\"warning\" icon=\"el-icon-edit\"\n                        >编辑</el-button\n                    >\n                    <el-button\n                        size=\"small\"\n                        :class=\"`u-only-btn ${onlyAuthor && 'u-unset'}`\"\n                        type=\"primary\"\n                        @click=\"setOnlyAuthor(!onlyAuthor)\"\n                    >\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" v-bind:svg-inline=\"''\" v-show=\"!onlyAuthor\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#FFF\" d=\"M8 .667c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zM8 2a2.666 2.666 0 110 5.333A2.666 2.666 0 118 2zm6 9.333v-.666a2 2 0 00-4 0v.666h-.667v3.334h5.333v-3.334H14zM2.667 14.667H4a4 4 0 014-4V9.333a5.333 5.333 0 00-5.333 5.334zM12 10c.368 0 .666.299.666.667v.666h-1.333v-.666c0-.368.299-.667.667-.667z\"/></svg>\n                        {{ onlyAuthor ? \"取消只看楼主\" : \"只看楼主\" }}\n                    </el-button>\n                </div>\n            </span>\n        </div>\n\n        <!-- 信息 -->\n        <div class=\"m-single-info\">\n            <slot></slot>\n            <span v-if=\"isTop\" class=\"u-status u-sub-block top\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#FFF\" d=\"M14 1.647H0V0h14v1.647zm-.778 6.405L7 3.294.778 8.052h4.666V14h3.112V8.052h4.666z\"/></svg>\n                置顶\n            </span>\n\n            <span v-if=\"isStar\" class=\"u-status u-sub-block star\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M15 7.5L9.515 5.485 7.5 0 5.485 5.485 0 7.5l5.485 2.015L7.5 15l2.015-5.485L15 7.5z\" fill=\"#FFF\"/></svg>\n                精选\n            </span>\n\n            <!-- 帖子分类 -->\n            <!-- <span class=\"u-status u-sub-block\" :style=\"`background-color: ${styles.color};`\">\n                <img v-svg-inline :src=\"require(`@/assets/img/community/category/${styles.icon}.svg`)\" />\n                {{ post.category }}\n            </span> -->\n\n            <!-- 标签 -->\n            <span\n                v-for=\"(item, index) in tags\"\n                :key=\"index\"\n                class=\"u-tag u-sub-block\"\n                :style=\"{ backgroundColor: item.color }\"\n            >\n                {{ item.label }}\n            </span>\n            <!-- 小册 -->\n            <a v-if=\"collection\" class=\"u-book u-sub-block\" :href=\"collection.url\" target=\"_blank\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#A6A6A6\" d=\"M5.5 12.1L0 16V0h11v16l-5.5-3.9z\"/></svg>\n                {{ collection.name }}\n            </a>\n\n            <!-- 发布日期 -->\n            <span class=\"u-sub-block\" :title=\"'发布日期:' + post_time\">\n                <i class=\"u-icon-podate\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#6a737d\" viewBox=\"0 0 485.2 485.2\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M60.7 75.8V15.2C60.7 6.8 67.4 0 75.8 0 84.2 0 91 6.8 91 15.2v60.7C91 84.2 84.2 91 75.8 91c-8.4 0-15.1-6.8-15.1-15.2zM318.4 91c8.4 0 15.2-6.8 15.2-15.2V15.2c0-8.4-6.8-15.2-15.2-15.2-8.4 0-15.2 6.8-15.2 15.2v60.7c.1 8.3 6.8 15.1 15.2 15.1zM60.7 182h60.7v60.7H60.7zM60.7 272.9h60.7v60.7H60.7zM151.6 182h60.7v60.7h-60.7zM151.6 272.9h60.7v60.7h-60.7z\"/><path d=\"M30 361.2v-210h334c.2 70.7.4 141.4.7 212.1 9.8 0 19.6-.1 29.3-.1V93.6c0-18.5-14.5-33.4-32.5-33.4H349v15.2c0 16.7-13.7 30.3-30.5 30.3S288 92.1 288 75.4V60.2H106v15.2c0 16.7-13.7 30.3-30.5 30.3S45 92.1 45 75.4V60.2H32.5c-18 0-32.5 15-32.5 33.4v267.2c0 9.2 3.6 17.5 9.5 23.6 7.8 8.1 18.5 9.3 23 9.8 22.1 2.4 165.3 2.9 361.5 1v-32c-120.5.3-241 .7-361.5 1-.8-1-1.7-2-2.5-3z\"/><path d=\"M242.6 182h60.6v60.7h-60.6zM242.6 272.9h60.7v60.7h-60.7z\"/></svg>\n                </i>\n                <time>{{ post_date }}</time>\n            </span>\n\n            <!-- 查看次数 -->\n            <span class=\"u-views u-sub-block\">\n                <i class=\"el-icon-view\"></i>\n                {{ views }}\n            </span>\n\n            <span class=\"u-word-count u-sub-block\" v-if=\"wordCount\" title=\"累计字数\">\n                <i class=\"el-icon-sunny\"></i>\n                {{ wordCount }}\n            </span>\n\n            <!-- 编辑 -->\n            <!-- <a class=\"u-edit u-sub-block\" :href=\"edit_link\" v-if=\"canEdit\">\n                <i class=\"u-icon-edit el-icon-edit-outline\"></i>\n                <span>编辑</span>\n            </a> -->\n\n            <slot name=\"append\"></slot>\n        </div>\n\n        <div class=\"u-title-toolbar u-phone-show\">\n            <el-button size=\"small\" @click=\"onEditClick\" v-if=\"isPostOwner\" type=\"warning\" icon=\"el-icon-edit\"\n                >编辑</el-button\n            >\n            <el-button\n                size=\"small\"\n                :class=\"`u-only-btn ${onlyAuthor && 'u-unset'}`\"\n                type=\"primary\"\n                @click=\"setOnlyAuthor(!onlyAuthor)\"\n            >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" v-bind:svg-inline=\"''\" v-show=\"!onlyAuthor\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" fill=\"#FFF\" d=\"M8 .667c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zM8 2a2.666 2.666 0 110 5.333A2.666 2.666 0 118 2zm6 9.333v-.666a2 2 0 00-4 0v.666h-.667v3.334h5.333v-3.334H14zM2.667 14.667H4a4 4 0 014-4V9.333a5.333 5.333 0 00-5.333 5.334zM12 10c.368 0 .666.299.666.667v.666h-1.333v-.666c0-.368.299-.667.667-.667z\"/></svg>\n                {{ onlyAuthor ? \"取消只看楼主\" : \"只看楼主\" }}\n            </el-button>\n        </div>\n    </header>\n</template>\n\n<script>\nimport { __Root, __clients } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { showDate, showTime } from \"@jx3box/jx3box-common/js/moment\";\nimport { editLink } from \"@jx3box/jx3box-common/js/utils.js\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nimport $ from \"jquery\";\nimport { formatCategoryList } from \"@/utils/community\";\nimport { getTopicBucket } from \"@/service/cms\";\nexport default {\n    name: \"single-header\",\n    props: [\"post\", \"stat\"],\n    inject: [\"setOnlyAuthor\"],\n    data: function () {\n        return {\n            categoryList: [],\n            wordCount: 0,\n        };\n    },\n    computed: {\n        hightStyle: function () {\n            if (this.post.is_hight && this.post.hight_color) {\n                return {\n                    color: this.post.hight_color,\n                };\n            } else {\n                return {};\n            }\n        },\n        onlyAuthor: function () {\n            const v = this.$route.query.onlyAuthor;\n            return (v == true || v == \"true\") && true;\n        },\n        // 是否为拥有者\n        isPostOwner() {\n            return this.post?.user_id == User.getInfo()?.uid;\n        },\n        collection: function () {\n            if (this.post.collection && this.post.collection.title) {\n                return {\n                    name: this.post.collection.title,\n                    url: `/collection/${this.post.collection_id}`,\n                };\n            }\n            return null;\n        },\n        tags: function () {\n            return this.post?.color_tag || [];\n        },\n        isStar: function () {\n            return this.post?.is_star;\n        },\n        isTop: function () {\n            return this.post?.is_top || this.post?.is_category_top;\n        },\n        title: function () {\n            return this.post?.title || \"无标题\";\n        },\n        post_date: function () {\n            return showDate(new Date(this.post?.created_at));\n        },\n        update_date: function () {\n            return showDate(new Date(this.post?.updated_at));\n        },\n        post_time: function () {\n            return showTime(new Date(this.post?.created_at));\n        },\n        update_time: function () {\n            return showTime(new Date(this.post?.updated_at));\n        },\n        views: function () {\n            return this.stat?.views || \"-\";\n        },\n        edit_link: function () {\n            return editLink(this.post?.post_type, this.post?.ID);\n        },\n        canEdit: function () {\n            return this.post?.user_id == User.getInfo().uid || User.isEditor();\n        },\n        styles: function () {\n            let item = this.categoryList.find((item) => item.value === this.post.category);\n            if (item) {\n                return item;\n            }\n            return null;\n        },\n    },\n    watch: {\n        post: {\n            deep: true,\n            handler: function (val) {\n                this.countWords();\n            },\n        },\n    },\n    methods: {\n        showClientLabel: function (val) {\n            return __clients[val];\n        },\n        countWords: function () {\n            this.$nextTick(() => {\n                // 需要去除空格 \\n \\g\n                const text = $(\".c-article\")\n                    .text()\n                    ?.replace(\n                        /[\\s|\\n|\\r|\\t|\\g|\\ |\\~|\\`|\\!|\\@|\\#|\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\-|\\_|\\+|\\=|\\||\\\\|\\[|\\]|\\{|\\}|\\;|\\:|\\\"|\\'|\\,|\\<|\\.|\\>|\\/|\\?|\\，|\\。|\\？|\\：|\\；|\\‘|\\’|\\”|\\“|\\、|\\·|\\！|\\（|\\）|\\》|\\《|\\『|\\』]/g,\n                        \"\"\n                    );\n\n                this.wordCount = text?.length || 0;\n            });\n        },\n        getCategoryList() {\n            getTopicBucket({ type: \"community\", search: this.post.category }).then((res) => {\n                this.categoryList = formatCategoryList(res.data.data);\n            });\n        },\n        onEditClick() {\n            window.location.href = editLink(\"community\", this.post?.id);\n        },\n    },\n    mounted: function () {\n        this.getCategoryList();\n    },\n};\n</script>\n\n<style lang=\"less\">\n.i-client-all {\n    border: 1px solid #a26ef7;\n    color: #a26ef7;\n}\n.i-client-std {\n    border: 1px solid #f0b400;\n    color: #f0b400;\n}\n.i-client-origin {\n    border: 1px solid #0eb7ce;\n    color: #0eb7ce;\n}\n.i-client-wujie {\n    border: 1px solid #fc79bf;\n    color: #fc79bf;\n}\n\n.m-single-header {\n    padding-top: 20px;\n    padding-bottom: 20px;\n    // padding-right: 280px;\n    .pr;\n    .u-sub-block {\n        .dbi;\n        .y(top);\n    }\n}\n@media screen and (max-width: @phone) {\n    .m-single-header {\n        padding-right: 0;\n    }\n}\n@media print {\n    .m-single-header {\n        padding-right: 0;\n    }\n}\n\n.m-single-title {\n    .fz(32px);\n    padding: 1px 0;\n\n    .u-title {\n        color: @color;\n        // &:hover {\n        //     color: @primary;\n        // }\n        letter-spacing: 0.5px;\n        font-weight: 300;\n        .db;\n        .nobreak;\n    }\n    .u-author {\n        .pr;\n    }\n\n    .u-original {\n        background-color: #6f42c1;\n        color: #fff;\n        .fz(14px, 20px);\n        font-style: normal;\n        font-weight: normal;\n        padding: 2px 5px;\n        .mr(5px);\n        // .fl;\n    }\n\n    .u-private {\n        .y(-2px);\n        margin-right: 5px;\n        color: #111;\n    }\n}\n\n.u-title-toolbar.u-phone-show {\n    display: none;\n    align-items: center;\n    .el-button--small,\n    .el-button--small.is-round {\n        padding: 0 10px;\n        height: 25px;\n        box-sizing: border-box;\n        overflow: hidden;\n    }\n}\n.u-title-toolbar {\n    .fr;\n    .u-only-btn {\n        position: relative;\n        background: rgba(64, 128, 255, 1);\n        border: 1px solid rgba(64, 128, 255, 1);\n        display: inline-block;\n        height: 32px;\n        &.u-unset {\n            background: rgba(212, 48, 48, 1);\n            border-color: rgba(212, 48, 48, 1);\n        }\n        &:hover {\n            opacity: 0.8;\n        }\n        svg {\n            vertical-align: middle;\n            position: relative;\n            top: -1px;\n            width: 12px;\n            height: 12px;\n        }\n    }\n}\n@media screen and (max-width: @phone) {\n    .m-single-title {\n        .fz(1rem, 1.8);\n        .u-title {\n            word-break: break-all;\n            white-space: normal;\n            font-weight: normal;\n        }\n    }\n}\n@media print {\n    .m-single-title {\n        .x;\n    }\n}\n\n.m-single-info {\n    margin-top: 10px;\n    .clearfix;\n    .fz(12px, 22px);\n    color: #666;\n    .pr;\n\n    .u-client {\n        // .fl;\n        font-style: normal;\n        .fz(12px);\n        padding: 0px 5px;\n        .r(3px);\n        // .mr(10px);\n    }\n\n    * {\n        .dbi;\n    }\n\n    svg {\n        fill: #666;\n        .size(14px);\n        .y;\n        .mr(3px);\n    }\n\n    .u-sub-block {\n        .mr(12px);\n        .fl;\n    }\n\n    .u-status {\n        .flex;\n        gap: 1px;\n        align-items: center;\n        color: white;\n        height: 22px;\n        padding: 4px 6px;\n        border-radius: 4px;\n        box-sizing: border-box;\n        user-select: none;\n        margin-right: 6px;\n        &.top {\n            background: rgba(255, 105, 105, 1);\n        }\n        &.star {\n            background: rgba(255, 187, 105, 1);\n        }\n    }\n    .u-tag {\n        margin-right: 6px;\n        padding: 0 6px;\n        border-radius: 4px;\n        background: @color;\n        color: #fff;\n    }\n    .u-podate {\n        margin-left: 10px;\n    }\n    .u-book {\n        .fz(12px,22px);\n        height: 22px;\n        box-sizing: border-box;\n        position: relative;\n        padding-left: 27px;\n        padding-right: 8px;\n        border-radius: 4px;\n        border: 1px solid rgba(146, 148, 151, 1);\n        color: rgba(146, 148, 151, 1);\n\n        svg {\n            position: absolute;\n            left: 12px;\n            top: 0;\n            width: 11px;\n            height: 16px;\n            margin-right: 0;\n        }\n    }\n\n    .u-author {\n        a:hover {\n            box-shadow: 0 1px 0 @color-link;\n        }\n        i {\n            .pr;\n            top: -2px;\n        }\n    }\n\n    .u-label {\n        .mr(5px);\n        background-color: #eee;\n        padding: 0 5px;\n        .r(2px);\n        font-style: normal;\n    }\n\n    .u-views {\n        i {\n            .fz(15px);\n            .y;\n        }\n    }\n\n    .u-edit {\n        i {\n            &:before {\n                font-size: 16px;\n            }\n            .pr;\n            top: 2px;\n            .mr(3px);\n        }\n        &:hover {\n            box-shadow: 0 1px 0 @color-link;\n        }\n    }\n}\n@media screen and (max-width: @ipad) {\n    .m-single-info {\n        .u-meta {\n            .none;\n        }\n    }\n}\n@media screen and (max-width: @phone) {\n    .u-title {\n        .u-title-toolbar {\n            display: none;\n        }\n    }\n    .u-title-toolbar.u-phone-show {\n        display: flex;\n        float: unset;\n        padding: 0;\n    }\n    .m-single-info {\n        .u-podate {\n            .none;\n        }\n        & > * {\n            margin-bottom: 8px;\n        }\n    }\n}\n@media print {\n    .m-single-info {\n        .u-meta,\n        .u-views,\n        .u-edit {\n            .none;\n        }\n        .x;\n        .u-sub-block {\n            float: none;\n        }\n        .u-name {\n            color: @color;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./post_header.vue?vue&type=template&id=0db05d1f\"\nimport script from \"./post_header.vue?vue&type=script&lang=js\"\nexport * from \"./post_header.vue?vue&type=script&lang=js\"\nimport style0 from \"./post_header.vue?vue&type=style&index=0&id=0db05d1f&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",staticClass:\"c-comment-box m-comment-reply\",attrs:{\"model\":_vm.newComment}},[_c('el-form-item',[_c('el-input',{attrs:{\"rows\":\"6\",\"type\":\"textarea\",\"maxlength\":_vm.maxLength,\"show-word-limit\":\"\",\"placeholder\":\"参与讨论...\",\"id\":_vm.inputId},model:{value:(_vm.newComment.content),callback:function ($$v) {_vm.$set(_vm.newComment, \"content\", $$v)},expression:\"newComment.content\"}}),_c('div',{staticClass:\"c-comment-tools\"},[_c('div',{staticClass:\"u-tools\"},[_c('i',{staticClass:\"el-icon-picture-outline u-upload-icon\",on:{\"click\":function($event){_vm.showUploader = !_vm.showUploader}}}),_c('Emotion',{staticClass:\"c-comment-emotion\",attrs:{\"type\":\"pop\",\"max\":6},on:{\"selected\":_vm.handleEmotionSelected}}),_c('quickReply',{on:{\"reply\":_vm.onQuickReply}})],1)]),_c('div',{staticClass:\"u-toolbar\"},[_c('el-button',{staticClass:\"u-publish\",attrs:{\"type\":\"primary\",\"disabled\":_vm.disableSubmitBtn},on:{\"click\":_vm.onSubmit}},[_vm._v(\" 跟帖 \")])],1),(_vm.showUploader)?_c('Uploader',{ref:\"uploader\",staticClass:\"u-uploader\",on:{\"onFinish\":_vm.attachmentUploadFinish,\"onError\":_vm.attachmentUplodError}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-upload',{ref:\"upload\",attrs:{\"action\":_vm.url,\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"auto-upload\":false,\"file-list\":_vm.fileList,\"limit\":_vm.maxCount,\"accept\":_vm.acceptedExtensions.reduce((acc, cur) => acc + `.${cur},`, ''),\"multiple\":\"\",\"with-credentials\":\"\",\"on-exceed\":_vm.onExceed,\"on-change\":_vm.onChange,\"on-success\":_vm.onSuccess,\"on-error\":_vm.onError}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\" 最多上传 \"+_vm._s(_vm.maxCount)+\" 张 \"+_vm._s(_vm.acceptedExtensions.join(\" / \").toUpperCase())+\" 格式图片，单张图片不能超过 \"+_vm._s(_vm.maxSize / 1024 / 1024)+\" MB \")])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"60%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-upload\n            :action=\"url\"\n            ref=\"upload\"\n            list-type=\"picture-card\"\n            :on-preview=\"handlePictureCardPreview\"\n            :auto-upload=\"false\"\n            :file-list=\"fileList\"\n            :limit=\"maxCount\"\n            :accept=\"acceptedExtensions.reduce((acc, cur) => acc + `.${cur},`, '')\"\n            multiple\n            with-credentials\n            :on-exceed=\"onExceed\"\n            :on-change=\"onChange\"\n            :on-success=\"onSuccess\"\n            :on-error=\"onError\"\n        >\n            <i class=\"el-icon-plus\"></i>\n            <div slot=\"tip\" class=\"el-upload__tip\">\n                最多上传 {{ maxCount }} 张 {{ acceptedExtensions.join(\" / \").toUpperCase() }} 格式图片，单张图片不能超过\n                {{ maxSize / 1024 / 1024 }} MB\n            </div>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n            <img width=\"60%\" :src=\"dialogImageUrl\" alt />\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { __cms } from \"@jx3box/jx3box-common/data/jx3box.json\";\nconst API_Root = process.env.NODE_ENV === \"production\" ? __cms : \"/\";\nconst API = API_Root + \"api/cms/upload\";\nexport default {\n    data() {\n        return {\n            url: API,\n            dialogImageUrl: \"\",\n            dialogVisible: false,\n            fileList: [],\n            successList: [],\n\n            acceptedExtensions: [\"jpg\", \"jpeg\", \"png\", \"gif\"],\n            maxCount: 5,\n            maxSize: 10 * 1024 * 1024,\n        };\n    },\n    methods: {\n        handlePictureCardPreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        },\n        onExceed() {\n            this.$notify({\n                title: \"\",\n                message: `最多上传 ${this.maxCount} 张图片！`,\n                type: \"error\",\n                duration: 3000,\n                position: \"bottom-right\",\n            });\n        },\n        onChange(file, fileList) {\n            if (file.status == \"ready\") {\n                if (file.size > this.maxSize) {\n                    this.$notify({\n                        title: \"\",\n                        message: `单张图片大小不能超过 ${this.maxSize / 1024 / 1024} MB！`,\n                        type: \"error\",\n                        duration: 3000,\n                        position: \"bottom-right\",\n                    });\n                    fileList.pop();\n                } else {\n                    this.fileList = fileList;\n                }\n            }\n        },\n        upload() {\n            if (this.fileList.length > 0) {\n                this.$refs.upload.submit();\n            } else {\n                this.$emit(\"onFinish\", []);\n            }\n        },\n        onSuccess(response) {\n            this.successList = this.successList.concat(response.data);\n            if (response.code === 0) {\n                if (this.successList.length == this.fileList.length) {\n                    this.$emit(\"onFinish\", this.successList || []);\n                    this.fileList = [];\n                    this.successList = [];\n                }\n            } else {\n                this.onError(response.msg);\n            }\n        },\n        onError(msg) {\n            this.$notify({\n                title: \"\",\n                message: msg || \"图片上传失败!\",\n                type: \"error\",\n                duration: 3000,\n                position: \"bottom-right\",\n            });\n            this.$emit(\"onError\");\n            this.fileList = [];\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./upload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./upload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=63a68609\"\nimport script from \"./upload.vue?vue&type=script&lang=js\"\nexport * from \"./upload.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"c-jx3box-reply\"},[_c('el-popover',{ref:\"quickReply\",attrs:{\"visible-arrow\":true,\"placement\":\"top\",\"trigger\":\"click\",\"popper-class\":\"c-jx3box-reply-pop\"}},[_c('div',{staticClass:\"c-jx3box-reply-pop__content\"},[_c('i',{staticClass:\"el-icon-close u-close\",on:{\"click\":_vm.closePop}}),_c('div',{staticClass:\"u-title\"},[_vm._v(\"快捷回复\")]),_c('div',{staticClass:\"m-reply-list\"},_vm._l((_vm.replyTemplate),function(item,index){return _c('div',{key:index,staticClass:\"m-reply-list__item\",on:{\"click\":function($event){return _vm.reply(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)]),_c('img',{staticClass:\"u-reference\",attrs:{\"slot\":\"reference\",\"width\":\"24\",\"height\":\"24\",\"src\":require(\"@/assets/img/comment.svg\"),\"alt\":\"comment\"},slot:\"reference\"})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"c-jx3box-reply\">\n        <el-popover\n            :visible-arrow=\"true\"\n            placement=\"top\"\n            ref=\"quickReply\"\n            trigger=\"click\"\n            popper-class=\"c-jx3box-reply-pop\"\n        >\n            <div class=\"c-jx3box-reply-pop__content\">\n                <i class=\"el-icon-close u-close\" @click=\"closePop\"></i>\n                <div class=\"u-title\">快捷回复</div>\n                <div class=\"m-reply-list\">\n                    <div\n                        class=\"m-reply-list__item\"\n                        v-for=\"(item, index) in replyTemplate\"\n                        :key=\"index\"\n                        @click=\"reply(item)\"\n                    >\n                        {{ item }}\n                    </div>\n                </div>\n            </div>\n            <img\n                slot=\"reference\"\n                class=\"u-reference\"\n                width=\"24\"\n                height=\"24\"\n                src=\"@/assets/img/comment.svg\"\n                alt=\"comment\"\n            />\n        </el-popover>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"QuickReply\",\n    data() {\n        return {\n            replyTemplate: [\n                \"真不错，谢谢楼主#胜利#笨猪#胜利\",\n                \"辛苦了，感谢楼主的付出\",\n                \"谢谢楼主，很有用\",\n                \"剑三真好玩，魔盒真好用\",\n            ],\n        };\n    },\n    emits: [\"reply\"],\n    methods: {\n        // 关闭弹窗\n        closePop() {\n            if (this.$refs.quickReply) {\n                this.$refs.quickReply.doClose();\n            }\n        },\n        reply(item) {\n            this.$emit(\"reply\", item);\n            this.closePop();\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.c-jx3box-reply {\n    .u-reference {\n        cursor: pointer;\n        position: relative;\n        top: 8px;\n        margin-left: 10px;\n    }\n}\n.c-jx3box-reply-pop {\n    padding: 0;\n    width: 280px;\n}\n\n.c-jx3box-reply-pop__content {\n    position: relative;\n\n    .u-title {\n        font-size: 14px;\n        padding: 10px;\n    }\n    .u-close {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        cursor: pointer;\n        font-size: 16px;\n    }\n\n    .m-reply-list {\n        padding: 0 10px 10px 10px;\n        max-height: 300px;\n        overflow-y: auto;\n    }\n    .m-reply-list__item {\n        cursor: pointer;\n        padding: 5px;\n        border: 1px solid #eee;\n        border-radius: 4px;\n        margin-bottom: 5px;\n        .u-name {\n            font-size: 12px;\n            color: #999;\n        }\n        .u-content {\n            font-size: 14px;\n            margin-top: 5px;\n        }\n\n        &:hover {\n            color: #fff;\n            background-color: #409eff;\n            border-color: #409eff;\n            transition: all 0.3s;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quick-reply.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quick-reply.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./quick-reply.vue?vue&type=template&id=1bb1d831&scoped=true\"\nimport script from \"./quick-reply.vue?vue&type=script&lang=js\"\nexport * from \"./quick-reply.vue?vue&type=script&lang=js\"\nimport style0 from \"./quick-reply.vue?vue&type=style&index=0&id=1bb1d831&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bb1d831\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <el-form ref=\"form\" :model=\"newComment\" class=\"c-comment-box m-comment-reply\">\n        <el-form-item>\n            <el-input\n                rows=\"6\"\n                type=\"textarea\"\n                :maxlength=\"maxLength\"\n                show-word-limit\n                v-model=\"newComment.content\"\n                placeholder=\"参与讨论...\"\n                :id=\"inputId\"\n            ></el-input>\n            <div class=\"c-comment-tools\">\n                <div class=\"u-tools\">\n                    <i class=\"el-icon-picture-outline u-upload-icon\" @click=\"showUploader = !showUploader\"></i>\n                    <Emotion class=\"c-comment-emotion\" @selected=\"handleEmotionSelected\" type=\"pop\" :max=\"6\"></Emotion>\n                    <quickReply @reply=\"onQuickReply\"></quickReply>\n                </div>\n            </div>\n            <div class=\"u-toolbar\">\n                <el-button type=\"primary\" @click=\"onSubmit\" class=\"u-publish\" :disabled=\"disableSubmitBtn\">\n                    跟帖\n                </el-button>\n            </div>\n            <Uploader\n                class=\"u-uploader\"\n                ref=\"uploader\"\n                @onFinish=\"attachmentUploadFinish\"\n                @onError=\"attachmentUplodError\"\n                v-if=\"showUploader\"\n            />\n        </el-form-item>\n    </el-form>\n</template>\n\n<script>\nimport Uploader from \"./upload.vue\";\nimport Emotion from \"@jx3box/jx3box-emotion/src/Emotion.vue\";\nimport quickReply from \"./quick-reply.vue\";\n\nexport default {\n    name: \"CommentInputForm\",\n    components: {\n        Uploader,\n        Emotion,\n        quickReply,\n    },\n    props: {\n        // 用于判定该评论组件是否在底部\n        isBottom: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    mounted() {\n        if (this.isBottom) this.inputId = \"textarea-bottom\";\n    },\n    data: function () {\n        return {\n            maxLength: 500,\n            showUploader: false,\n            disableSubmitBtn: false,\n            newComment: {\n                content: \"\",\n            },\n            inputId: \"textarea-top\",\n            is_secret: false,\n        };\n    },\n    methods: {\n        onSubmit() {\n            this.disableSubmitBtn = true;\n            if (this.$refs.uploader) {\n                this.$refs.uploader.upload();\n            } else {\n                this.attachmentUploadFinish([]);\n            }\n        },\n        onQuickReply(item) {\n            this.$emit(\"submit\", {\n                content: item,\n                attachmentList: [],\n                is_template: 1,\n            });\n        },\n        // 文件上传完成后，进行数据提交\n        attachmentUploadFinish(data) {\n            this.$emit(\"submit\", {\n                content: this.newComment.content,\n                is_secret: this.is_secret ? 1 : 0,\n                attachmentList: data,\n            });\n            this.newComment = {\n                content: \"\",\n            };\n            this.showUploader = false;\n\n            this.disableSubmitBtn = false;\n        },\n        attachmentUplodError() {\n            this.disableSubmitBtn = false;\n        },\n        // 处理表情\n        handleEmotionSelected(key) {\n            this.insertVariable(key);\n        },\n        /**\n         * add emotion to textarea\n         * @parma {string} emotionVal emotion key\n         */\n        async insertVariable(emotionVal) {\n            const myField = document.querySelector(`#${this.inputId}`);\n            const value = emotionVal.key;\n            if (myField.selectionStart || myField.selectionStart === 0) {\n                let startPos = myField.selectionStart;\n                let endPos = myField.selectionEnd;\n\n                this.newComment.content =\n                    myField.value.substring(0, startPos) +\n                    value +\n                    myField.value.substring(endPos, myField.value.length);\n\n                await this.$nextTick();\n\n                myField.focus();\n                myField.setSelectionRange(endPos + value.length, endPos + value.length);\n            } else {\n                this.newComment.content = value;\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-comment-reply {\n    .u-tools {\n        .flex;\n        width: 100%;\n        align-items: center;\n        overflow: hidden;\n        height: 48px;\n    }\n    .u-upload-icon {\n        font-size: 24px;\n        cursor: pointer;\n        margin-right: 10px;\n        color: #3d454d;\n    }\n    .c-comment-secret {\n        margin-left: 15px;\n        .u-secret {\n            display: flex;\n            align-items: center;\n            .el-checkbox__inner {\n                display: block;\n            }\n        }\n    }\n    .c-comment-emotion {\n        margin: 0;\n        position: relative;\n        top: 7px;\n    }\n    .u-publish {\n        margin-bottom: 4px;\n        background: #4080ff;\n        border: 1px solid #4080ff;\n        &:hover {\n            opacity: 0.9;\n        }\n        .size(180px,42px);\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_editor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_editor.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./comment_editor.vue?vue&type=template&id=54d9567c\"\nimport script from \"./comment_editor.vue?vue&type=script&lang=js\"\nexport * from \"./comment_editor.vue?vue&type=script&lang=js\"\nimport style0 from \"./comment_editor.vue?vue&type=style&index=0&id=54d9567c&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <CommunitySingleLayout :post=\"post\">\n        <div class=\"m-community-single\" v-loading=\"loading\">\n            <!-- 头部 -->\n            <div class=\"m-community-header\">\n                <PostHeader :post=\"post\" :stat=\"stat\">\n                    <template #append>\n                        <el-pagination\n                            layout=\"prev, pager, next\"\n                            :hide-on-single-page=\"true\"\n                            :page-size=\"per\"\n                            :total=\"total\"\n                            :current-page.sync=\"page\"\n                            @current-change=\"changePage\"\n                            size=\"small\"\n                            class=\"m-pageheader-pagination\"\n                        ></el-pagination>\n                    </template>\n                </PostHeader>\n                <el-divider content-position=\"left\">JX3BOX</el-divider>\n            </div>\n\n            <div class=\"m-list-box\">\n                <!--  楼主 -->\n                <div class=\"m-master-box\">\n                    <ReplyItem v-if=\"this.page === 1\" :isMaster=\"true\" :post=\"post\" />\n                </div>\n\n                <!-- 帖子回复 -->\n                <div class=\"m-reply-box\">\n                    <ReplyItem v-for=\"(item, i) in replyList\" :key=\"i\" :post=\"item\" :is-master=\"false\" :is-author=\"isAuthor\" />\n                </div>\n            </div>\n            <!-- 帖子回复e -->\n\n            <!-- 分页 -->\n            <div class=\"m-community-footer\">\n                <div class=\"m-pagination-box\">\n                    <el-pagination\n                        background\n                        layout=\"total, prev, pager, next, jumper\"\n                        :hide-on-single-page=\"true\"\n                        :page-size=\"per\"\n                        :total=\"total\"\n                        :current-page.sync=\"page\"\n                        @current-change=\"changePage\"\n                    ></el-pagination>\n                </div>\n                <el-divider content-position=\"left\">回帖</el-divider>\n                <div class=\"u-editor\">\n                    <CommentEditor @submit=\"onReplyTopic\" />\n                </div>\n            </div>\n        </div>\n    </CommunitySingleLayout>\n</template>\n\n<script>\nimport ReplyItem from \"@/components/community/reply_item.vue\";\n\nimport CommunitySingleLayout from \"@/layouts/CommunitySingleLayout.vue\";\nimport PostHeader from \"@/components/community/post_header.vue\";\nimport CommentEditor from \"@/components/community/comment_editor.vue\";\nimport { getTopicDetails, getTopicReplyList, replyTopic } from \"@/service/community\";\nimport { getStat, postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport { getLikes } from \"@/service/next\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nconst appKey = \"community\";\n\nexport default {\n    components: {\n        CommentEditor,\n        CommunitySingleLayout,\n        PostHeader,\n        ReplyItem,\n    },\n    provide() {\n        return {\n            getTopicData: () => this.post,\n            getReplyList: this.getReplyList,\n            setOnlyAuthor: this.setOnlyAuthor,\n            onReplyTopic: this.onReplyTopic,\n            onSearch: this.onSearch,\n        };\n    },\n    data() {\n        return {\n            floor: 0,\n            stat: \"\",\n            page: 1, //当前页数\n            per: 10, //每页条目\n            total: 0, //总条目数\n            pageTotal: 0, //总页数\n            post: {},\n            replyList: [],\n            categoryList: [],\n            loading: false,\n            onlyAuthor: false,\n            number_queries: [\"per\", \"page\"],\n        };\n    },\n    computed: {\n        styles: function () {\n            let item = this.categoryList.find((item) => item.value === this.post.category);\n            if (item) {\n                return item;\n            } else {\n                return {\n                    icon: `game`,\n                    hoverColor: \"rgba(235, 244, 255, 1)\",\n                    color: \"rgba(64, 128, 255, 1)\",\n                };\n            }\n        },\n        id: function () {\n            return this.$route.params.id;\n        },\n        isAuthor() {\n            return this.post?.user_id == User.getInfo().uid;\n        }\n    },\n    created() {\n        this.getJumpFloor();\n    },\n    mounted() {\n        if (!this.id) return this.$message.error(\"文章id不存在\");\n        this.getDetails();\n        this.getReplyList();\n    },\n    watch: {\n        // 加载路由参数\n        \"$route.query\": {\n            deep: true,\n            immediate: true,\n            handler: function (query) {\n                if (Object.keys(query).length) {\n                    for (let key in query) {\n                        // for:element分页组件兼容性问题\n                        if (this.number_queries.includes(key)) {\n                            this[key] = ~~query[key];\n                        } else {\n                            this[key] = query[key];\n                        }\n                    }\n                }\n            },\n        },\n    },\n\n    methods: {\n        /**\n         * 获取url楼诚参数\n         */\n        getJumpFloor: function () {\n            const hash = window.location.hash;\n            const floor = hash.substring(1).split(\"?\")[0];\n            if (floor) {\n                this.floor = floor;\n                this.page = Math.ceil((floor - 1) / this.per);\n            }\n        },\n        /**\n         * 跳转到指定楼层\n         * @param floor 楼层\n         */\n        jumpFloor(floor) {\n            const _floor = floor || this.floor;\n            this.$nextTick(() => {\n                const el = document.getElementById(\"floor-\" + _floor);\n                if (el) {\n                    el.scrollIntoView();\n                    window.scrollBy(0, -120); // 额外滚动\n                }\n            });\n        },\n        onSearch() {\n            this.page = 1;\n            this.$nextTick(() => {\n                this.getReplyList();\n            });\n        },\n        /**\n         * 传入 true ｜ false  只看楼主、取消只看楼主\n         * @param val bool\n         */\n        setOnlyAuthor(v) {\n            this.page = 1;\n            this.onlyAuthor = v;\n            this.getReplyList();\n        },\n\n        buildQuery: function (appendMode) {\n            let _query = {\n                index: this.page,\n                pageSize: this.per,\n                order_created_at: 0,\n            };\n            if (this.onlyAuthor && (this.onlyAuthor == true || this.onlyAuthor == \"true\")) {\n                _query.user_id = this.post.user_id;\n            }\n            this.replaceRoute({ page: this.page, onlyAuthor: this.onlyAuthor });\n\n            return _query;\n        },\n        getTopicData: function () {\n            return this.post;\n        },\n        getDetails: function () {\n            getTopicDetails(this.id).then((res) => {\n                this.post = res.data.data;\n\n                getStat(appKey, this.id).then((res) => {\n                    this.stat = res.data;\n                    this.$set(this.post, \"likes\", this.stat.likes || 0);\n                });\n                postStat(appKey, this.id);\n            });\n        },\n        getReplyList: function () {\n            this.loading = true;\n            const params = this.buildQuery();\n            return getTopicReplyList(this.id, params)\n                .then(async (res) => {\n                    var list = res.data.data.list;\n                    const page = res.data.data.page;\n                    if (list == null) {\n                        this.replyList = [];\n                    } else {\n                        // 把点赞数量请求过来填充进去\n                        list = await this.getLikes(list);\n                        // 补充楼层字段\n                        this.replyList = list.map((item, i) => {\n                            return {\n                                ...item,\n                            };\n                        });\n                        // 如果有楼层参数 跳转到指定楼层\n                        if (this.floor) {\n                            this.jumpFloor();\n                        }\n                    }\n                    this.total = page.total;\n                    this.pageTotal = page.pageTotal;\n                    this.$nextTick(() => {\n                        this.page = page.index;\n                    });\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        async getLikes(replyList) {\n            const ids = replyList.map((item) => `community_reply-${item.id}`);\n            let id = ids.join(\",\");\n            let list = [];\n            await getLikes({\n                post_type: \"community_reply\",\n                post_action: \"likes\",\n                id,\n            })\n                .then((res) => {\n                    list = replyList.map((item) => {\n                        item.likes = res.data.data[`community_reply-${item.id}`]?.likes || 0;\n                        return item;\n                    });\n                })\n                .catch(() => {\n                    list = replyList;\n                });\n            return list;\n        },\n        /** 回帖 */\n        onReplyTopic({ attachmentList, content }) {\n            console.log(attachmentList);\n            if (!this.id) return this.$message.error(\"文章id不存在\");\n            // 拼接图片列表到 content 中\n            if (attachmentList && attachmentList.length) {\n                const imageTags = attachmentList\n                    .map((image) => `<p><img class='attachment' src=\"${image}\" /></p>`)\n                    .join(\"\");\n                content += imageTags;\n            }\n            replyTopic(this.id, {\n                client: location.href.includes(\"origin\") ? \"origin\" : \"std\",\n                content: content,\n            }).then((res) => {\n                this.onReplyTopicSuccess(res.data.data);\n            });\n        },\n        /**\n         * 回复成功后的操作\n         * 如果当前的回复不需要翻页，可以不用重新渲染列表\n         * 如果当前的回复条数已经超过一页，可以直接跳转到最后一页\n         */\n        onReplyTopicSuccess(data) {\n            if (this.replyList.length + 1 <= this.per) {\n                const userInfo = User.getInfo();\n                this.replyList.push({\n                    ...data,\n                    user_info: {\n                        id: Number(userInfo.uid),\n                        display_name: userInfo.name,\n                        avatar: userInfo.avatar,\n                    },\n                });\n                this.$nextTick(() => {\n                    window.scrollTo(0, document.body.scrollHeight);\n                });\n            } else {\n                this.total = this.total + 1;\n                this.page = Math.ceil((this.total + 1) / this.per);\n                this.$nextTick(() => {\n                    this.getReplyList().finally(() => {\n                        window.scrollTo(0, document.body.scrollHeight);\n                    });\n                });\n            }\n        },\n        changePage(page) {\n            this.page = page;\n            this.getReplyList();\n        },\n        // 路由绑定\n        replaceRoute: function (extend) {\n            return this.$router\n                .push({ name: this.$route.name, query: Object.assign({}, this.$route.query, extend) })\n                .then(() => {\n                    window.scrollTo(0, 0);\n                })\n                .catch((err) => {});\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/community/community-single.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingle.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommunitySingle.vue?vue&type=template&id=682ae6d8\"\nimport script from \"./CommunitySingle.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitySingle.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommunitySingle.vue?vue&type=style&index=0&id=682ae6d8&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./top_sticky_info.vue?vue&type=style&index=0&id=f43a3c28&prod&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/reply.7dfa9d81.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_user.vue?vue&type=style&index=0&id=767d3640&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./ReplyForReply.vue?vue&type=style&index=0&id=c2a90b4e&prod&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingle.vue?vue&type=style&index=0&id=682ae6d8&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_item.vue?vue&type=style&index=0&id=4d059490&prod&lang=less\"","module.exports = __webpack_public_path__ + \"img/praise.f6d89055.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CommunitySingleLayout.vue?vue&type=style&index=0&id=8b76e36c&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./forward_button.vue?vue&type=style&index=0&id=be47b8ce&prod&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./reply_item.vue?vue&type=style&index=0&id=440673e6&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment_editor.vue?vue&type=style&index=0&id=54d9567c&prod&lang=less\"","module.exports = __webpack_public_path__ + \"img/comment.2840ad61.svg\";","import { $next } from \"@jx3box/jx3box-common/js/https\";\nfunction getLikes(params) {\n    return $next().get(`/api/summary/batch`, {\n        params,\n    });\n}\n\nfunction getBirthdayList(params) {\n    return $next().get(`/api/next2/users/birthday/today`, {\n        params\n    })\n}\n\nexport { getLikes, getBirthdayList }\n","import { $cms } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getMenu(key) {\n    return $cms().get(`/api/cms/config/menu/${key}`);\n}\n\nfunction getAuthorInfo() {\n\n}\n\n// 获取自定义主题\nfunction getTopicBucket(params) {\n    return $cms().get(`/api/cms/topic/bucket`, { params });\n}\n\nconst getConfigBanner = (params) => {\n    return $cms().get(`api/cms/config/banner`, {\n        params,\n    });\n}\n\nconst getUserList = (params) => $cms().get(`/api/cms/user/list`, { params });\n\nexport { getMenu, getAuthorInfo, getTopicBucket, getConfigBanner, getUserList };\n","module.exports = __webpack_public_path__ + \"img/collapse_2.b4244534.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quick-reply.vue?vue&type=style&index=0&id=1bb1d831&prod&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/collapse_1.74036d18.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_header.vue?vue&type=style&index=0&id=0db05d1f&prod&lang=less\""],"sourceRoot":""}