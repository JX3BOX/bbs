{"version":3,"sources":["webpack:///./src/components/collection/collection_single.vue","webpack:///./node_modules/@jx3box/jx3box-editor/service/enum/CollectionPublic.js","webpack:///./src/store/bus.js","webpack:///./src/layouts/CollectionLayout.vue","webpack:///./src/components/single/single_nav.vue","webpack:///src/components/single/single_nav.vue","webpack:///./src/components/single/single_nav.vue?032d","webpack:///./src/components/single/single_nav.vue?642d","webpack:///./src/components/single/single_side.vue","webpack:///src/components/single/single_side.vue","webpack:///./src/components/single/single_side.vue?6df8","webpack:///./src/components/single/single_side.vue?e986","webpack:///./src/components/collection/collection_admin.vue","webpack:///src/components/collection/collection_admin.vue","webpack:///./src/components/collection/collection_admin.vue?110f","webpack:///./src/components/collection/collection_admin.vue?32c2","webpack:///src/layouts/CollectionLayout.vue","webpack:///./src/layouts/CollectionLayout.vue?fb8c","webpack:///./src/layouts/CollectionLayout.vue?5d6d","webpack:///src/components/collection/collection_single.vue","webpack:///./src/components/collection/collection_single.vue?2bbd","webpack:///./src/components/collection/collection_single.vue?670d","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostTopic.vue?1a20","webpack:///./node_modules/dayjs/plugin/relativeTime.js","webpack:///./src/components/single/single_side.vue?3556","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostDirectory.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/single/PostDirectory.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostDirectory.vue?3ed1","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostDirectory.vue?25b7","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostCollection.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/single/PostCollection.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostCollection.vue?8ce7","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostCollection.vue?5c56","webpack:///./src/components/collection/collection_single.vue?be66","webpack:///./src/layouts/CollectionLayout.vue?8179","webpack:///./src/components/collection/collection_admin.vue?aa02","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostCollection.vue?8b45","webpack:///./node_modules/@jx3box/jx3box-common-ui/assets/img/rightsidebar/topic_bg_bps.svg","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostTopic.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/single/PostTopic.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostTopic.vue?848c","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostTopic.vue?cda6","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/single/PostDirectory.vue?b5e3","webpack:///./src/utils/dateFormat.js"],"names":["render","_vm","this","_c","_self","attrs","staticClass","collection","url","title","public","_e","_v","_s","_f","user_id","collection_user_info","display_name","dateFormat","created","updated","views","canEdit","edit_link","on","$event","delete_handle","id","description","domProps","resolveImagePath","posts","length","_l","post","key","type","showAvatar","user_avatar","user_nickname","getLink","post_type","formatDate","author_id","staticStyle","staticRenderFns","CollectionPublic","Object","freeze","PRIVATE","PUBLIC","Bus","Vue","scopedSlots","_u","fn","isEditor","onAdminClick","proxy","hasRight","_t","model","value","showDrawer","callback","$$v","expression","uid","name","props","data","computed","$store","state","methods","mounted","component","showSideCollection","collection_data","components","PostDirectory","PostCollection","PostTopic","hasDirectory","_this$$store$state$ex","extend","directory","_this$$store$state$po","_this$$store$state$po2","hasCollection","post_collection","foldTopCollection","collection_collapse","_this$$store$state$ex2","modelValue","close","visible","visible_options","option","slot","post_author","pushing","submit","Boolean","default","prop","event","type_options","$route","params","watch","val","loadCollection","initTypeOptions","$emit","types","__postType","push","label","_this","getCollection","then","res","_this2","updateCollection","mark","JSON","stringify","image","$message","message","finally","getAppID","User","Nav","Side","CollectionAdmin","Comment","CollectionLayout","publish","CollectionPublish","location","href","loading","editLink","_this$collection","_this$collection2","getInfo","immediate","handler","loadData","execStat","getThumbnail","getTypeLabel","timestamp","Date","collection_id","preventDefault","$confirm","confirmButtonText","cancelButtonText","removeCollection","success","$router","_res$data","_this3","postStat","getStat","date","console","log","dayjs","format","filters","authorLink","$on","reload","r","e","module","exports","t","n","prototype","o","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","i","fromToBase","en","relativeTime","u","f","a","l","$locale","thresholds","c","diff","p","rounding","Math","round","abs","v","replace","to","from","$u","utc","toNow","fromNow","list","_m","item","showLink","_this$store","_this$data","store","getCover","concat","__imgPath","directives","rawName","topicInfo","year","topicText","require","topicImage","String","Number","postBanner","created_at","_this$topicInfo","img","client","includes","getSliders","_res$data$data","sort","b","isAfter","getRelativeTime","dt","separator","arguments","undefined","polished","getFullYear","month","getMonth","getDate","str","polish","locale"],"mappings":"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","file":"js/chunk-56bc3c0e.b611b3fb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('CollectionLayout',{attrs:{\"has-right\":false}},[_c('div',{staticClass:\"m-collection-single\"},[(!_vm.collection)?_c('el-alert',{attrs:{\"title\":\"该剑三小册不存在或已被删除\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}}):[_c('div',{staticClass:\"m-collection-detail-content\"},[_c('div',{staticClass:\"m-collection-detail-header\"},[_c('header',{staticClass:\"m-single-header\"},[_c('div',{staticClass:\"m-single-title\"},[_c('span',{staticClass:\"u-title u-sub-block\",attrs:{\"href\":_vm.url,\"title\":_vm.collection.title}},[(!_vm.collection.public)?_c('i',{staticClass:\"u-private el-icon-lock\",attrs:{\"title\":\"仅自己可见\"}}):_vm._e(),_c('span',{staticClass:\"u-title-text\"},[_vm._v(_vm._s(_vm.collection.title))])])]),_c('div',{staticClass:\"m-single-info\"},[_c('div',{staticClass:\"u-author u-sub-block\"},[_c('i',{staticClass:\"u-author-icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 12 16\",\"width\":\"12\",\"height\":\"16\",\"aria-hidden\":\"true\",\"fill\":\"#444\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z\"}})])]),_c('a',{staticClass:\"u-name\",attrs:{\"href\":_vm._f(\"authorLink\")(_vm.collection.user_id)}},[_vm._v(_vm._s(_vm.collection.collection_user_info && _vm.collection.collection_user_info.display_name))])]),_c('span',{staticClass:\"u-podate u-sub-block\",attrs:{\"title\":\"发布日期\"}},[_c('i',{staticClass:\"u-icon el-icon-date\"}),_c('time',[_vm._v(_vm._s(_vm.dateFormat(_vm.collection.created)))])]),_c('span',{staticClass:\"u-modate u-sub-block\",attrs:{\"title\":\"最后更新\"}},[_c('i',{staticClass:\"u-icon el-icon-refresh\"}),_c('time',[_vm._v(_vm._s(_vm.dateFormat(_vm.collection.updated)))])]),_c('span',{staticClass:\"u-views u-sub-block\"},[_c('i',{staticClass:\"u-icon el-icon-view\"}),_vm._v(\" \"+_vm._s(_vm.views)+\" \")]),(_vm.canEdit)?_c('a',{staticClass:\"u-edit u-sub-block\",attrs:{\"href\":_vm.edit_link}},[_c('i',{staticClass:\"u-icon-edit el-icon-edit-outline\"}),_c('span',[_vm._v(\"编辑\")])]):_vm._e(),(_vm.canEdit)?_c('a',{staticClass:\"u-delete u-sub-block\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.delete_handle($event, _vm.collection.id)}}},[_c('i',{staticClass:\"u-icon-remove el-icon-delete\"}),_c('span',[_vm._v(\"删除\")])]):_vm._e()])])]),(_vm.collection.description)?[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_c('i',{staticClass:\"el-icon-collection\"}),_vm._v(\" 小册简介 \")]),_c('div',{staticClass:\"u-description\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.resolveImagePath(_vm.collection.description))}})])]:_vm._e(),(_vm.collection.posts && _vm.collection.posts.length)?[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_c('i',{staticClass:\"el-icon-folder\"}),_vm._v(\" 小册文章 \")]),_c('ul',{staticClass:\"u-list\"},_vm._l((_vm.collection.posts),function(post,key){return _c('li',{key:key,staticClass:\"u-item\"},[_c('span',{staticClass:\"u-item-order\"},[_vm._v(_vm._s(key + 1)+\".\")]),(post.type === 'custom')?_c('span',{staticClass:\"u-item-link\"},[_c('i',{staticClass:\"el-icon-link\"}),_vm._v(\"站外链接 \")]):_vm._e(),(post.type !== 'custom' && post.user_id)?_c('a',{staticClass:\"u-item-author\",attrs:{\"target\":\"_blank\",\"href\":_vm._f(\"authorLink\")(post.user_id)}},[_c('img',{staticClass:\"u-avatar\",attrs:{\"src\":_vm.showAvatar(post.user_avatar)}}),_c('span',{staticClass:\"u-nickname\",domProps:{\"textContent\":_vm._s(post.user_nickname)}}),_c('span',{staticClass:\"u-div\"},[_vm._v(\"/\")])]):_vm._e(),_c('a',{staticClass:\"u-item-title\",attrs:{\"target\":\"_blank\",\"href\":post.type === 'custom' ? post.url : _vm.getLink(post.post_type || post.type, post.id)}},[_vm._v(_vm._s(post.title))]),(post.updated)?_c('time',{staticClass:\"u-updated\",domProps:{\"textContent\":_vm._s('最后更新于 ' + _vm.formatDate(post.updated))}}):_vm._e()])}),0)]:_vm._e()],2),_c('Thx',{staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":\"collection\",\"postTitle\":_vm.title,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":true,\"userBoxcoinEnable\":true,\"client\":\"all\"}}),(_vm.id)?_c('div',{staticClass:\"m-comments\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_c('span',{staticStyle:{\"color\":\"#999999\"}},[_c('i',{staticClass:\"el-icon-chat-line-square\"}),_vm._v(\" 讨论 \")])]),_c('jx3-comment',{attrs:{\"id\":_vm.id,\"category\":\"collection\"}})],1):_vm._e()]],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const CollectionPublic = Object.freeze({\n  PRIVATE: 0,\n  PUBLIC: 1,\n\n  all() {\n    return [\n      this.PRIVATE,\n      this.PUBLIC,\n    ]\n  },\n})\n\nexport default CollectionPublic;","import Vue from \"vue\";\nconst Bus = new Vue();\nexport default Bus\n\n// Use like\n// Bus.$emit(事件名,数据);\n// Bus.$on(事件名,data => {});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Header'),_c('Breadcrumb',{attrs:{\"name\":\"剑三小册\",\"slug\":\"collection\",\"root\":\"/collection\",\"publishEnable\":true,\"adminEnable\":false,\"feedbackEnable\":true,\"crumbEnable\":true},scopedSlots:_vm._u([{key:\"op-prepend\",fn:function(){return [(_vm.isEditor)?_c('el-button',{staticClass:\"c-admin-button u-admin\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-setting\"},on:{\"click\":_vm.onAdminClick}},[_vm._v(\"管理\")]):_vm._e()]},proxy:true}])}),_c('LeftSidebar',{attrs:{\"uid\":_vm.user_id}},[_c('Nav',{staticClass:\"m-nav\",attrs:{\"id\":_vm.id}})],1),_c('Main',{attrs:{\"withoutRight\":!_vm.hasRight}},[_vm._t(\"default\"),_c('RightSidebar',[_c('Side',{staticClass:\"m-extend\",attrs:{\"id\":_vm.id}})],1),_c('Footer')],2),_c('CollectionAdmin',{model:{value:(_vm.showDrawer),callback:function ($$v) {_vm.showDrawer=$$v},expression:\"showDrawer\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-single-nav\"},[_c('Author',{attrs:{\"uid\":_vm.uid}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-single-nav\">\n        <Author :uid=\"uid\"/>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"single_nav\",\n    props: [],\n    data: function() {\n        return {\n            \n        };\n    },\n    computed: {\n        uid : function (){\n            return this.$store.state.user_id\n        }\n    },\n    methods: {\n        \n    },\n    mounted: function() {},\n};\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single_nav.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single_nav.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./single_nav.vue?vue&type=template&id=3e14514d\"\nimport script from \"./single_nav.vue?vue&type=script&lang=js\"\nexport * from \"./single_nav.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-single-side\"},[(_vm.id)?_c('PostTopic',{attrs:{\"type\":\"bps\",\"id\":~~_vm.id}}):_vm._e(),_c('PostDirectory',{attrs:{\"id\":\"directory\"}}),(_vm.showSideCollection)?_c('PostCollection',{attrs:{\"store\":_vm.collection_data}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-single-side\">\n        <PostTopic v-if=\"id\" type=\"bps\" :id=\"~~id\"/>\n        <PostDirectory id=\"directory\"/>\n        <PostCollection v-if=\"showSideCollection\" :store=\"collection_data\"/>\n    </div>\n</template>\n\n<script>\nimport PostDirectory from '@jx3box/jx3box-common-ui/src/single/PostDirectory.vue'\nimport PostCollection from '@jx3box/jx3box-common-ui/src/single/PostCollection.vue'\nimport PostTopic from '@jx3box/jx3box-common-ui/src/single/PostTopic.vue'\nexport default {\n    name: \"single_side\",\n    props: ['id'],\n    data: function() {\n        return {\n\n        };\n    },\n    components : {\n        PostDirectory,\n        PostCollection,\n        PostTopic\n    },\n    computed : {\n        hasDirectory : function (){\n            return this.$store.state.extend?.directory\n        },\n        showSideCollection : function (){\n            let hasCollection = this.$store.state.post?.post_collection\n            let foldTopCollection = !this.$store.state.post?.collection_collapse\n            return hasCollection && foldTopCollection\n        },\n        collection_data : function (){\n            return this.$store.state.extend?.collection_data\n        }\n    }\n};\n</script>\n\n<style lang=\"less\">\n.m-single-side {\n    padding: 20px;\n}\n.m-single-directory {\n    .mb(20px);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single_side.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single_side.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./single_side.vue?vue&type=template&id=1b55f14c\"\nimport script from \"./single_side.vue?vue&type=script&lang=js\"\nexport * from \"./single_side.vue?vue&type=script&lang=js\"\nimport style0 from \"./single_side.vue?vue&type=style&index=0&id=1b55f14c&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-drawer',{staticClass:\"c-admin\",attrs:{\"title\":\"管理面板\",\"visible\":_vm.modelValue,\"before-close\":_vm.close,\"append-to-body\":true,\"modal\":false,\"withHeader\":false}},[_c('div',{staticClass:\"c-admin-wrapper\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"可见性变更\")]),_c('el-radio-group',{staticClass:\"c-admin-status\",attrs:{\"size\":\"small\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},_vm._l((_vm.visible_options),function(option,key){return _c('el-radio-button',{key:key,attrs:{\"label\":key}},[_vm._v(_vm._s(option))])}),1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"元信息\")]),_c('div',{staticClass:\"c-admin-title\"},[_c('el-input',{staticClass:\"input-author drawer-item-content\",attrs:{\"placeholder\":\"请输入小册标题\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"标题\")])],2)],1),_c('div',{staticClass:\"c-admin-info\"},[_c('div',{staticClass:\"c-admin-author\"},[_c('el-input',{staticClass:\"input-author drawer-item-content\",attrs:{\"placeholder\":\"请输入作者uid\"},model:{value:(_vm.post_author),callback:function ($$v) {_vm.post_author=$$v},expression:\"post_author\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"作者\")])],2)],1)]),_c('div',{staticClass:\"c-admin-buttons\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.pushing},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.close}},[_vm._v(\"取消\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-drawer\n        class=\"c-admin\"\n        title=\"管理面板\"\n        :visible=\"modelValue\"\n        :before-close=\"close\"\n        :append-to-body=\"true\"\n        :modal=\"false\"\n        :withHeader=\"false\"\n    >\n        <div class=\"c-admin-wrapper\">\n            <el-divider content-position=\"left\">可见性变更</el-divider>\n            <el-radio-group v-model=\"visible\" size=\"small\" class=\"c-admin-status\">\n                <el-radio-button\n                    v-for=\"(option, key) in visible_options\"\n                    :label=\"key\"\n                    :key=\"key\"\n                >{{ option }}</el-radio-button>\n            </el-radio-group>\n\n            <el-divider content-position=\"left\">元信息</el-divider>\n\n            <div class=\"c-admin-title\">\n                <el-input\n                    v-model=\"title\"\n                    placeholder=\"请输入小册标题\"\n                    class=\"input-author drawer-item-content\"\n                >\n                        <template slot=\"prepend\">标题</template>\n                </el-input>\n            </div>\n\n            <div class=\"c-admin-info\">\n                <div class=\"c-admin-author\">\n                    <el-input\n                        v-model=\"post_author\"\n                        placeholder=\"请输入作者uid\"\n                        class=\"input-author drawer-item-content\"\n                    >\n                        <template slot=\"prepend\">作者</template>\n                </el-input>\n                </div>\n            </div>\n\n            <div class=\"c-admin-buttons\">\n                <el-button type=\"primary\" @click=\"submit\" :loading=\"pushing\">提交</el-button>\n                <el-button type=\"plain\" @click=\"close\">取消</el-button>\n            </div>\n        </div>\n    </el-drawer>\n</template>\n\n<script>\nimport {\n    __postType,\n} from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { updateCollection, getCollection } from \"@/service/helper\";\nimport Bus from \"@/store/bus\";\nexport default {\n    name: \"CollectionAdmin\",\n    props: {\n        modelValue: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    model: {\n        prop: \"modelValue\",\n        event: \"update:modelValue\",\n    },\n    data() {\n        return {\n            type_options: [],\n            post_author: \"\",\n            visible: 1,\n            title: \"\",\n\n            pushing: false,\n\n            data: {},\n        }\n    },\n    computed: {\n        visible_options() {\n            return {\n                0: \"私有\",\n                1: \"公开\",\n            };\n        },\n        id() {\n            return this.$route.params.id\n        }\n    },\n    watch: {\n        modelValue(val) {\n            if (val) {\n                this.loadCollection();\n            }\n        }\n    },\n    mounted() {\n        this.initTypeOptions();\n    },\n    methods: {\n        close() {\n            this.$emit(\"update:modelValue\", false);\n        },\n        // 加载类型选项\n        initTypeOptions: function () {\n            let types = [];\n            for (let key in __postType) {\n                types.push({\n                    value: key,\n                    label: __postType[key],\n                });\n            }\n            this.type_options = types;\n        },\n        loadCollection() {\n            getCollection(this.id).then(res => {\n                this.data = res.data.data;\n                this.post_author = this.data.user_id;\n                this.visible = this.data.public;\n                this.title = this.data.title;\n            })\n        },\n        submit() {\n            this.pushing = true;\n            updateCollection(this.id, {\n                mark: this.data.mark,\n                description: this.data.description,\n                posts: JSON.stringify(this.data.posts),\n                image: this.data.image,\n                public: this.visible,\n                user_id: ~~this.post_author,\n                title: this.title,\n            }).then(() => {\n                this.$message({\n                    message: \"更新成功\",\n                    type: \"success\",\n                });\n                Bus.$emit(\"updateCollection\");\n            }).finally(() => {\n                this.pushing = false;\n            })\n        }\n    },\n};\n</script>\n\n<style lang=\"less\">\n.c-admin-title {\n    margin-bottom: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_admin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_admin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./collection_admin.vue?vue&type=template&id=32473ddc\"\nimport script from \"./collection_admin.vue?vue&type=script&lang=js\"\nexport * from \"./collection_admin.vue?vue&type=script&lang=js\"\nimport style0 from \"./collection_admin.vue?vue&type=style&index=0&id=32473ddc&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <Header></Header>\n        <Breadcrumb\n            name=\"剑三小册\"\n            slug=\"collection\"\n            root=\"/collection\"\n            :publishEnable=\"true\"\n            :adminEnable=\"false\"\n            :feedbackEnable=\"true\"\n            :crumbEnable=\"true\"\n        >\n            <template #op-prepend>\n                <el-button\n                    class=\"c-admin-button u-admin\"\n                    type=\"primary\"\n                    icon=\"el-icon-setting\"\n                    @click=\"onAdminClick\"\n                    v-if=\"isEditor\"\n                >管理</el-button>\n            </template>\n        </Breadcrumb>\n        <LeftSidebar :uid=\"user_id\">\n            <Nav :id=\"id\" class=\"m-nav\" />\n        </LeftSidebar>\n        <Main :withoutRight=\"!hasRight\">\n            <slot></slot>\n            <RightSidebar>\n                <Side :id=\"id\" class=\"m-extend\" />\n            </RightSidebar>\n            <Footer></Footer>\n        </Main>\n\n        <CollectionAdmin v-model=\"showDrawer\" />\n    </div>\n</template>\n\n<script>\nimport Nav from \"@/components/single/single_nav.vue\";\nimport Side from \"@/components/single/single_side.vue\";\nimport { getAppIcon, getAppID } from \"@jx3box/jx3box-common/js/utils\";\nimport CollectionAdmin from \"@/components/collection/collection_admin.vue\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"CollectionLayout\",\n    props: {\n        hasRight: {\n            type: Boolean,\n            default: true,\n        },\n    },\n    data: function () {\n        return {\n            id: getAppID(),\n\n            showDrawer: false,\n        };\n    },\n    computed: {\n        user_id: function () {\n            return this.$store.state.user_id;\n        },\n        isEditor: function () {\n            return User.isEditor();\n        },\n    },\n    methods: {\n        onAdminClick() {\n            this.showDrawer = true;\n        },\n    },\n    components: {\n        Nav,\n        Side,\n        CollectionAdmin,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/list.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CollectionLayout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CollectionLayout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CollectionLayout.vue?vue&type=template&id=4a85692a\"\nimport script from \"./CollectionLayout.vue?vue&type=script&lang=js\"\nexport * from \"./CollectionLayout.vue?vue&type=script&lang=js\"\nimport style0 from \"./CollectionLayout.vue?vue&type=style&index=0&id=4a85692a&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <CollectionLayout :has-right=\"false\">\n        <div class=\"m-collection-single\">\n            <el-alert\n                v-if=\"!collection\"\n                title=\"该剑三小册不存在或已被删除\"\n                type=\"info\"\n                center\n                show-icon\n                :closable=\"false\"\n            ></el-alert>\n\n            <template v-else>\n                <div class=\"m-collection-detail-content\">\n                    <div class=\"m-collection-detail-header\">\n                        <header class=\"m-single-header\">\n                            <!-- 标题 -->\n                            <div class=\"m-single-title\">\n                                <span class=\"u-title u-sub-block\" :href=\"url\" :title=\"collection.title\">\n                                    <i class=\"u-private el-icon-lock\" v-if=\"!collection.public\" title=\"仅自己可见\"></i>\n                                    <span class=\"u-title-text\">{{ collection.title }}</span>\n                                </span>\n                            </div>\n\n                            <!-- 信息 -->\n                            <div class=\"m-single-info\">\n                                <!-- 用户名 -->\n                                <div class=\"u-author u-sub-block\">\n                                    <i class=\"u-author-icon\">\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12 16\" width=\"12\" height=\"16\" aria-hidden=\"true\" fill=\"#444\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" d=\"M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z\"/></svg>\n                                    </i>\n                                    <a class=\"u-name\" :href=\"collection.user_id | authorLink\">{{\n                                        collection.collection_user_info && collection.collection_user_info.display_name\n                                    }}</a>\n                                </div>\n\n                                <!-- 发布日期 -->\n                                <span class=\"u-podate u-sub-block\" title=\"发布日期\">\n                                    <i class=\"u-icon el-icon-date\"></i>\n                                    <time>{{ dateFormat(collection.created) }}</time>\n                                </span>\n\n                                <!-- 最后更新 -->\n                                <span class=\"u-modate u-sub-block\" title=\"最后更新\">\n                                    <i class=\"u-icon el-icon-refresh\"></i>\n                                    <time>{{ dateFormat(collection.updated) }}</time>\n                                </span>\n\n                                <!-- 查看次数 -->\n                                <span class=\"u-views u-sub-block\">\n                                    <i class=\"u-icon el-icon-view\"></i>\n                                    {{ views }}\n                                </span>\n\n                                <!-- 编辑 -->\n                                <a class=\"u-edit u-sub-block\" :href=\"edit_link\" v-if=\"canEdit\">\n                                    <i class=\"u-icon-edit el-icon-edit-outline\"></i>\n                                    <span>编辑</span>\n                                </a>\n\n                                <!-- 删除 -->\n                                <a\n                                    href=\"javascript:void(0)\"\n                                    class=\"u-delete u-sub-block\"\n                                    @click=\"delete_handle($event, collection.id)\"\n                                    v-if=\"canEdit\"\n                                >\n                                    <i class=\"u-icon-remove el-icon-delete\"></i>\n                                    <span>删除</span>\n                                </a>\n                            </div>\n                        </header>\n                    </div>\n\n                    <template v-if=\"collection.description\">\n                        <el-divider content-position=\"left\">\n                            <i class=\"el-icon-collection\"></i>\n                            小册简介\n                        </el-divider>\n                        <div class=\"u-description\">\n                            <p v-html=\"resolveImagePath(collection.description)\"></p>\n                        </div>\n                    </template>\n\n                    <template v-if=\"collection.posts && collection.posts.length\">\n                        <el-divider content-position=\"left\">\n                            <i class=\"el-icon-folder\"></i>\n                            小册文章\n                        </el-divider>\n                        <ul class=\"u-list\">\n                            <li class=\"u-item\" v-for=\"(post, key) in collection.posts\" :key=\"key\">\n                                <span class=\"u-item-order\">{{ key + 1 }}.</span>\n                                <span class=\"u-item-link\" v-if=\"post.type === 'custom'\">\n                                    <i class=\"el-icon-link\"></i>站外链接\n                                </span>\n                                <a\n                                    class=\"u-item-author\"\n                                    v-if=\"post.type !== 'custom' && post.user_id\"\n                                    target=\"_blank\"\n                                    :href=\"post.user_id | authorLink\"\n                                >\n                                    <img class=\"u-avatar\" :src=\"showAvatar(post.user_avatar)\" />\n                                    <span class=\"u-nickname\" v-text=\"post.user_nickname\"></span>\n                                    <span class=\"u-div\">/</span>\n                                </a>\n                                <a\n                                    class=\"u-item-title\"\n                                    target=\"_blank\"\n                                    :href=\"post.type === 'custom' ? post.url : getLink(post.post_type || post.type, post.id)\"\n                                    >{{ post.title }}</a\n                                >\n                                <time\n                                    class=\"u-updated\"\n                                    v-if=\"post.updated\"\n                                    v-text=\"'最后更新于 ' + formatDate(post.updated)\"\n                                ></time>\n                            </li>\n                        </ul>\n                    </template>\n                </div>\n\n                <!-- <div class=\"m-tags\" v-if=\"collection.tags && collection.tags.length\">\n                <div class=\"u-tags-title\">\n                    <i class=\"el-icon-price-tag\"></i>\n                    <span>标签</span>\n                </div>\n                <ul class=\"u-tags\">\n                    <li v-for=\"(tag, key) in collection.tags\" :key=\"key\" v-text=\"tag\" class=\"u-tag\"></li>\n                </ul>\n            </div>-->\n\n                <Thx\n                    class=\"m-thx\"\n                    :postId=\"id\"\n                    postType=\"collection\"\n                    :postTitle=\"title\"\n                    :userId=\"author_id\"\n                    :adminBoxcoinEnable=\"true\"\n                    :userBoxcoinEnable=\"true\"\n                    client=\"all\"\n                />\n\n                <div class=\"m-comments\" v-if=\"id\">\n                    <el-divider content-position=\"left\">\n                        <span style=\"color: #999999\"> <i class=\"el-icon-chat-line-square\"></i> 讨论 </span>\n                    </el-divider>\n                    <jx3-comment :id=\"id\" category=\"collection\" />\n                </div>\n            </template>\n        </div>\n    </CollectionLayout>\n</template>\n\n<script>\nimport Comment from \"@jx3box/jx3box-comment-ui/src/Comment.vue\";\nimport CollectionPublish from \"@jx3box/jx3box-editor/service/enum/CollectionPublic\";\nimport { getCollection, removeCollection } from \"@/service/helper\";\nimport {dateFormat} from \"@/utils/dateFormat\";\nimport dayjs from \"dayjs\";\nimport Bus from \"@/store/bus\";\nimport {\n    getThumbnail,\n    getLink,\n    getTypeLabel,\n    authorLink,\n    editLink,\n    showAvatar,\n    resolveImagePath,\n} from \"@jx3box/jx3box-common/js/utils\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nimport { getStat, postStat } from \"@jx3box/jx3box-common/js/stat\";\n\nimport CollectionLayout from \"@/layouts/CollectionLayout.vue\";\nexport default {\n    name: \"CollectionSingle\",\n    props: [],\n    components: {\n        \"jx3-comment\": Comment,\n        CollectionLayout,\n    },\n    data: function () {\n        return {\n            collection: \"\",\n            publish: CollectionPublish,\n            url: location.href,\n            views: 0,\n            loading: false,\n        };\n    },\n    computed: {\n        edit_link: function () {\n            return editLink(\"collection\", this.collection.id);\n        },\n        id: function () {\n            return this.collection?.id;\n        },\n        author_id: function () {\n            return this.collection?.user_id || 0;\n        },\n        canEdit: function () {\n            return this.author_id == User.getInfo().uid || User.isEditor();\n        },\n        title: function () {\n            return this.collection.title;\n        },\n    },\n    watch: {\n        \"$route.params.id\": {\n            immediate: true,\n            handler(id) {\n                if (id) {\n                    this.loadData(id);\n                    this.execStat(id);\n                }\n            },\n        },\n    },\n    methods: {\n        getThumbnail,\n        getLink(type, id) {\n            return getLink(type, id);\n        },\n        getTypeLabel,\n        showAvatar,\n        resolveImagePath,\n        dateFormat: function (timestamp) {\n            return dateFormat(new Date(timestamp * 1000));\n        },\n        delete_handle($event, collection_id) {\n            $event.preventDefault();\n            this.$confirm(\"确认是否删除该剑三小册？\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n            }).then(() => {\n                removeCollection(collection_id).then((data) => {\n                    this.$message.success(\"删除成功\");\n                    this.$router.push({ name: \"collection\" });\n                });\n            });\n        },\n        loadData: function (id) {\n            this.loading = true;\n            getCollection(id)\n                .then((res) => {\n                    this.collection = res?.data?.data || {};\n                    this.$store.state.user_id = this.collection.user_id;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        execStat: function (id) {\n            postStat(\"collection\", id);\n            getStat(\"collection\", id).then((res) => {\n                this.views = res.data.views || 0;\n            });\n        },\n        formatDate(date) {\n            console.log(date)\n            return dayjs(date).format(\"YYYY-MM-DD HH:mm:ss\");\n        },\n    },\n    filters: {\n        authorLink,\n    },\n    created: function () {},\n    mounted: function () {\n        Bus.$on(\"updateCollection\", () => {\n            location.reload();\n        });\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/collection/collection.less\";\n.m-single-header {\n    padding-top: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_single.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_single.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./collection_single.vue?vue&type=template&id=73baba94\"\nimport script from \"./collection_single.vue?vue&type=script&lang=js\"\nexport * from \"./collection_single.vue?vue&type=script&lang=js\"\nimport style0 from \"./collection_single.vue?vue&type=style&index=0&id=73baba94&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostTopic.vue?vue&type=style&index=0&id=7b724026&prod&lang=less&scoped=true\"","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./single_side.vue?vue&type=style&index=0&id=1b55f14c&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-single-directory\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-single-directory\"></div>\n</template>\n\n<script>\nexport default {\n   name : 'PostDirectory',\n   props:[],\n   components : {},\n   data : function(){\n       return {\n           \n       }\n   },\n   computed:{},\n   watch:{},\n   methods:{},\n   created:function(){},\n   mounted:function(){},\n}\n</script>\n\n<style lang=\"less\">\n.c-article-directory {\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n        margin: 0;\n        padding: 0;\n        cursor: pointer;\n        font-weight: normal;\n        white-space: nowrap;\n        word-wrap: normal;\n        word-break: keep-all;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        letter-spacing: 0.2px;\n        line-height: 20px;\n        padding: 8px 0;\n        &:hover {\n            // font-weight: 600;\n            color: #0366d6;\n        }\n        font-size: 12px;\n    }\n    a {\n        color: @color;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n        &::before {\n            content: \"\\e78b\";\n\n            font-family: element-icons !important;\n            speak: none;\n            font-style: normal;\n            font-weight: 400;\n            font-variant: normal;\n            text-transform: none;\n            line-height: 1;\n            vertical-align: baseline;\n            display: inline-block;\n            -webkit-font-smoothing: antialiased;\n            margin-right: 5px;\n            font-size: 16px;\n        }\n    }\n\n    // .hasChild {\n    //     font-size: 14px;\n    //     &::before {\n    //         content: \"\\e784\";\n    //     }\n    // }\n\n    // h2,h3,h4,h5,h6{\n    //     margin-left: 20px;\n    // }\n    // .hasChild{\n    //     margin-left: 0;\n    // }\n\n    // h3 + h2,h4 + h3,h5 + h4,h6 + h5{\n    //     margin-left: 0;\n    // }\n\n    .lv2 {\n        padding-left: 20px;\n    }\n\n    .lv3 {\n        padding-left: 40px;\n    }\n\n    .lv0 {\n        display: none;\n    }\n}\n\n.c-article-directory-title {\n    margin-bottom: 5px;\n    .c-article-directory-title-label {\n        font-weight: 300;\n        font-size: 20px;\n        // cursor: pointer;\n        // &:hover {\n        //     color: #f39;\n        // }\n    }\n    .c-article-directory-title-skip,\n    .c-article-directory-title-folder {\n        font-size: 14px;\n        float: right;\n        padding: 0 5px;\n        line-height: 25px;\n        color: darken(#dcdfe6, 5%);\n        cursor: pointer;\n        &:hover {\n            color: darken(#dcdfe6, 20%);\n        }\n    }\n}\n.c-article-directory-content {\n    padding: 10px 15px;\n}\n\n@keyframes focusFade {\n    from {\n        background-color: #c3fcff;\n    }\n    to {\n        background-color: transparent;\n    }\n}\n\n.c-article .isScrollFocus {\n    animation: focusFade 0.5s ease-in-out;\n}\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostDirectory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostDirectory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PostDirectory.vue?vue&type=template&id=63b1e8fa\"\nimport script from \"./PostDirectory.vue?vue&type=script&lang=js\"\nexport * from \"./PostDirectory.vue?vue&type=script&lang=js\"\nimport style0 from \"./PostDirectory.vue?vue&type=style&index=0&id=63b1e8fa&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.list && _vm.list.length)?_c('div',{staticClass:\"m-single-collection\"},[_vm._m(0),_c('ul',{staticClass:\"u-list\"},_vm._l((_vm.list),function(item,i){return _c('li',{key:i},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":item.title,\"placement\":\"left\"}},[_c('a',{attrs:{\"href\":_vm.showLink(item),\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-link\"}),_vm._v(\" \"+_vm._s(item.title)+\" \")])])],1)}),0)]):_vm._e()\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-connection\"}),_vm._v(\" 关联\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-single-collection\" v-if=\"list && list.length\">\n        <div class=\"u-title\"><i class=\"el-icon-connection\"></i> 关联</div>\n        <ul class=\"u-list\">\n            <li v-for=\"(item, i) in list\" :key=\"i\">\n                <el-tooltip class=\"item\" effect=\"dark\" :content=\"item.title\" placement=\"left\">\n                    <a :href=\"showLink(item)\" target=\"_blank\">\n                        <i class=\"el-icon-link\"></i>\n                        {{ item.title }}\n                    </a>\n                </el-tooltip>\n            </li>\n        </ul>\n        <!-- <a class=\"u-image\" :href=\"`collection/${store.id}`\">\n            <img :src=\"getCover(store.image)\" />\n        </a> -->\n    </div>\n</template>\n\n<script>\nimport { showAvatar, getLink, resolveImagePath, authorLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { getCollection } from \"../../service/cms\";\nexport default {\n    name: \"PostCollection\",\n    props: [\"id\", \"store\"],\n    components: {},\n    data: function() {\n        return {\n            data: {\n                title: \"\",\n                posts: [],\n            },\n        };\n    },\n    computed: {\n        list: function() {\n            return this.store?.posts || this.data?.posts;\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler: function(val) {\n                !!~~val && this.loadData();\n            },\n        },\n    },\n    methods: {\n        loadData: function() {\n            getCollection(this.id).then((res) => {\n                this.data = res.data?.data;\n            });\n        },\n        showLink: function(item) {\n            if (item.type == \"custom\") {\n                return item.url;\n            } else {\n                return getLink(item.type, item.id);\n            }\n        },\n        getCover: function (val) {\n            return val ? resolveImagePath(val) : `${__imgPath}image/collection/default_cover.png`;\n        },\n    },\n};\n</script>\n<style scoped lang=\"less\">\n.m-single-collection {\n    .u-image {\n        img {\n            .w(100%);\n            height: 226px;\n            object-fit: cover;\n            // border-radius: 4px;\n        }\n    }\n    .u-title {\n        font-weight: 300;\n        font-size: 20px;\n    }\n    .u-list {\n        list-style: none;\n        padding: 10px 20px;\n        margin: 0;\n        li {\n            .fz(13px, 36px);\n        }\n        a {\n            .db;\n            transition: 0.15s ease-in-out;\n            .nobreak;\n            &:hover {\n                background-color: #e6f0fb;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostCollection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostCollection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PostCollection.vue?vue&type=template&id=309a13ae&scoped=true\"\nimport script from \"./PostCollection.vue?vue&type=script&lang=js\"\nexport * from \"./PostCollection.vue?vue&type=script&lang=js\"\nimport style0 from \"./PostCollection.vue?vue&type=style&index=0&id=309a13ae&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"309a13ae\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_single.vue?vue&type=style&index=0&id=73baba94&prod&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./CollectionLayout.vue?vue&type=style&index=0&id=4a85692a&prod&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection_admin.vue?vue&type=style&index=0&id=32473ddc&prod&lang=less\"","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostCollection.vue?vue&type=style&index=0&id=309a13ae&prod&scoped=true&lang=less\"","module.exports = __webpack_public_path__ + \"img/topic_bg_bps.423bd2a8.svg\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topicInfo),expression:\"topicInfo\"}],staticClass:\"c-post-topic\"},[_c('div',{staticClass:\"c-post-topic__banner\"},[_c('div',{staticClass:\"c-topic-text\"},[_c('div',{staticClass:\"c-topic-text__year\"},[_vm._v(_vm._s(_vm.year))]),_c('div',{staticClass:\"c-topic-text__text\"},[_vm._v(_vm._s(_vm.topicText))])]),_c('img',{staticClass:\"c-topic-bg\",attrs:{\"src\":require(\"../../assets/img/rightsidebar/topic_bg_bps.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"c-post-topic__img\"},[_c('img',{attrs:{\"src\":_vm.topicImage,\"alt\":\"\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"c-post-topic\" v-show=\"topicInfo\">\n        <div class=\"c-post-topic__banner\">\n            <div class=\"c-topic-text\">\n                <div class=\"c-topic-text__year\">{{ year }}</div>\n                <div class=\"c-topic-text__text\">{{ topicText }}</div>\n            </div>\n            <img class=\"c-topic-bg\" src=\"../../assets/img/rightsidebar/topic_bg_bps.svg\" alt=\"\">\n        </div>\n        <div class=\"c-post-topic__img\">\n            <img :src=\"topicImage\" alt=\"\">\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getSliders } from \"../../service/cms\";\nimport { getThumbnail } from \"@jx3box/jx3box-common/js/utils\";\nimport dayjs from \"dayjs\";\nexport default {\n    name: \"PostTopic\",\n    props: {\n        type: {\n            type: String,\n            default: \"bps\",\n        },\n        id: {\n            type: Number,\n            default: 46917,\n        },\n        postBanner: {\n            type: String,\n            default: \"\",\n        },\n    },\n    data() {\n        return {\n            topicInfo: null\n        }\n    },\n    computed: {\n        topicText() {\n            return this.topicInfo ? `${dayjs(this.topicInfo.created_at).format('MM月DD日')}荣登头条榜` : ''\n        },\n        year() {\n            return this.topicInfo ? dayjs(this.topicInfo.created_at).format('YYYY年') : \"\"\n        },\n        topicImage() {\n            const img = this.postBanner || this.topicInfo?.img;\n            return getThumbnail(img, [260*2, 78*2])\n        },\n        client() {\n            return location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler(val) {\n                if (!val) return;\n                this.loadData();\n            }\n        }\n    },\n    methods: {\n        loadData() {\n            getSliders(this.type, this.id, this.client).then((res) => {\n                if (res.data.data?.list) {\n                    // 取创建时间最新的一条\n                    const list = res.data.data.list.sort((a, b) => dayjs(b.created_at).isAfter(dayjs(a.created_at)) ? 1 : -1);\n                    this.topicInfo = list[0];\n                }\n            });\n        },\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.c-post-topic {\n    margin-bottom: 10px;\n}\n.c-post-topic__banner {\n    position: relative;\n    // height: 100px;\n    margin-bottom: 10px;\n    .c-topic-text {\n        font-size: 12px;\n        font-weight: 700;\n        position: absolute;\n        bottom: 12px;\n        right: 0;\n        // left: 50%;\n        // transform: translate(-50%, -50%);\n        z-index: 1;\n        color: #FFD28F;\n        letter-spacing: 1px;\n        white-space: nowrap;\n        margin-right: 8px;\n    }\n    .c-topic-text__year {\n        margin-bottom: 2px;\n        text-align: right;\n    }\n    .c-topic-bg {\n        width: 270px;\n        // position: absolute;\n        // top: 50%;\n        // left: calc(50% + 5px);\n        // transform: translate(-50%, -50%);\n    }\n}\n.c-post-topic__img {\n    .pr;\n    overflow: hidden;\n    .r(4px);\n    min-height: 71px;\n    img{\n        .pa;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n}\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostTopic.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostTopic.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PostTopic.vue?vue&type=template&id=7b724026&scoped=true\"\nimport script from \"./PostTopic.vue?vue&type=script&lang=js\"\nexport * from \"./PostTopic.vue?vue&type=script&lang=js\"\nimport style0 from \"./PostTopic.vue?vue&type=style&index=0&id=7b724026&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b724026\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./PostDirectory.vue?vue&type=style&index=0&id=63b1e8fa&prod&lang=less\"","import dayjs from \"dayjs\";\nconst relativeTime = require(\"dayjs/plugin/relativeTime\");\nrequire(\"dayjs/locale/zh-cn\");\ndayjs.locale(\"zh-cn\");\ndayjs.extend(relativeTime);\n// 日期距离今日\nfunction getRelativeTime(dt) {\n    return dayjs().from(dayjs(dt));\n}\n\n/**\n * 简单的日期格式化\n *\n * @param {*} dt Date实例\n * @param {object} opt polished:是否补齐两位,separator:连接分隔符\n */\nfunction dateFormat(dt, separator = \"-\", polished = true) {\n    let year = dt.getFullYear();\n    let month = dt.getMonth() + 1;\n    let date = dt.getDate();\n    let str = polished ? `${year}${separator}${polish(month)}${separator}${polish(date)}` : `${year}${separator}${month}${separator}${date}`;\n    return str;\n}\n\nfunction polish(val) {\n    return val < 10 ? \"0\" + val : val;\n}\n\nexport { dateFormat, getRelativeTime };\n"],"sourceRoot":""}