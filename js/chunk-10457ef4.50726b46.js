(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10457ef4"],{"057ff":function(t,e,n){"use strict";n("d0fa")},"1ce6":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-collection-single"},[t.collection?[n("div",{staticClass:"m-collection-detail-content"},[n("div",{staticClass:"m-collection-detail-header"},[n("header",{staticClass:"m-single-header"},[n("div",{staticClass:"m-single-title"},[n("span",{staticClass:"u-title u-sub-block",attrs:{href:t.url,title:t.collection.title}},[t.collection.public?t._e():n("i",{staticClass:"u-private el-icon-lock",attrs:{title:"仅自己可见"}}),n("span",{staticClass:"u-title-text"},[t._v(t._s(t.collection.title))])])]),n("div",{staticClass:"m-single-info"},[n("div",{staticClass:"u-author u-sub-block"},[n("i",{staticClass:"u-author-icon"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16",width:"12",height:"16","aria-hidden":"true",fill:"#444","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z"}})])]),n("a",{staticClass:"u-name",attrs:{href:t._f("authorLink")(t.collection.user_id)}},[t._v(t._s(t.collection.user_nickname))])]),n("span",{staticClass:"u-podate u-sub-block",attrs:{title:"发布日期"}},[n("i",{staticClass:"u-icon el-icon-date"}),n("time",[t._v(t._s(t.dateFormat(t.collection.created)))])]),n("span",{staticClass:"u-modate u-sub-block",attrs:{title:"最后更新"}},[n("i",{staticClass:"u-icon el-icon-refresh"}),n("time",[t._v(t._s(t.dateFormat(t.collection.updated)))])]),n("span",{staticClass:"u-views u-sub-block"},[n("i",{staticClass:"u-icon el-icon-view"}),t._v(" "+t._s(t.views)+" ")]),t.canEdit?n("a",{staticClass:"u-edit u-sub-block",attrs:{href:t.edit_link}},[n("i",{staticClass:"u-icon-edit el-icon-edit-outline"}),n("span",[t._v("编辑")])]):t._e(),t.canEdit?n("a",{staticClass:"u-delete u-sub-block",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.delete_handle(e,t.collection.id)}}},[n("i",{staticClass:"u-icon-remove el-icon-delete"}),n("span",[t._v("删除")])]):t._e()])])]),t.collection.description?[n("el-divider",{attrs:{"content-position":"left"}},[n("i",{staticClass:"el-icon-collection"}),t._v(" 小册简介 ")]),n("div",{staticClass:"u-description"},[n("p",{domProps:{innerHTML:t._s(t.collection.description)}})])]:t._e(),t.collection.posts&&t.collection.posts.length?[n("el-divider",{attrs:{"content-position":"left"}},[n("i",{staticClass:"el-icon-folder"}),t._v(" 小册文章 ")]),n("ul",{staticClass:"u-list"},t._l(t.collection.posts,(function(e,r){return n("li",{key:r,staticClass:"u-item"},[n("span",{staticClass:"u-item-order"},[t._v(t._s(r+1)+".")]),"custom"===e.type?n("span",{staticClass:"u-item-link"},[n("i",{staticClass:"el-icon-link"}),t._v("站外链接 ")]):t._e(),"custom"!==e.type&&e.user_id?n("a",{staticClass:"u-item-author",attrs:{target:"_blank",href:t._f("authorLink")(e.user_id)}},[n("img",{staticClass:"u-avatar",attrs:{src:t.showAvatar(e.user_avatar)}}),n("span",{staticClass:"u-nickname",domProps:{textContent:t._s(e.user_nickname)}}),n("span",{staticClass:"u-div"},[t._v("/")])]):t._e(),n("a",{staticClass:"u-item-title",attrs:{target:"_blank",href:"custom"===e.type?e.url:t.getLink(e.type,e.id)}},[t._v(t._s(e.title))]),e.updated?n("time",{staticClass:"u-updated",domProps:{textContent:t._s("最后更新于 "+t.dateFormat(e.updated))}}):t._e()])})),0)]:t._e()],2),n("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"collection",postTitle:t.title,userId:t.author_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,client:"all"}}),t.id?n("div",{staticClass:"m-comments"},[n("el-divider",{attrs:{"content-position":"left"}},[n("span",{staticStyle:{color:"#999999"}},[n("i",{staticClass:"el-icon-chat-line-square"}),t._v(" 讨论 ")])]),n("jx3-comment",{attrs:{id:t.id,category:"collection"}})],1):t._e()]:n("el-alert",{attrs:{title:"该剑三小册不存在或已被删除",type:"info",center:"","show-icon":"",closable:!1}})],2)},i=[],o=(n("d3b7"),n("23d8"));const a=Object.freeze({PRIVATE:0,PUBLIC:1,all(){return[this.PRIVATE,this.PUBLIC]}});var l=a,c=n("73cd"),s=n("fb92"),u=n("85e4"),d=n("c9d2"),f=n("9616"),p={name:"CollectionSingle",props:[],components:{"jx3-comment":o["a"]},data:function(){return{collection:"",publish:l,url:location.href,views:0,loading:!1}},computed:{edit_link:function(){return Object(u["editLink"])("collection",this.collection.id)},id:function(){var t;return null===(t=this.collection)||void 0===t?void 0:t.id},author_id:function(){var t;return(null===(t=this.collection)||void 0===t?void 0:t.user_id)||0},canEdit:function(){return this.author_id==d["a"].getInfo().uid||d["a"].isEditor()},title:function(){return this.collection.title}},watch:{"$route.params.id":{immediate:!0,handler:function(t){t&&(this.loadData(t),this.execStat(t))}}},methods:{getThumbnail:u["getThumbnail"],getLink:u["getLink"],getTypeLabel:u["getTypeLabel"],showAvatar:u["showAvatar"],dateFormat:function(t){return Object(s["a"])(new Date(1e3*t))},delete_handle:function(t,e){var n=this;t.preventDefault(),this.$confirm("确认是否删除该剑三小册？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["c"])(e).then((function(t){n.$message.success(t.message),n.$router.push({name:"collection"})}))}))},loadData:function(t){var e=this;this.loading=!0,Object(c["a"])(t,{post_extra:1}).then((function(t){var n,r;e.collection=(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.collection)||{},e.$store.state.user_id=e.collection.user_id})).finally((function(){e.loading=!1}))},execStat:function(t){var e=this;Object(f["b"])("collection",t),Object(f["a"])("collection",t).then((function(t){e.views=t.data.views}))}},filters:{authorLink:u["authorLink"]},created:function(){},mounted:function(){}},m=p,h=(n("057ff"),n("2877")),y=Object(h["a"])(m,r,i,!1,null,"ea79adde",null);e["default"]=y.exports},4127:function(t,e,n){"use strict";var r=n("d233"),i=n("b313"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,l=Array.prototype.push,c=function(t,e){l.apply(t,a(e)?e:[e])},s=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},d=function t(e,n,i,o,l,s,d,f,p,m,h,y){var v=e;if("function"===typeof d?v=d(n,v):v instanceof Date&&(v=m(v)),null===v){if(o)return s&&!y?s(n,u.encoder):n;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||r.isBuffer(v)){if(s){var b=y?n:s(n,u.encoder);return[h(b)+"="+h(s(v,u.encoder))]}return[h(n)+"="+h(String(v))]}var _,g=[];if("undefined"===typeof v)return g;if(a(d))_=d;else{var w=Object.keys(v);_=f?w.sort(f):w}for(var j=0;j<_.length;++j){var C=_[j];l&&null===v[C]||(a(v)?c(g,t(v[C],i(n,C),i,o,l,s,d,f,p,m,h,y)):c(g,t(v[C],n+(p?"."+C:"["+C+"]"),i,o,l,s,d,f,p,m,h,y)))}return g};t.exports=function(t,e){var n=t,l=e?r.assign({},e):{};if(null!==l.encoder&&"undefined"!==typeof l.encoder&&"function"!==typeof l.encoder)throw new TypeError("Encoder has to be a function.");var s="undefined"===typeof l.delimiter?u.delimiter:l.delimiter,f="boolean"===typeof l.strictNullHandling?l.strictNullHandling:u.strictNullHandling,p="boolean"===typeof l.skipNulls?l.skipNulls:u.skipNulls,m="boolean"===typeof l.encode?l.encode:u.encode,h="function"===typeof l.encoder?l.encoder:u.encoder,y="function"===typeof l.sort?l.sort:null,v="undefined"!==typeof l.allowDots&&l.allowDots,b="function"===typeof l.serializeDate?l.serializeDate:u.serializeDate,_="boolean"===typeof l.encodeValuesOnly?l.encodeValuesOnly:u.encodeValuesOnly;if("undefined"===typeof l.format)l.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,l.format))throw new TypeError("Unknown format option provided.");var g,w,j=i.formatters[l.format];"function"===typeof l.filter?(w=l.filter,n=w("",n)):a(l.filter)&&(w=l.filter,g=w);var C,O=[];if("object"!==typeof n||null===n)return"";C=l.arrayFormat in o?l.arrayFormat:"indices"in l?l.indices?"indices":"repeat":"indices";var k=o[C];g||(g=Object.keys(n)),y&&g.sort(y);for(var x=0;x<g.length;++x){var L=g[x];p&&null===n[L]||c(O,d(n[L],L,k,f,p,m?h:null,w,y,v,b,j,_))}var A=O.join(s),Y=!0===l.addQueryPrefix?"?":"";return A.length>0?Y+A:""}},4208:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(t,e,n,i){return r.fromToBase(t,e,n,i)}n.en.relativeTime=i,r.fromToBase=function(e,r,o,a,l){for(var c,s,u,d=o.$locale().relativeTime||i,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=f.length,m=0;m<p;m+=1){var h=f[m];h.d&&(c=a?n(e).diff(o,h.d,!0):o.diff(e,h.d,!0));var y=(t.rounding||Math.round)(Math.abs(c));if(u=c>0,y<=h.r||!h.r){y<=1&&m>0&&(h=f[m-1]);var v=d[h.l];l&&(y=l(""+y)),s="string"==typeof v?v.replace("%d",y):v(y,r,h.l,u);break}}if(r)return s;var b=u?d.future:d.past;return"function"==typeof b?b(s):b.replace("%s",s)},r.to=function(t,e){return o(t,e,this,!0)},r.from=function(t,e){return o(t,e,this)};var a=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(a(this),t)},r.fromNow=function(t){return this.from(a(this),t)}}}))},4328:function(t,e,n){"use strict";var r=n("4127"),i=n("9e6a"),o=n("b313");t.exports={formats:o,parse:i,stringify:r}},"73cd":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c}));var r=n("41cb"),i=n("4328"),o=n.n(i);function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["b"])()({method:"GET",url:"/api/post/collection/".concat(t),params:e})}function l(t){return Object(r["b"])()({method:"GET",url:"/api/post/collections",params:t})}function c(t){return Object(r["b"])()({method:"PUT",url:"/api/post/collection/remove",data:o.a.stringify({id:t})})}},"9e6a":function(t,e,n){"use strict";var r=n("d233"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e){for(var n={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,l=r.split(e.delimiter,a),c=0;c<l.length;++c){var s,u,d=l[c],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(s=e.decoder(d,o.decoder),u=e.strictNullHandling?null:""):(s=e.decoder(d.slice(0,p),o.decoder),u=e.decoder(d.slice(p+1),o.decoder)),i.call(n,s)?n[s]=[].concat(n[s]).concat(u):n[s]=u}return n},l=function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=r):"__proto__"!==l&&(o[l]=r):o={0:r}}r=o}return r},c=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.exec(r),s=c?r.slice(0,c.index):r,u=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}var d=0;while(null!==(c=a.exec(r))&&d<n.depth){if(d+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+r.slice(c.index)+"]"),l(u,e,n)}};t.exports=function(t,e){var n=e?r.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"===typeof n.depth?n.depth:o.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"===typeof t)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof t?a(t,n):t,l=n.plainObjects?Object.create(null):{},s=Object.keys(i),u=0;u<s.length;++u){var d=s[u],f=c(d,i[d],n);l=r.merge(l,f,n)}return r.compact(l)}},a471:function(t,e,n){!function(e,r){t.exports=r(n("5a0c"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){return"W"===e?t+"周":t+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}))},b313:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d0fa:function(t,e,n){},d233:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t){var e;while(t.length){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var r=[],i=0;i<e.length;++i)"undefined"!==typeof e[i]&&r.push(e[i]);n.obj[n.prop]=r}}return e},a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)"undefined"!==typeof t[r]&&(n[r]=t[r]);return n},l=function t(e,n,i){if(!n)return e;if("object"!==typeof n){if(Array.isArray(e))e.push(n);else{if(!e||"object"!==typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!==typeof e)return[e].concat(n);var o=e;return Array.isArray(e)&&!Array.isArray(n)&&(o=a(e,i)),Array.isArray(e)&&Array.isArray(n)?(n.forEach((function(n,o){if(r.call(e,o)){var a=e[o];a&&"object"===typeof a&&n&&"object"===typeof n?e[o]=t(a,n,i):e.push(n)}else e[o]=n})),e):Object.keys(n).reduce((function(e,o){var a=n[o];return r.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e}),o)},c=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},s=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},u=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),n="",r=0;r<e.length;++r){var o=e.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(r):o<128?n+=i[o]:o<2048?n+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(r)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return n},d=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var s=l[c],u=a[s];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:a,prop:s}),n.push(u))}return o(e)},f=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},p=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:a,assign:c,compact:d,decode:s,encode:u,isBuffer:p,isRegExp:f,merge:l}},fb92:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return a}));n("99af");var r=n("5a0c"),i=n.n(r),o=n("4208");function a(t){return i()().from(i()(t))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),a=n?"".concat(r).concat(e).concat(c(i)).concat(e).concat(c(o)):"".concat(r).concat(e).concat(i).concat(e).concat(o);return a}function c(t){return t<10?"0"+t:t}n("a471"),i.a.locale("zh-cn"),i.a.extend(o)}}]);
//# sourceMappingURL=chunk-10457ef4.50726b46.js.map