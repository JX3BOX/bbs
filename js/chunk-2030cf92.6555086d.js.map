{"version":3,"sources":["webpack:///./src/components/bbs/list_top.vue?7ce4","webpack:///./src/service/post.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/Forum.vue?be51","webpack:///./src/components/bbs/list_item.vue?f9dc","webpack:///src/components/bbs/list_item.vue","webpack:///./src/components/bbs/list_item.vue?5273","webpack:///./src/components/bbs/list_item.vue","webpack:///./src/components/bbs/list_top.vue?9f49","webpack:///src/components/bbs/list_top.vue","webpack:///./src/components/bbs/list_top.vue?304b","webpack:///./src/components/bbs/list_top.vue","webpack:///./src/service/cms.js","webpack:///src/views/Forum.vue","webpack:///./src/views/Forum.vue?8e60","webpack:///./src/views/Forum.vue","webpack:///./src/views/Forum.vue?6a05","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["getPosts","params","query","type","Object","assign","$cms","get","getPost","id","getTopicsCount","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","slot","publish_link","_v","on","onSearch","nativeOn","$event","indexOf","_k","keyCode","key","apply","arguments","model","callback","$$v","search","class","active","tag","setTag","_l","item","_s","getCount","_e","data","length","i","order","loading","appendPage","per","total","page","changePage","staticRenderFns","href","reporterLink","ID","caller","_f","getBanner","post_banner","post_subtype","isSticky","sticky","style","color","post_title","mark","post_excerpt","author_info","post_author","post_modified","post_date","component","itemTypeStyle","itemType","postLink","getTopicBucket","_defineProperty","obj","defineProperty","enumerable","configurable","writable","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-2030cf92.6555086d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_top.vue?vue&type=style&index=0&lang=less&\"","import { $cms, $next } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getMyPost(params) {\n    return $cms().get(\"/api/cms/posts/my\", {\n        params: params,\n    });\n}\n\nfunction getPosts(params) {\n    let query = {\n        type: \"bbs\",\n    };\n    if (params) {\n        query = Object.assign(query, params);\n    }\n    return $cms().get(\"/api/cms/posts\", {\n        params: query,\n    });\n}\nfunction getPost(id) {\n    return $cms().get(`/api/cms/post/${id}`);\n}\n\n\nfunction removeFeedback(id) {\n    return $cms().put(`/api/cms/post/${id}/setting`, {\n        post_status: \"dustbin\",\n    });\n}\n\nfunction getTopicsCount(params) {\n    return $cms().get(`/api/cms/post/topics/count`, { params });\n}\n\nexport { getPosts, getPost, getMyPost, removeFeedback, getTopicsCount };\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ListLayout',[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-archive-box\"},[_c('div',{staticClass:\"m-archive-search m-bbs-search\",attrs:{\"slot\":\"search-before\"},slot:\"search-before\"},[_c('a',{staticClass:\"u-publish el-button el-button--primary\",attrs:{\"href\":_vm.publish_link}},[_vm._v(\"+ 发布作品\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入搜索内容\",\"clearable\":\"\"},on:{\"clear\":_vm.onSearch},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch.apply(null, arguments)}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"search\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',{staticClass:\"u-search\"},[_vm._v(\"关键词\")])]),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-position\"},on:{\"click\":_vm.onSearch},slot:\"append\"})],1)],1),_c('div',{staticClass:\"m-bbs-tags\"},[_c('div',{staticClass:\"u-tag\",class:{ active: _vm.tag === '' },on:{\"click\":function($event){return _vm.setTag('')}}},[_vm._v(\"全部\")]),_vm._l((_vm.theme),function(item){return _c('div',{key:item,staticClass:\"u-tag\",class:{ active: _vm.tag === item },on:{\"click\":function($event){return _vm.setTag(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \"),(_vm.getCount(item))?_c('span',{staticClass:\"u-count\"},[_vm._v(\"(\"+_vm._s(_vm.getCount(item))+\")\")]):_vm._e()])})],2),_c('list-top'),(_vm.data && _vm.data.length)?_c('div',{staticClass:\"m-archive-list\"},[_c('ul',{staticClass:\"u-list\"},_vm._l((_vm.data),function(item,i){return _c('list-item',{key:i + item,attrs:{\"item\":item,\"order\":_vm.order,\"caller\":\"bbs_index_click\"}})}),1)]):_c('el-alert',{staticClass:\"m-archive-null\",attrs:{\"title\":\"没有找到相关条目\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasNextPage),expression:\"hasNextPage\"}],staticClass:\"m-archive-more\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading,\"icon\":\"el-icon-arrow-down\"},on:{\"click\":_vm.appendPage}},[_vm._v(\"加载更多\")]),_c('el-pagination',{staticClass:\"m-archive-pages\",attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"current-change\":_vm.changePage}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"u-item\"},[_c('a',{directives:[{name:\"reporter\",rawName:\"v-reporter\",value:({\n            data: {\n                href: _vm.reporterLink(_vm.item.ID),\n            },\n            caller: _vm.caller,\n        }),expression:\"{\\n            data: {\\n                href: reporterLink(item.ID),\\n            },\\n            caller,\\n        }\"}],staticClass:\"u-banner\",attrs:{\"href\":_vm._f(\"postLink\")(_vm.item.ID),\"target\":_vm.target}},[_c('img',{key:_vm.item.ID,attrs:{\"src\":_vm.getBanner(_vm.item.post_banner, _vm.item.post_subtype)}})]),_c('h2',{staticClass:\"u-post\",class:{ isSticky: _vm.item.sticky }},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 12 16\",\"width\":\"12\",\"height\":\"16\",\"aria-hidden\":\"true\",\"fill\":\"#555\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z\"}})]),_c('a',{directives:[{name:\"reporter\",rawName:\"v-reporter\",value:({\n            data: {\n                href: _vm.reporterLink(_vm.item.ID),\n            },\n            caller: _vm.caller,\n        }),expression:\"{\\n            data: {\\n                href: reporterLink(item.ID),\\n            },\\n            caller,\\n        }\"}],staticClass:\"u-title\",style:(_vm._f(\"showHighlight\")(_vm.item.color)),attrs:{\"href\":_vm._f(\"postLink\")(_vm.item.ID),\"target\":_vm.target}},[_vm._v(_vm._s(_vm.item.post_title || \"无标题\"))]),(_vm.item.mark && _vm.item.mark.length)?_c('span',{staticClass:\"u-marks\"},_vm._l((_vm.item.mark),function(mark){return _c('i',{key:mark,staticClass:\"u-mark\"},[_vm._v(_vm._s(_vm._f(\"showMark\")(mark)))])}),0):_vm._e()]),_c('div',{staticClass:\"u-content u-desc\"},[_vm._v(\" \"+_vm._s(_vm.item.post_excerpt || _vm.item.post_title || \"这个作者很懒,什么都没有留下\")+\" \")]),_c('div',{staticClass:\"u-misc\"},[_c('img',{staticClass:\"u-author-avatar\",attrs:{\"src\":_vm._f(\"showAvatar\")(_vm.item.author_info),\"alt\":_vm._f(\"showNickname\")(_vm.item.author_info)}}),_c('a',{staticClass:\"u-author-name\",attrs:{\"href\":_vm._f(\"authorLink\")(_vm.item.post_author),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm._f(\"showNickname\")(_vm.item.author_info)))]),_c('span',{staticClass:\"u-date\"},[_vm._v(\" Updated on \"),(_vm.order == 'update')?_c('time',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.item.post_modified)))]):_c('time',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.item.post_date)))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"u-item\">\n        <!-- Banner -->\n        <a class=\"u-banner\" :href=\"item.ID | postLink\" :target=\"target\" v-reporter=\"{\n                data: {\n                    href: reporterLink(item.ID),\n                },\n                caller,\n            }\"><img :src=\"getBanner(item.post_banner, item.post_subtype)\" :key=\"item.ID\"/></a>\n\n        <!-- 标题 -->\n        <h2 class=\"u-post\" :class=\"{ isSticky: item.sticky }\">\n            <!-- 图标 -->\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12 16\" width=\"12\" height=\"16\" aria-hidden=\"true\" fill=\"#555\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" d=\"M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z\"/></svg>\n\n            <!-- 标题文字 -->\n            <a class=\"u-title\" :style=\"item.color | showHighlight\" :href=\"item.ID | postLink\" :target=\"target\" v-reporter=\"{\n                data: {\n                    href: reporterLink(item.ID),\n                },\n                caller,\n            }\">{{ item.post_title || \"无标题\" }}</a>\n\n            <!-- 角标 -->\n            <span class=\"u-marks\" v-if=\"item.mark && item.mark.length\">\n                <i v-for=\"mark in item.mark\" class=\"u-mark\" :key=\"mark\">{{ mark | showMark }}</i>\n            </span>\n        </h2>\n\n        <!-- 字段 -->\n        <div class=\"u-content u-desc\">\n            {{ item.post_excerpt || item.post_title || \"这个作者很懒,什么都没有留下\" }}\n        </div>\n\n        <!-- 作者 -->\n        <div class=\"u-misc\">\n            <img class=\"u-author-avatar\" :src=\"item.author_info | showAvatar\" :alt=\"item.author_info | showNickname\" />\n            <a class=\"u-author-name\" :href=\"item.post_author | authorLink\" target=\"_blank\">{{ item.author_info | showNickname }}</a>\n            <span class=\"u-date\">\n                Updated on\n                <time v-if=\"order == 'update'\">{{ item.post_modified | dateFormat }}</time>\n                <time v-else>{{ item.post_date | dateFormat }}</time>\n            </span>\n        </div>\n    </li>\n</template>\n\n<script>\nimport { appKey } from \"@/../setting.json\";\nimport { showAvatar, authorLink, showBanner, buildTarget } from \"@jx3box/jx3box-common/js/utils\";\nimport { __ossMirror, __imgPath } from \"@jx3box/jx3box-common/data/jx3box\";\nimport { cms as mark_map } from \"@jx3box/jx3box-common/data/mark.json\";\nimport {showDate} from '@jx3box/jx3box-common/js/moment.js'\nexport default {\n    name: \"ListItem\",\n    props: ['item','order', 'caller'],\n    components: {},\n    data: function() {\n        return {\n            target : buildTarget(),\n        };\n    },\n    computed: {\n        client() {\n            return this.item?.client;\n        },\n    },\n    watch: {},\n    methods: {\n        getBanner: function(val, subtype) {\n            if (val) {\n                return showBanner(val);\n            } else {\n                return __imgPath + `image/banner/${appKey}` + subtype + \".png\";\n            }\n        },\n        reporterLink: function (val) {\n            const prefix = this.client === 'std' ? 'www' : 'origin'\n            return`${prefix}:/${appKey}/` + val;\n        },\n    },\n    filters: {\n        authorLink,\n        postLink: function(val) {\n            return location.origin + `/${appKey}/` + val;\n        },\n        showHighlight: function(val) {\n            return val ? `color:${val};font-weight:600;` : \"\";\n        },\n        showMark: function(val) {\n            return mark_map[val] || val;\n        },\n        showAvatar: function(userinfo) {\n            return showAvatar(userinfo?.user_avatar);\n        },\n        showNickname : function (userinfo){\n            return userinfo?.display_name || '匿名'\n        },\n        dateFormat : function (gmt){\n            return showDate(new Date(gmt))\n        }\n    },\n    created: function() {},\n    mounted: function() {},\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list_item.vue?vue&type=template&id=5c4c5714&\"\nimport script from \"./list_item.vue?vue&type=script&lang=js&\"\nexport * from \"./list_item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-bbs-top\"},[_c('div',{staticClass:\"m-bbs-top__header\"}),_c('div',{staticClass:\"m-bbs-top__content\"},_vm._l((_vm.data),function(item){return _c('div',{key:item.id,staticClass:\"m-bbs-top__item\"},[_c('span',{staticClass:\"u-type\",style:(_vm.itemTypeStyle(item))},[_vm._v(_vm._s(_vm.itemType(item, 'label')))]),_c('a',{staticClass:\"u-title\",class:{'is-bold': _vm.itemType(item, 'color')},attrs:{\"href\":_vm.postLink(item.ID),\"target\":\"_blank\"}},[_vm._v(_vm._s(item.post_title))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-bbs-top\">\n        <div class=\"m-bbs-top__header\">\n\n        </div>\n        <div class=\"m-bbs-top__content\">\n            <div class=\"m-bbs-top__item\" v-for=\"item in data\" :key=\"item.id\">\n                <span class=\"u-type\" :style=\"itemTypeStyle(item)\">{{ itemType(item, 'label') }}</span>\n                <a class=\"u-title\" :class=\"{'is-bold': itemType(item, 'color')}\" :href=\"postLink(item.ID)\" target=\"_blank\">{{ item.post_title }}</a>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getPosts } from \"@/service/post\";\nimport notice_types from \"@/assets/data/notice_types.json\";\nexport default {\n    data() {\n        return {\n            data: []\n        }\n    },\n    mounted() {\n        this.getNotice();\n    },\n    methods: {\n        getNotice() {\n            const query = {\n                per: 3,\n                page: 1,\n                sticky: 1,\n                type: 'notice'\n            }\n            getPosts(query).then(res => {\n                this.data = res.data.data.list;\n            })\n        },\n        itemType({ post_subtype }, key) {\n            return notice_types[post_subtype][key];\n        },\n        itemTypeStyle(item) {\n            return {\n                backgroundColor: this.itemType(item, 'color'),\n            }\n        },\n        postLink(val) {\n            return location.origin + `/notice/` + val;\n        },\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/bbs/top.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_top.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./list_top.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list_top.vue?vue&type=template&id=bfbb329c&\"\nimport script from \"./list_top.vue?vue&type=script&lang=js&\"\nexport * from \"./list_top.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list_top.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $cms } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getMenu(key) {\n    return $cms().get(`/api/cms/config/menu/${key}`);\n}\n\nfunction getAuthorInfo() {\n\n}\n\n// 获取自定义主题\nfunction getTopicBucket(params) {\n    return $cms().get(`/api/cms/post/topic/bucket`, { params });\n}\n\nexport { getMenu, getAuthorInfo, getTopicBucket };\n","<template>\n    <ListLayout>\n        <div class=\"m-archive-box\" v-loading=\"loading\">\n            <!-- 搜索 -->\n            <div class=\"m-archive-search m-bbs-search\" slot=\"search-before\">\n                <a :href=\"publish_link\" class=\"u-publish el-button el-button--primary\">+ 发布作品</a>\n                <el-input placeholder=\"请输入搜索内容\" v-model.trim.lazy=\"search\" @clear=\"onSearch\" clearable @keydown.native.enter=\"onSearch\">\n                    <span slot=\"prepend\"><i class=\"el-icon-search\"></i> <span class=\"u-search\">关键词</span></span>\n                    <el-button slot=\"append\" icon=\"el-icon-position\" @click=\"onSearch\"></el-button>\n                </el-input>\n            </div>\n\n            <!-- 子类别 -->\n            <!-- <el-tabs v-model=\"subtype\" class=\"m-archive-tabs\">\n                <el-tab-pane label=\"全部\" name=\"0\">\n                    <span slot=\"label\"> <i class=\"u-icon el-icon-menu\"></i> 全部作品 </span>\n                </el-tab-pane>\n                <el-tab-pane :label=\"item.label\" :name=\"key\" v-for=\"(item, key) in subtypes\" :key=\"key\">\n                    <span slot=\"label\">\n                        {{ item.label }}\n                    </span>\n                </el-tab-pane>\n            </el-tabs> -->\n\n            <!-- 筛选 -->\n            <!-- <div class=\"m-archive-filter\"> -->\n                <!-- 版本过滤 -->\n                <!-- <clientBy @filter=\"filterImperceptibly\" :type=\"client\"></clientBy> -->\n                <!-- 角标过滤 -->\n                <!-- <markBy @filter=\"filterMeta\"></markBy> -->\n                <!-- 排序过滤 -->\n                <!-- <orderBy @filter=\"filterMeta\" class=\"m-order-by\"></orderBy> -->\n\n            <!-- </div> -->\n            <div class=\"m-bbs-tags\">\n                <div class=\"u-tag\" :class=\"{ active: tag === '' }\" @click=\"setTag('')\">全部</div>\n                <div class=\"u-tag\" :class=\"{ active: tag === item }\" v-for=\"item in theme\" :key=\"item\" @click=\"setTag(item)\">\n                    {{ item }}\n                    <span class=\"u-count\" v-if=\"getCount(item)\">({{ getCount(item) }})</span>\n                </div>\n            </div>\n\n            <!-- 置顶 -->\n            <list-top />\n\n            <!-- 列表 -->\n            <div class=\"m-archive-list\" v-if=\"data && data.length\">\n                <ul class=\"u-list\">\n                    <list-item v-for=\"(item, i) in data\" :key=\"i + item\" :item=\"item\" :order=\"order\" caller=\"bbs_index_click\" />\n                </ul>\n            </div>\n\n            <!-- 空 -->\n            <el-alert v-else class=\"m-archive-null\" title=\"没有找到相关条目\" type=\"info\" center show-icon></el-alert>\n\n            <!-- 下一页 -->\n            <el-button class=\"m-archive-more\" v-show=\"hasNextPage\" type=\"primary\" @click=\"appendPage\" :loading=\"loading\" icon=\"el-icon-arrow-down\">加载更多</el-button>\n\n            <!-- 分页 -->\n            <el-pagination\n                class=\"m-archive-pages\"\n                background\n                layout=\"total, prev, pager, next, jumper\"\n                :hide-on-single-page=\"true\"\n                :page-size=\"per\"\n                :total=\"total\"\n                :current-page.sync=\"page\"\n                @current-change=\"changePage\"\n            ></el-pagination>\n        </div>\n    </ListLayout>\n</template>\n<script>\nimport { appKey } from \"@/../setting.json\";\nimport listItem from \"@/components/bbs/list_item.vue\";\nimport { publishLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { getPosts, getTopicsCount } from \"@/service/post\";\nimport subtypes from \"@/assets/data/bbs_types.json\";\nimport ListLayout from \"@/layouts/ListLayout.vue\";\nimport list_top from \"@/components/bbs/list_top.vue\";\nimport { bbs } from \"@jx3box/jx3box-common/data/post_topics.json\";\nimport { getTopicBucket } from \"@/service/cms\";\nimport { reportNow } from \"@jx3box/jx3box-common/js/reporter\";\n\nexport default {\n    name: \"Index\",\n    props: [],\n    data: function() {\n        return {\n            loading: false, //加载状态\n            data: [], //数据列表\n\n            page: 1, //当前页数\n            per: 10, //每页条目\n            total: 1, //总条目数\n            pages: 1, //总页数\n            number_queries: [\"per\", \"page\"],\n\n            subtypes,\n            subtype: \"0\", //子类别\n            order: \"update\", //排序模式\n            mark: \"\", //筛选模式\n            client: this.$store.state.client, //版本选择\n            search: \"\", //搜索字串\n\n            theme: [],\n            tag: \"\",\n\n            topicsCount: []\n        };\n    },\n    computed: {\n        // 发布按钮链接\n        publish_link: function() {\n            return publishLink(appKey);\n        },\n        // 是否显示加载更多\n        hasNextPage: function() {\n            return this.pages > 1 && this.page < this.total;\n        },\n        // 请求关联参数\n        query: function() {\n            return {\n                subtype: this.subtype,\n                order: this.order,\n                mark: this.mark,\n                client: this.client,\n                topic: this.tag,\n            };\n        },\n        // 分页相关参数\n        pg_queries : function (){\n            return {\n                page: this.page,\n                per: this.per,\n            }\n        },\n        // 重置页码参数\n        reset_queries: function() {\n            return [this.subtype, this.tag];\n        },\n    },\n    methods: {\n        reporterLink: function (val) {\n            const prefix = this.client === 'std' ? 'www' : 'origin'\n            return`${prefix}:/${appKey}/` + val;\n        },\n        onSearch: function() {\n            if (this.page !== 1) {\n                this.page = 1;\n                return;\n            }\n            this.loadData();\n        },\n        // 构建最终请求参数\n        buildQuery: function(appendMode) {\n            if (appendMode) {\n                this.page += 1\n            }\n            let _query = {\n                per : this.per,\n                page : this.page,\n            };\n\n            for (let key in this.query) {\n                if (this.query[key] !== undefined && this.query[key] !== \"\" && this.query[key] !== null) {\n                    if (key == \"search\") {\n                        _query.search = this.query.search.trim();\n                    } else if (key == 'subtype') {\n                        if (!!~~this.subtype) _query.subtype = this.subtype;\n                    } else {\n                        _query[key] = this.query[key];\n                    }\n                }\n            }\n            // 当指定子类别时启用置顶\n            // if(_query.subtype){\n            //     _query.sticky = 1\n            // }\n            _query.sticky = 1\n            // search处理\n            if (this.search) {\n                _query.search = this.search.trim();\n            }\n            return _query;\n        },\n        // 加载数据\n        loadData: function(appendMode = false) {\n            let query = this.buildQuery(appendMode);\n            console.log(\"[cms-list]\", \"<loading data>\", query);\n\n            this.loading = true;\n            return getPosts(query)\n                .then((res) => {\n                    if (appendMode) {\n                        this.data = this.data.concat(res.data?.data?.list);\n                    } else {\n                        this.data = res.data?.data?.list;\n                    }\n                    this.total = res.data?.data?.total;\n                    this.pages = res.data?.data?.pages;\n\n                    reportNow({\n                        caller: 'bbs_index_load',\n                        data: {\n                            aggregate: res.data?.data?.list.map(item => this.reporterLink(item.ID)),\n                        }\n                    })\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        // 路由绑定\n        replaceRoute: function(extend) {\n            return this.$router\n                .push({ name: this.$route.name, query: Object.assign({}, this.$route.query, extend) })\n                .then(() => {\n                    window.scrollTo(0, 0);\n                })\n                .catch((err) => {});\n        },\n        // 条件过滤\n        filterMeta: function(o) {\n            this.replaceRoute({ [o[\"type\"]]: o[\"val\"], page: 1 });\n        },\n        // 条件过滤（不附加路由）\n        filterImperceptibly: function(o) {\n            this[o[\"type\"]] = o[\"val\"];\n        },\n        // 翻页加载\n        changePage: function(i) {\n            this.loadData();\n            this.replaceRoute({ page: i });\n        },\n        // 追加加载\n        appendPage: function() {\n            this.loadData(true);\n        },\n\n        setTag(item) {\n            this.tag = this.tag === item ? \"\" : item;\n        },\n        loadCount() {\n            getTopicsCount({ post_type: 'bbs' }).then((res) => {\n                this.topicsCount = res.data.data;\n            });\n        },\n        getCount(topic) {\n            return this.topicsCount.find(item => item.topic == topic)?.count || 0\n        },\n        getTopicBucket() {\n            getTopicBucket({ type: 'bbs' }).then((res) => {\n                const data = res.data.data?.map(item => item.name) || [];\n                this.theme = [...bbs, ...data];\n            });\n        }\n    },\n    watch: {\n        // 加载路由参数\n        \"$route.query\": {\n            deep: true,\n            immediate: true,\n            handler: function(query) {\n                if (Object.keys(query).length) {\n                    console.log(\"[cms-list]\", \"<route query change>\", query);\n                    for (let key in query) {\n                        // for:element分页组件兼容性问题\n                        if (this.number_queries.includes(key)) {\n                            this[key] = ~~query[key];\n                        } else {\n                            this[key] = query[key];\n                        }\n                    }\n                }\n            },\n        },\n        // 重置分页参数\n        reset_queries: {\n            deep: true,\n            handler: function() {\n                console.log(\"[cms-list]\", \"<reset page>\");\n                this.page = 1;\n            },\n        },\n        // 监听请求参数\n        query: {\n            deep: true,\n            immediate: true,\n            handler: function(query) {\n                console.log(\"[cms-list]\", \"<request query change>\", query);\n                this.loadData();\n            },\n        },\n    },\n    mounted() {\n        this.loadCount();\n        this.getTopicBucket();\n    },\n    components: {\n        listItem,\n        ListLayout,\n        \"list-top\": list_top\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/app.less\";\n@import \"~@/assets/css/bbs/list.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Forum.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Forum.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Forum.vue?vue&type=template&id=686da43c&\"\nimport script from \"./Forum.vue?vue&type=script&lang=js&\"\nexport * from \"./Forum.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Forum.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Forum.vue?vue&type=style&index=0&lang=less&\"","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}