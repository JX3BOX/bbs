(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3c60320"],{"05e6":function(e,a,t){"use strict";t("2250")},2250:function(e,a,t){},"7a12":function(e,a,t){"use strict";t("cb03")},a3d0:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"v-namespace"},[t("div",{staticClass:"m-archive-search",attrs:{slot:"search-before"},slot:"search-before"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容"},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("关键词")]),t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t("el-tabs",{staticClass:"m-namespace-tab",model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},[t("el-tab-pane",{attrs:{label:"全部",name:"all"}}),e._l(e.types,(function(e){return t("el-tab-pane",{key:e.value,attrs:{label:e.label,name:e.value}})}))],2),t("div",{staticClass:"m-namespace-filter"},[t("div",{staticClass:"m-namespace-add"},[t("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:e.publish_link}},[e._v(" + 注册铭牌 ")]),t("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:e.buy_link}},[t("span",{staticClass:"el-icon-shopping-cart-2"}),e._v(" 0.99特惠活动 ")]),t("div",{staticClass:"m-namespace-total"},[e._v(" 当前共"),t("b",[e._v(e._s(e.total))]),e._v("个铭牌 ")])]),t("div",{staticClass:"m-namespace-order"},[t("orderBy",{staticClass:"u-item",on:{filter:e.changeOrder}})],1)]),e.list?t("div",{staticClass:"m-namespace-list"},[t("el-row",{attrs:{gutter:20}},e._l(e.list,(function(e,a){return t("el-col",{key:a,attrs:{span:12}},[t("namespace-item",{attrs:{data:e}})],1)})),1)],1):t("div",{staticClass:"m-namespace-null"},[t("el-alert",{attrs:{title:"没有相关条目",type:"info","show-icon":""}})],1),t("div",{staticClass:"m-namespace-pages"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":e.per,total:e.total,"current-page":e.page},on:{"update:currentPage":function(a){e.page=a},"update:current-page":function(a){e.page=a}}})],1)],1)},n=[],i=(t("841c"),t("ac1f"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"m-namespace-item"},[t("h5",{staticClass:"u-title"},[t("a",{attrs:{href:e.namespace.link,target:"_blank"}},[t("i",{staticClass:"u-icon el-icon-postcard"}),e._v(e._s(e.namespace.key||"未知")+" "),t("span",{staticClass:"u-preview"},[e._v("剑网3.com/"+e._s(e.namespace.key))])]),e.isMyNamespace(e.namespace.uid)?t("i",{staticClass:"u-my"},[e._v("由我创建的")]):e._e()]),t("p",{staticClass:"u-desc"},[e._v(e._s(e.namespace.desc||e.namespace.key||"未知"))]),t("div",{staticClass:"u-misc"},[t("span",{staticClass:"u-author"},[t("i",{staticClass:"el-icon-user"}),t("a",{attrs:{href:e._f("authorLink")(e.namespace.uid),target:"_blank"}},[e._v(" "+e._s(e.namespace.user.nickname||"匿名"))])]),t("time",{staticClass:"u-time"},[t("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(e._f("dataFormat")(e.namespace.created)))])])])}),c=[],r=t("85e4"),l=t("e4f1"),o=t("c9d2"),p={name:"namespaceItem",props:["data"],data:function(){return{uid:o["a"].getInfo().uid}},computed:{namespace:function(){return this.data}},filters:{authorLink:r["authorLink"],dataFormat:function(e){return e&&Object(l["a"])(1e3*~~e)||"-"}},methods:{isMyNamespace:function(e){return this.uid&&e==this.uid}},mounted:function(){}},u=p,m=(t("05e6"),t("2877")),d=Object(m["a"])(u,i,c,!1,null,"1ae532dd",null),f=d.exports,h=(t("99af"),t("d3b7"),t("bc3a")),b=t.n(h),v=(t("4328"),t("65c2")),_=t("2b0e"),g=t("5c96");_["default"].prototype.$notify=g["Notification"],_["default"].prototype.$message=g["Message"];var y=new _["default"],C=b.a.create({baseURL:v["__helperUrl"]}),k=b.a.create({withCredentials:!0,baseURL:v["__helperUrl"]});function w(e){e["interceptors"]["response"].use((function(e){if(200==e.data.code)return e;y.$message.error("[".concat(err.code,"]").concat(err.message))}),(function(e){return y.$message.error("网络请求异常"),console.log(e),Promise.reject(e)}))}function L(e){return C.get("/api/namespaces",{params:e,headers:{Accept:"application/prs.helper.v2+json"}})}w(C),w(k);var j={name:"Namespace",props:[],data:function(){return{type:"all",types:[{label:"玩家",value:"player"},{label:"团队",value:"team"},{label:"系统",value:"system"},{label:"自定义",value:"custom"}],list:"",per:24,total:1,page:1,order:"update",search:""}},computed:{params:function(){var e={key:this.search,source_type:"all"==this.type?"":this.type,page:this.page,limit:this.per};return"podate"==this.order?e.sort={created:0}:e.sort={updated:1},e},publish_link:function(){return Object(r["publishLink"])("namespace")},buy_link:function(){return"/vip/namespace?from=bbs_namespace"}},methods:{loadNamespaceList:function(){var e=this;L(this.params).then((function(a){e.list=a.data.data.data||{},e.total=a.data.data.total}))},changeOrder:function(e){this.order=e.val}},watch:{type:function(){this.page=1},params:{deep:!0,immediate:!0,handler:function(e){this.loadNamespaceList()}}},filters:{},created:function(){},components:{"namespace-item":f}},N=j,O=(t("7a12"),Object(m["a"])(N,s,n,!1,null,null,null));a["default"]=O.exports},cb03:function(e,a,t){}}]);
//# sourceMappingURL=chunk-d3c60320.bf1cbc4a.js.map