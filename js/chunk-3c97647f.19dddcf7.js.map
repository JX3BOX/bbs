{"version":3,"sources":["webpack:///./src/components/exam/paper_single.vue?34f1","webpack:///./src/views/Paper.vue?86a6","webpack:///./src/components/exam/paper_single.vue?d8b9","webpack:///src/components/exam/paper_single.vue","webpack:///./src/components/exam/paper_single.vue?b684","webpack:///./src/components/exam/paper_single.vue","webpack:///src/views/Paper.vue","webpack:///./src/views/Paper.vue?94d2","webpack:///./src/views/Paper.vue","webpack:///./src/components/exam/paper_list.vue?587a","webpack:///./src/views/Paper.vue?6093","webpack:///./src/components/exam/paper_list.vue?32c8","webpack:///src/components/exam/paper_list.vue","webpack:///./src/components/exam/paper_list.vue?dcbd","webpack:///./src/components/exam/paper_list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","mode","attrs","on","updateParams","data","length","per","page","total","$event","skipTop","staticRenderFns","directives","name","rawName","value","expression","goBack","_v","score","iframe","_l","item","index","key","id","list","answer","isSubmitted","finalAnswer","class","submit","title","user_id","client","props","components","SingleCard","SingleTitle","Comment","userAnswers","loading","computed","isIframe","methods","loadData","getPaper","then","postStat","finally","val","submitList","myAnswer","submitAnswer","document","type","params","created","component","PaperList","PaperSingle","paperSearch","search","tag","pageIndex","pageSize","getListData","getExamPaperList","window","watch","immediate","deep","handler","_s","clients","style","desc","createUser","model","callback","$$v","$set","console","filters","mounted"],"mappings":"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","file":"js/chunk-3c97647f.19dddcf7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_single.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-paper\"},[(_vm.mode == 'list')?[_c('paperSearch',{attrs:{\"type\":\"paper\"},on:{\"update\":_vm.updateParams}}),(_vm.data && _vm.data.length)?_c('PaperList',{attrs:{\"data\":_vm.data}}):_c('el-alert',{attrs:{\"title\":\"没有找到相关条目\",\"type\":\"info\",\"show-icon\":\"\"}}),_c('el-pagination',{staticClass:\"m-exam-pagination\",attrs:{\"background\":\"\",\"page-size\":_vm.per,\"hide-on-single-page\":true,\"current-page\":_vm.page,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"current-change\":_vm.skipTop}})]:[_c('PaperSingle')]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"v-paper-single\"},[_c('div',{staticClass:\"m-goback\"},[_c('el-button',{staticClass:\"u-back\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-arrow-left\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回列表\")])],1),_c('SingleTitle',{attrs:{\"item\":_vm.data,\"score\":_vm.score,\"type\":\"paper\"}}),(_vm.isIframe)?[_c('div',{staticClass:\"m-paper-iframe\"},[_vm._v(\" 当前试卷为外链，\"),_c('a',{attrs:{\"href\":_vm.data.iframe,\"target\":\"_blank\"}},[_vm._v(\"点击前往\")])])]:[_c('div',{staticClass:\"m-paper-list\"},_vm._l((_vm.list),function(item,index){return _c('SingleCard',{key:item.id,attrs:{\"item\":item.list,\"index\":index + 1,\"answer\":item.answer,\"isSubmitted\":_vm.isSubmitted},on:{\"changeVal\":_vm.finalAnswer}})}),1),_c('div',{staticClass:\"m-exam-submit\",class:{ isSubmitted: _vm.isSubmitted },on:{\"click\":_vm.submit}},[_c('el-button',{staticClass:\"u-btn\",attrs:{\"disabled\":_vm.isSubmitted}},[_vm._v(\"提交\")])],1),_c('Thx',{staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":\"paper\",\"postTitle\":_vm.title,\"userId\":_vm.user_id,\"adminBoxcoinEnable\":true,\"userBoxcoinEnable\":true,\"client\":_vm.client}}),_c('div',{staticClass:\"m-single-comment\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"评论\")]),_c('Comment',{attrs:{\"id\":_vm.id,\"category\":\"paper\"}})],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"v-paper-single\" v-loading=\"loading\">\n        <div class=\"m-goback\">\n            <el-button class=\"u-back\" size=\"mini\" icon=\"el-icon-arrow-left\" @click=\"goBack\">返回列表</el-button>\n        </div>\n\n        <SingleTitle :item=\"data\" :score=\"score\" type=\"paper\" />\n\n        <template v-if=\"isIframe\">\n            <div class=\"m-paper-iframe\">\n                当前试卷为外链，<a :href=\"data.iframe\" target=\"_blank\">点击前往</a>\n            </div>\n        </template>\n        <template v-else>\n            <div class=\"m-paper-list\">\n                <SingleCard v-for=\"(item, index) in list\" :key=\"item.id\" :item=\"item.list\" :index=\"index + 1\" :answer=\"item.answer\" :isSubmitted=\"isSubmitted\" @changeVal=\"finalAnswer\" />\n            </div>\n            <div class=\"m-exam-submit\" @click=\"submit\" :class=\"{ isSubmitted }\">\n                <el-button class=\"u-btn\" :disabled=\"isSubmitted\">提交</el-button>\n            </div>\n\n            <Thx class=\"m-thx\" :postId=\"id\" postType=\"paper\" :postTitle=\"title\" :userId=\"user_id\" :adminBoxcoinEnable=\"true\" :userBoxcoinEnable=\"true\" :client=\"client\" />\n            <div class=\"m-single-comment\">\n                <el-divider content-position=\"left\">评论</el-divider>\n                <Comment :id=\"id\" category=\"paper\" />\n            </div>\n        </template>\n    </div>\n</template>\n<script>\nimport SingleCard from \"@/components/exam/single_card.vue\";\nimport SingleTitle from \"@/components/exam/single_title.vue\";\nimport Comment from \"@jx3box/jx3box-comment-ui/src/Comment.vue\";\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { getPaper, submitAnswer } from \"@/service/exam.js\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"PaperSingle\",\n    props: [],\n    components: { SingleCard, SingleTitle, Comment },\n    data: function () {\n        return {\n            data: {},\n            list: [],\n            answer: \"\",\n            score: \"\",\n            userAnswers: {},\n            isSubmitted: false,\n            loading: false,\n        };\n    },\n    computed: {\n        id() {\n            return this.$route.params.id;\n        },\n        user_id() {\n            return this.data.createUserId;\n        },\n        isIframe: function () {\n            return this.data.iframe;\n        },\n        title: function () {\n            return this.data.title || \"无标题\";\n        },\n        client() {\n            return this.data.client || \"all\";\n        },\n    },\n    methods: {\n        loadData() {\n            this.loading = true;\n            getPaper(this.id)\n                .then((res) => {\n                    let data = res.data;\n\n                    // 发送统计\n                    postStat(\"paper\", this.id);\n\n                    data.tags = JSON.parse(data.tags);\n                    data.questionDetailList =\n                        data?.questionDetailList?.map((item) => {\n                            item.options = JSON.parse(item.options);\n                            item.tags = JSON.parse(item.tags);\n\n                            return item;\n                        }) || [];\n                    this.data = data; \n\n                    this.list =\n                        data?.questionDetailList?.map((item) => {\n                            return {\n                                list: item,\n                            };\n                        }) || [];\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        finalAnswer(val) {\n            this.userAnswers = {\n                ...this.userAnswers,\n                ...val,\n            };\n        },\n        submit() {\n            if (!User.isLogin()) return this.$message.error(\"请先登录\");\n            if (!Object.keys(this.userAnswers).length) {\n                this.$alert(\"不能交白卷哦~\", \"提交失败\", {\n                    type: \"error\",\n                });\n            } else {\n                let list = this.data.questionDetailList;\n                let obj = this.userAnswers;\n                let submitList = {};\n                for (const key in obj) {\n                    const item = list.find((l) => l.id === ~~key);\n                    submitList[key] = obj[key].map((o) => item.options[o]);\n                }\n                let userAnswers = [];\n                for (let i in this.userAnswers) {\n                    userAnswers.push({\n                        id: [i],\n                        myAnswer: this.userAnswers[i].sort(),\n                    });\n                } \n                submitAnswer(this.id, submitList, true).then((res) => { \n                    if (res.data.score) {\n                        document.documentElement.scrollTop = 0;\n                        const paper = res.data.paper;\n                        this.list = this.list.map((item) => {\n                            let answer = paper.questionDetailList.find((q) => q.id === item.list.id);\n                            answer.answerList = answer.answerList.sort();\n                            const myAnswer = userAnswers.find((q) => q.id == answer.id);\n                            item.answer = { ...answer, ...myAnswer };\n                            return item;\n                        });\n                        this.score = String(res.data.score.score);\n                        this.isSubmitted = true;\n                    }\n                });\n            }\n        },\n        goBack: function () {\n            this.$router.push({ name: \"index\", params: { type: \"paper\" } });\n        },\n    },\n    created: function () {\n        this.loadData();\n    },\n};\n</script>\n\n<style lang=\"less\">\n    @import \"~@/assets/css/exam/exam.less\";\n    @import \"~@/assets/css/exam/single_title.less\";\n    @import \"~@/assets/css/exam/single_card.less\";\n    @import \"~@/assets/css/exam/paper_single.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./paper_single.vue?vue&type=template&id=4d0f7e96&\"\nimport script from \"./paper_single.vue?vue&type=script&lang=js&\"\nexport * from \"./paper_single.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paper_single.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"v-paper\">\n        <template v-if=\"mode == 'list'\">\n            <!-- 搜索 -->\n            <paperSearch :type=\"`paper`\" @update=\"updateParams\" />\n            <PaperList :data=\"data\" v-if=\"data && data.length\" />\n            <el-alert v-else title=\"没有找到相关条目\" type=\"info\" show-icon></el-alert>\n            <!-- 分页 -->\n            <el-pagination class=\"m-exam-pagination\" background :page-size=\"per\" :hide-on-single-page=\"true\" :current-page.sync=\"page\" layout=\"total, prev, pager, next, jumper\" :total=\"total\" @current-change=\"skipTop\"></el-pagination>\n        </template>\n        <template v-else>\n            <PaperSingle />\n        </template>\n    </div>\n</template>\n<script>\nimport paperSearch from \"@/components/exam/search.vue\";\nimport PaperList from \"@/components/exam/paper_list.vue\";\nimport PaperSingle from \"@/components/exam/paper_single.vue\";\nimport { getExamPaperList } from \"@/service/exam.js\";\nexport default {\n    name: \"Paper\",\n    components: { PaperList, PaperSingle, paperSearch },\n    data: function () {\n        return {\n            data: [],\n            search: \"\",\n            tag: \"\",\n            client: \"\",\n            per: 12,\n            page: 1,\n            total: 0,\n        };\n    },\n    computed: {\n        mode: function () {\n            return this.$route.params.id ? \"single\" : \"list\";\n        },\n        params: function () {\n            let _params = {\n                pageIndex: this.page,\n                pageSize: this.per,\n            };\n            if (this.tag) _params.tag = this.tag;\n            if (this.search) _params.title = this.search;\n            if (this.client) _params.client = this.client;\n            return _params;\n        },\n    },\n    methods: {\n        getListData() {\n            getExamPaperList(this.params).then((res) => {\n                this.data = res.data?.data || \"\";\n                this.total = ~~res.data?.page.total || 0;\n            });\n        },\n        // 更新参数\n        updateParams({ key, val }) {\n            if (val == \"全部\") val = \"\";\n            this[key] = val;\n        },\n        skipTop: function () {\n            window.scrollTo(0, 0);\n        },\n    },\n    created: function () {\n        if (this.mode == \"list\") this.getListData();\n    },\n\n    watch: {\n        // 监听参数更新\n        params: {\n            immediate: true,\n            deep: true,\n            handler: function () {\n                this.getListData();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n    @import \"../assets/css/exam/paper.less\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Paper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Paper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Paper.vue?vue&type=template&id=0453f372&\"\nimport script from \"./Paper.vue?vue&type=script&lang=js&\"\nexport * from \"./Paper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Paper.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_list.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Paper.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-paper-list\"},[_c('div',{staticClass:\"u-list\"},_vm._l((_vm.list),function(item){return _c('div',{key:'paper' + item.id,staticClass:\"u-item\"},[_c('router-link',{staticClass:\"u-link\",attrs:{\"to\":{ name: 'paper', params: { id: item.id } }}},[_c('span',{class:(\"u-client i-client-\" + (item.client))},[_vm._v(_vm._s(_vm.clients[item.client]))]),_c('div',{staticClass:\"u-title\"},[_c('span',[_vm._v(_vm._s(item.title))]),_c('span',{staticClass:\"u-line\",class:item.style})]),_c('div',{staticClass:\"u-tags\"},_vm._l((item.tags),function(tag){return _c('el-tag',{key:tag,staticClass:\"u-tag el-tag--plain\",attrs:{\"size\":\"small\",\"effect\":\"plain\",\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),1),_c('div',{staticClass:\"u-desc\",class:item.style},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"256\",\"height\":\"256\",\"viewBox\":\"0 0 256 256\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{staticClass:\"fil0\",attrs:{\"d\":\"M129.254 5.842l102.93 59.427-31.87 18.4-.982-.566c.994-2.975-.028-5.876-2.019-8.167l-4.238-4.874-4.875-4.238c-4.609-4.007-11.22-2.951-13.087 3.295l-45.859-26.476-48.092 27.766c-3.008-2.576-6.243-4.596-7.711-5.336.556 3.007 1.122 5.906 1.436 8.959l-16.692 9.637-31.87-18.4L129.254 5.842zM236 71.878v118.854l-102.929 59.426v-36.801l71.059-41.026V90.279L236 71.878zm-110.561 178.28l-102.93-59.426V71.878l31.87 18.401v38.385a71.299 71.299 0 00-9.941 3.888c3.476 1.394 6.816 2.952 9.941 4.768v35.011l13.63 7.87c-.448 5.196-.681 10.447-.884 15.81 7.698-.047 17.263-.298 24.365-2.254l33.949 19.6v36.801zM73.64 189.497c.616-12.288.824-17.667 6.46-25.262 5.453 5.878 11.556 10.552 18.453 13.546a44.686 44.686 0 004.644 1.718c-10.202 9.114-15.093 9.273-29.557 9.998zm55.206-82.269a30.61 30.61 0 00-4.996 4.101c-2.432 2.476-4.35 5.302-5.436 8.228l6.691-6.474c1.381-1.335 2.902-4.048 3.741-5.855zm15.54-14.454c-2.664.429-4.875 1.064-6.833 1.861 2.112.623 4.007 1.195 6.817 2.037l.016-3.898zm15.213-7.165l1.942.821 1.516-1.49a56.852 56.852 0 00-6.694-2.647l3.236 3.316zm-7.44-4.519c-3.687-.918-7.615-1.549-11.775-1.863 2.509-1.954 8.004-2.992 11.839-3.871-6.24-2.525-17.137-2.863-26.058-.017-.495 1.506-1.483 3.868-2.685 4.952-1.586 1.43-3.063 2.694-4.373 3.915 10.1-4.479 20.923-4.799 31.527-1.855l1.525-1.261zM82.1 80.589c1.213 7.898-1.998 20.612-2.61 22.231-.613 1.618-1.421 3.479-4.084 10.137-2.664 6.658-2.451 19.463-.66 23.5-4.342-3.055-9.693-4.784-14.795-2.94 8.582 4.379 13.448 14.094 19.147 21.551 13.089 17.129 29.219 25.133 49.926 19.37 10.231-2.847 25.104-22.701 16.335-30.342-15.181 8.569-31.513-2.404-32.155-19.114-.467-12.171 12.786-24.526 25.65-26.107-5.249-1.572-7.043-2.387-13.788-1.313 6.068-4.449 10.642-7.967 21.017-8.998.637-1.192 1.667-2.01 2.687-2.853-12.985-3.363-31.961-2.924-48.429 18.886 4.904-10.82 8.443-15.182 20.698-27.127 3.233-3.151 2.587-7.771 2.183-10.966-3.448 5.663-9.754 8.745-18.349 12.542-6.518 2.879-12.428 7.647-16.78 13.669-1.091-4.665-2.175-8.865-5.993-12.126zm62.075 89.198a95.605 95.605 0 004.608-2.046c-4.35 7.066-14.86 14.943-33.852 17.435 20.304 5.345 39.698 2.31 51.914-10.359-.979 1.719-1.998 3.546-3.118 5.174 14.984-8.658 34.487-34.111 20.514-58.638 2.36 1.92 4.335 4.253 6.008 7.432.11-11.661-3.429-22.244-10.167-30.625l-3.947 4.018 7.299 7.124-5.446 6.584c-2.667 3.225-4.416 3.231-7.72 3.242l-4.616.018c-.087 1.544-.742 2.979-1.882 4.027l-.072 3.376c-.069 3.225-1.915 6.394-5.122 7.359l.001.005c-3.864 1.15-7.022 3.497-9.786 6.353 1.943 1.713 3.186 3.805 3.841 6.157 1.06 3.809.418 8.087-1.322 12.281-1.663 4.008-4.251 7.851-7.135 11.083zm-25.774-43.979l9.782-9.463c1.993-1.929 4.901-6.745 5.964-10.318.226-.761 1.197-1.434 2.541-1.463l6.485-.139.357-1.122c.196-.616.459-.706 1.011-.709l4.176-.02a.392.392 0 00.379-.39l.037-9.184c.007-1.797-.026-2.719 1.393-3.893l2.944-2.433 7.412 7.594 18.945-18.61 1.185-4.634c.463-1.81 1.741-1.749 3.146-.528l4.538 3.945 3.945 4.538c1.22 1.405 1.282 2.683-.528 3.146l-4.634 1.185-18.611 18.945 7.595 7.412-2.434 2.943c-1.173 1.42-2.096 1.387-3.892 1.394l-9.184.037a.39.39 0 00-.39.379l-.02 4.176c-.003.552-.093.815-.709 1.011l-1.122.358-.139 6.484c-.029 1.344-.703 2.315-1.463 2.541-3.573 1.063-8.389 3.971-10.318 5.964l-5.142 5.316c-5.88 2.918-11.824 2.547-17.096-2.205-3.029-2.731-5.197-6.561-5.943-10.779a20.577 20.577 0 01-.21-1.478z\"}})]),_c('div',{staticClass:\"u-text\"},[_vm._v(_vm._s(item.desc))])]),_c('div',{staticClass:\"u-info\"},[_c('div',{staticClass:\"u-user\"},[_vm._v(\"出卷人： \"+_vm._s(item.createUser))]),_c('div',{staticClass:\"u-star\"},[_vm._v(\" 难度： \"),_c('el-rate',{attrs:{\"disabled\":\"\",\"text-color\":\"#ff9900\"},model:{value:(item.hardStar),callback:function ($$v) {_vm.$set(item, \"hardStar\", $$v)},expression:\"item.hardStar\"}})],1)])])],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-paper-list\">\n        <div class=\"u-list\">\n            <div class=\"u-item\" v-for=\"item in list\" :key=\"'paper' + item.id\">\n                <router-link :to=\"{ name: 'paper', params: { id: item.id } }\" class=\"u-link\">\n                    <span :class=\"`u-client i-client-${item.client}`\">{{clients[item.client]}}</span>\n                    <div class=\"u-title\">\n                        <span>{{ item.title }}</span>\n                        <span class=\"u-line\" :class=\"item.style\"></span>\n                    </div>\n                    <div class=\"u-tags\">\n                        <el-tag class=\"u-tag el-tag--plain\" v-for=\"tag in item.tags\" :key=\"tag\" size=\"small\" effect=\"plain\" type=\"info\">\n                            {{ tag }}\n                        </el-tag>\n                    </div>\n                    <div class=\"u-desc\" :class=\"item.style\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"256\" height=\"256\" viewBox=\"0 0 256 256\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path class=\"fil0\" d=\"M129.254 5.842l102.93 59.427-31.87 18.4-.982-.566c.994-2.975-.028-5.876-2.019-8.167l-4.238-4.874-4.875-4.238c-4.609-4.007-11.22-2.951-13.087 3.295l-45.859-26.476-48.092 27.766c-3.008-2.576-6.243-4.596-7.711-5.336.556 3.007 1.122 5.906 1.436 8.959l-16.692 9.637-31.87-18.4L129.254 5.842zM236 71.878v118.854l-102.929 59.426v-36.801l71.059-41.026V90.279L236 71.878zm-110.561 178.28l-102.93-59.426V71.878l31.87 18.401v38.385a71.299 71.299 0 00-9.941 3.888c3.476 1.394 6.816 2.952 9.941 4.768v35.011l13.63 7.87c-.448 5.196-.681 10.447-.884 15.81 7.698-.047 17.263-.298 24.365-2.254l33.949 19.6v36.801zM73.64 189.497c.616-12.288.824-17.667 6.46-25.262 5.453 5.878 11.556 10.552 18.453 13.546a44.686 44.686 0 004.644 1.718c-10.202 9.114-15.093 9.273-29.557 9.998zm55.206-82.269a30.61 30.61 0 00-4.996 4.101c-2.432 2.476-4.35 5.302-5.436 8.228l6.691-6.474c1.381-1.335 2.902-4.048 3.741-5.855zm15.54-14.454c-2.664.429-4.875 1.064-6.833 1.861 2.112.623 4.007 1.195 6.817 2.037l.016-3.898zm15.213-7.165l1.942.821 1.516-1.49a56.852 56.852 0 00-6.694-2.647l3.236 3.316zm-7.44-4.519c-3.687-.918-7.615-1.549-11.775-1.863 2.509-1.954 8.004-2.992 11.839-3.871-6.24-2.525-17.137-2.863-26.058-.017-.495 1.506-1.483 3.868-2.685 4.952-1.586 1.43-3.063 2.694-4.373 3.915 10.1-4.479 20.923-4.799 31.527-1.855l1.525-1.261zM82.1 80.589c1.213 7.898-1.998 20.612-2.61 22.231-.613 1.618-1.421 3.479-4.084 10.137-2.664 6.658-2.451 19.463-.66 23.5-4.342-3.055-9.693-4.784-14.795-2.94 8.582 4.379 13.448 14.094 19.147 21.551 13.089 17.129 29.219 25.133 49.926 19.37 10.231-2.847 25.104-22.701 16.335-30.342-15.181 8.569-31.513-2.404-32.155-19.114-.467-12.171 12.786-24.526 25.65-26.107-5.249-1.572-7.043-2.387-13.788-1.313 6.068-4.449 10.642-7.967 21.017-8.998.637-1.192 1.667-2.01 2.687-2.853-12.985-3.363-31.961-2.924-48.429 18.886 4.904-10.82 8.443-15.182 20.698-27.127 3.233-3.151 2.587-7.771 2.183-10.966-3.448 5.663-9.754 8.745-18.349 12.542-6.518 2.879-12.428 7.647-16.78 13.669-1.091-4.665-2.175-8.865-5.993-12.126zm62.075 89.198a95.605 95.605 0 004.608-2.046c-4.35 7.066-14.86 14.943-33.852 17.435 20.304 5.345 39.698 2.31 51.914-10.359-.979 1.719-1.998 3.546-3.118 5.174 14.984-8.658 34.487-34.111 20.514-58.638 2.36 1.92 4.335 4.253 6.008 7.432.11-11.661-3.429-22.244-10.167-30.625l-3.947 4.018 7.299 7.124-5.446 6.584c-2.667 3.225-4.416 3.231-7.72 3.242l-4.616.018c-.087 1.544-.742 2.979-1.882 4.027l-.072 3.376c-.069 3.225-1.915 6.394-5.122 7.359l.001.005c-3.864 1.15-7.022 3.497-9.786 6.353 1.943 1.713 3.186 3.805 3.841 6.157 1.06 3.809.418 8.087-1.322 12.281-1.663 4.008-4.251 7.851-7.135 11.083zm-25.774-43.979l9.782-9.463c1.993-1.929 4.901-6.745 5.964-10.318.226-.761 1.197-1.434 2.541-1.463l6.485-.139.357-1.122c.196-.616.459-.706 1.011-.709l4.176-.02a.392.392 0 00.379-.39l.037-9.184c.007-1.797-.026-2.719 1.393-3.893l2.944-2.433 7.412 7.594 18.945-18.61 1.185-4.634c.463-1.81 1.741-1.749 3.146-.528l4.538 3.945 3.945 4.538c1.22 1.405 1.282 2.683-.528 3.146l-4.634 1.185-18.611 18.945 7.595 7.412-2.434 2.943c-1.173 1.42-2.096 1.387-3.892 1.394l-9.184.037a.39.39 0 00-.39.379l-.02 4.176c-.003.552-.093.815-.709 1.011l-1.122.358-.139 6.484c-.029 1.344-.703 2.315-1.463 2.541-3.573 1.063-8.389 3.971-10.318 5.964l-5.142 5.316c-5.88 2.918-11.824 2.547-17.096-2.205-3.029-2.731-5.197-6.561-5.943-10.779a20.577 20.577 0 01-.21-1.478z\"/></svg>\n                        <div class=\"u-text\">{{ item.desc }}</div>\n                    </div>\n                    <div class=\"u-info\">\n                        <div class=\"u-user\">出卷人： {{ item.createUser }}</div>\n                        <div class=\"u-star\">\n                            难度：\n                            <el-rate v-model=\"item.hardStar\" disabled text-color=\"#ff9900\"></el-rate>\n                        </div>\n                    </div>\n                </router-link>\n            </div>\n\n        </div>\n    </div>\n</template>\n<script>\nimport { __clients } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"PaperList\",\n    props: [\"data\"],\n    components: {},\n    data: function () {\n        return { clients: __clients };\n    },\n    computed: {\n        client: function () {\n            return location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n        list: function () {\n            return this.data?.map((item, i) => {\n                try {\n                    item.tags = JSON.parse(item.tags).slice(0, 3);\n                } catch (e) {\n                    console.log(\"解析试卷列表tag异常\", e);\n                    item.tags = [];\n                }\n                return item;\n            });\n        },\n    },\n    watch: {},\n    methods: {},\n    filters: {},\n    created: function () {},\n    mounted: function () {},\n};\n</script>\n\n<style lang=\"less\">\n    @import \"../../assets/css/exam/paper_list.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./paper_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./paper_list.vue?vue&type=template&id=22e83ad6&\"\nimport script from \"./paper_list.vue?vue&type=script&lang=js&\"\nexport * from \"./paper_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paper_list.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}