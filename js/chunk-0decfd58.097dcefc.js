(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0decfd58"],{"7a12":function(a,e,t){"use strict";t("cb03")},a3d0:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ListLayout",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"v-namespace"},[t("div",{key:"namespace-search",staticClass:"m-archive-search m-namespace-search",attrs:{slot:"search-before"},slot:"search-before"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:a.onSearch},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch.apply(null,arguments)}},model:{value:a.search,callback:function(e){a.search="string"===typeof e?e.trim():e},expression:"search"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[t("i",{staticClass:"el-icon-search"}),a._v(" "),t("span",{staticClass:"u-search"},[a._v("关键词")])]),t("el-button",{attrs:{slot:"append",icon:"el-icon-position"},on:{click:a.onSearch},slot:"append"})],1)],1),t("el-tabs",{staticClass:"m-namespace-tab",model:{value:a.type,callback:function(e){a.type=e},expression:"type"}},[t("el-tab-pane",{attrs:{label:"全部",name:"all"}}),a._l(a.types,(function(a){return t("el-tab-pane",{key:a.value,attrs:{label:a.label,name:a.value}})}))],2),a.query?t("el-alert",{staticClass:"m-namespace-warning",attrs:{type:"warning","show-icon":""}},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[a._v(a._s(a.query))]),a._v(" 铭牌不存在或正在审核中 ")])]):a._e(),t("div",{staticClass:"m-namespace-filter"},[t("div",{staticClass:"m-namespace-add"},[t("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:a.publish_link}},[a._v("+ 注册铭牌")]),t("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:"/publish/#/bucket/namespace"}},[t("span",{staticClass:"el-icon-receiving"}),a._v(" 我的铭牌 ")]),t("div",{staticClass:"m-namespace-total"},[a._v(" 当前共 "),t("b",[a._v(a._s(a.total))]),a._v("个铭牌 ")])]),t("div",{staticClass:"m-namespace-order"},[t("orderBy",{staticClass:"u-item",on:{filter:a.changeOrder}})],1)]),a.list?t("div",{staticClass:"m-namespace-list"},a._l(a.list,(function(a,e){return t("div",{key:e,staticClass:"u-namespace"},[t("namespace-item",{attrs:{data:a}})],1)})),0):t("div",{staticClass:"m-namespace-null"},[t("el-alert",{attrs:{title:"没有相关条目",type:"info","show-icon":""}})],1),t("div",{staticClass:"m-namespace-pages"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":a.per,total:a.total,"current-page":a.page},on:{"update:currentPage":function(e){a.page=e},"update:current-page":function(e){a.page=e}}})],1)],1)])},n=[],i=(t("ac1f"),t("841c"),t("d3b7"),function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"m-namespace-item",on:{click:function(e){return a.goNamespace(a.namespace.link)}}},[t("h5",{staticClass:"u-title"},[t("a",{attrs:{href:a.namespace.link,target:"_blank"},on:{click:function(a){a.stopPropagation()}}},[t("i",{staticClass:"u-icon el-icon-postcard"}),a._v(a._s(a.namespace.key||"未知")+" "),t("span",{staticClass:"u-preview"},[a._v("剑网3.com/"+a._s(a.namespace.key))])]),a.isMyNamespace(a.namespace.uid)?t("i",{staticClass:"u-my"},[a._v("由我创建的")]):a._e()]),t("p",{staticClass:"u-desc"},[a._v(a._s(a.namespace.desc||a.namespace.key||"未知"))]),t("div",{staticClass:"u-misc"},[t("span",{staticClass:"u-author"},[t("i",{staticClass:"el-icon-user"}),t("a",{attrs:{href:a._f("authorLink")(a.namespace.uid),target:"_blank"},on:{click:function(a){a.stopPropagation()}}},[a._v(" "+a._s(a.namespace.user.nickname||"匿名"))])]),t("time",{staticClass:"u-time"},[t("i",{staticClass:"el-icon-date"}),a._v(" "+a._s(a._f("dataFormat")(a.namespace.created)))])])])}),c=[],l=t("85e4"),r=t("e4f1"),o=t("c9d2"),p={name:"namespaceItem",props:["data"],data:function(){return{uid:o["a"].getInfo().uid}},computed:{namespace:function(){return this.data}},filters:{authorLink:l["authorLink"],dataFormat:function(a){return a&&Object(r["a"])(1e3*~~a)||"-"}},methods:{isMyNamespace:function(a){return this.uid&&a==this.uid},goNamespace:function(a){window.open(a,"_blank")}},mounted:function(){}},u=p,m=t("2877"),d=Object(m["a"])(u,i,c,!1,null,null,null),h=d.exports,f=t("41cb");function v(a){return Object(f["b"])().get("/api/namespaces",{params:a,headers:{Accept:"application/prs.helper.v2+json"}})}var b=t("9398"),y={name:"Namespace",props:[],data:function(){return{type:"all",types:[{label:"玩家",value:"player"},{label:"团队",value:"team"},{label:"系统",value:"system"},{label:"自定义",value:"custom"}],list:"",per:24,total:1,page:1,order:"update",search:"",query:"",loading:!1}},computed:{params:function(){var a={source_type:"all"==this.type?"":this.type,page:this.page,limit:this.per};return"podate"==this.order?a.sort={created:0}:a.sort={updated:1},a},publish_link:function(){return Object(l["publishLink"])("namespace")},buy_link:function(){return"/vip/namespace?from=bbs_namespace"}},methods:{loadNamespaceList:function(){var a=this;this.loading=!0;var e=Object.assign({},this.params,{key:this.search});v(e).then((function(e){a.list=e.data.data.data||{},a.total=e.data.data.total})).finally((function(){a.loading=!1}))},changeOrder:function(a){this.order=a.val},onSearch:function(){1==this.page?this.loadNamespaceList():this.page=1}},watch:{type:function(){this.page=1},params:{deep:!0,immediate:!0,handler:function(a){this.query="",this.loadNamespaceList()}}},created:function(){this.query=this.$route.query.namespace},components:{"namespace-item":h,ListLayout:b["a"]}},g=y,_=(t("7a12"),Object(m["a"])(g,s,n,!1,null,null,null));e["default"]=_.exports},cb03:function(a,e,t){}}]);
//# sourceMappingURL=chunk-0decfd58.097dcefc.js.map