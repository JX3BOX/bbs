(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3241489a"],{"38bb":function(t,e,s){},5393:function(t,e,s){},6829:function(t,e,s){"use strict";s("5393")},"7ad6":function(t,e,s){"use strict";s("38bb")},adce:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-question-list"},[s("el-table",{staticClass:"m-list",staticStyle:{width:"100%"},attrs:{data:t.list},on:{"row-click":t.takeQuestion}},[s("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),s("el-table-column",{attrs:{prop:"title",label:"标题"}}),s("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.tags,(function(a){return s("el-tag",{key:e.row.id+"_"+a,staticClass:"tag",attrs:{size:"small"}},[t._v(t._s(a))])}))}}])}),s("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.row.hardStar,callback:function(s){t.$set(e.row,"hardStar",s)},expression:"scope.row.hardStar"}})]}}])}),s("el-table-column",{attrs:{prop:"author",label:"出题人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createUser)+" ")]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"}},[[s("el-button",{attrs:{type:"primary"}},[t._v("去答题")])]],2)],1)],1)},i=[],n=(s("d81d"),s("fb6a"),{name:"QuestionList",props:["data"],components:{},data:function(){return{}},computed:{list:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.map((function(t,e){try{t.tags=JSON.parse(t.tags).slice(0,3)}catch(s){console.log("解析题目列表tag异常",s),t.tags=[]}return t}))}},watch:{},methods:{takeQuestion:function(t,e,s){var a=t.id;this.$router.push({name:"question",params:{id:a}})}}}),r=n,o=(s("7ad6"),s("2877")),l=Object(o["a"])(r,a,i,!1,null,null,null);e["a"]=l.exports},b6b3:function(t,e,s){"use strict";s("f18c")},e254:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-question"},["list"==t.mode?[s("QuestionList",{attrs:{data:t.data}})]:[s("QuestionSingle")]],2)},i=[],n=s("adce"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-question-single"},[s("SingleTitle",{attrs:{item:t.data,type:"question"}}),s("SingleCard",{attrs:{item:t.data,answer:t.answer,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),s("div",{staticClass:"m-exam-submit",class:{isSubmitted:t.isSubmitted},on:{click:t.submit}},[s("el-button",{staticClass:"u-btn",attrs:{disabled:t.isSubmitted}},[t._v("提交")])],1),t.isLogin?t._e():s("div",{staticClass:"m-exam-mark",on:{click:t.prompt}}),s("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"question",userId:t.user_id,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}}),s("div",{staticClass:"m-single-comment"},[s("el-divider",{attrs:{"content-position":"left"}},[t._v("评论")]),s("Comment",{attrs:{id:t.id,category:"question"}})],1)],1)},o=[],l=s("5530"),u=(s("d3b7"),s("e9c4"),s("d81d"),s("4e82"),s("9430")),c=s("fb94"),d=s("23d8"),m=s("9616"),f=s("6a7f"),p=s("c9d2"),h={name:"QuestionSingle",props:[],components:{SingleCard:u["a"],SingleTitle:c["a"],Comment:d["a"]},data:function(){return{isLogin:"",data:{},answer:"",userAnswers:{},isSubmitted:!1,loading:!1}},computed:{id:function(){return this.$route.params.id},user_id:function(){return this.data.createUserId}},watch:{},methods:{loadData:function(){var t=this;this.loading=!0,Object(f["e"])(this.id).then((function(e){var s=e.data;s.tags=JSON.parse(s.tags),s.options=JSON.parse(s.options),t.data=s,Object(m["b"])("question",t.id)})).finally((function(){t.loading=!1}))},finalAnswer:function(t){this.userAnswers=Object(l["a"])(Object(l["a"])({},this.userAnswers),t)},prompt:function(){this.$message.error("请先登录")},submit:function(){var t=this;if("{}"==JSON.stringify(this.userAnswers))this.$alert("你没有选择答案哦~","提交失败",{type:"error"});else{var e={},s=this.userAnswers;for(var a in s)e=s[a].map((function(e){return t.data.options[e]}));Object(f["h"])(this.$route.params.id,e).then((function(e){e.data&&(t.answer=t.toAnswer(e.data.question),console.log(JSON.stringify(t.answer)===JSON.stringify(e.data.question)),t.isSubmitted=!0)}))}},toAnswer:function(t){var e="";for(var s in this.userAnswers)e=this.userAnswers[s].sort();return t.answerList=t.answerList.sort(),Object(l["a"])(Object(l["a"])({},t),{},{myAnswer:e})}},filters:{},created:function(){p["a"].isLogin()?this.isLogin=!0:(this.prompt(),this.isLogin=!1),this.loadData()}},b=h,g=(s("6829"),s("2877")),w=Object(g["a"])(b,r,o,!1,null,null,null),v=w.exports,S={name:"Question",props:[],components:{QuestionList:n["a"],QuestionSingle:v},data:function(){return{data:[],params:{pageIndex:1}}},computed:{mode:function(){return this.$route.params.id?"single":"list"}},methods:{getListData:function(){var t=this;Object(f["c"])(this.params).then((function(e){t.data=e.data.data||{}}))}},created:function(){"list"==this.mode&&this.getListData()},mounted:function(){},filters:{},watch:{}},_=S,y=(s("b6b3"),Object(g["a"])(_,a,i,!1,null,null,null));e["default"]=y.exports},f18c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-3241489a.56e6d195.js.map