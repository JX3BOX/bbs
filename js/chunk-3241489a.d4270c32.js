(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3241489a"],{"38bb":function(t,e,s){},5393:function(t,e,s){},6829:function(t,e,s){"use strict";s("5393")},"7ad6":function(t,e,s){"use strict";s("38bb")},adce:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-question-list"},[s("el-table",{staticClass:"m-list",staticStyle:{width:"100%"},attrs:{data:t.list},on:{"row-click":t.takeQuestion}},[s("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),s("el-table-column",{attrs:{prop:"title",label:"标题"}}),s("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.tags,(function(a){return s("el-tag",{key:e.row.id+"_"+a,staticClass:"tag",attrs:{size:"small"}},[t._v(t._s(a))])}))}}])}),s("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.row.hardStar,callback:function(s){t.$set(e.row,"hardStar",s)},expression:"scope.row.hardStar"}})]}}])}),s("el-table-column",{attrs:{prop:"author",label:"出题人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createUser)+" ")]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"}},[[s("el-button",{attrs:{type:"primary"}},[t._v("去答题")])]],2)],1)],1)},i=[],n=(s("d81d"),s("fb6a"),{name:"QuestionList",props:["data"],components:{},data:function(){return{}},computed:{list:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.map((function(t,e){try{t.tags=JSON.parse(t.tags).slice(0,3)}catch(s){console.log("解析题目列表tag异常",s),t.tags=[]}return t}))}},watch:{},methods:{takeQuestion:function(t,e,s){var a=t.id;this.$router.push({name:"question",params:{id:a}})}}}),r=n,o=(s("7ad6"),s("2877")),u=Object(o["a"])(r,a,i,!1,null,null,null);e["a"]=u.exports},b6b3:function(t,e,s){"use strict";s("f18c")},e254:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-question"},["list"==t.mode?[s("QuestionList",{attrs:{data:t.data}})]:[s("QuestionSingle")]],2)},i=[],n=s("adce"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-question-single"},[s("SingleTitle",{attrs:{item:t.data,type:"question"}}),s("SingleCard",{attrs:{item:t.data,answer:t.answer,userAnswers:t.userAnswers,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),s("div",{staticClass:"m-exam-submit",on:{click:t.submit}},[s("el-button",{staticClass:"u-btn"},[t._v("提交")])],1),t.isLogin?t._e():s("div",{staticClass:"m-exam-mark",on:{click:t.prompt}}),s("p",[t._v(" ")]),s("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"emotion",userId:t.user_id,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}}),s("div",{staticClass:"m-single-comment"},[s("el-divider",{attrs:{"content-position":"left"}},[t._v("评论")]),s("Comment",{attrs:{id:t.id,category:"emotion"}})],1)],1)},o=[],u=(s("4e82"),s("e9c4"),s("9430")),l=s("fb94"),c=s("23d8"),d=s("9616"),m=s("6a7f"),p=s("c9d2"),f={name:"QuestionSingle",props:[],components:{SingleCard:u["a"],SingleTitle:l["a"],Comment:c["a"]},data:function(){return{isLogin:"",data:{},answer:"",userAnswers:{},submitAnswers:{},isSubmitted:!1}},computed:{id:function(){return this.$route.params.id},user_id:function(){return this.data.createUserId}},watch:{},methods:{loadData:function(){var t=this,e=this.$route.params.id;Object(m["e"])(e).then((function(e){var s=e.data;s.tags=JSON.parse(s.tags),s.options=JSON.parse(s.options),t.data=s,Object(d["b"])("question",t.id)}))},finalAnswer:function(t){var e,s;for(var a in t)e=a,t[a].length&&(s=t[a].sort()),s=t[a];for(var i=[],n=0;n<this.data.options.length;n++)for(var r=0;r<s.length;r++)s[r]==n&&i.push(this.data.options[n]);this.submitAnswers=i,this.$set(this.userAnswers,e,s)},prompt:function(){this.$message.error("请先登录")},submit:function(){var t=this;"{}"==JSON.stringify(this.userAnswers)?this.$alert("你没有选择答案哦~","提交失败",{type:"error"}):Object(m["h"])(this.$route.params.id,this.submitAnswers).then((function(e){e.data&&(t.answer=e.data,t.isSubmitted=!0)}))}},filters:{},created:function(){p["a"].isLogin()?this.isLogin=!0:(this.prompt(),this.isLogin=!1),this.loadData()}},h=f,b=(s("6829"),s("2877")),g=Object(b["a"])(h,r,o,!1,null,null,null),w=g.exports,v={name:"Question",props:[],components:{QuestionList:n["a"],QuestionSingle:w},data:function(){return{data:[],params:{pageIndex:1}}},computed:{mode:function(){return this.$route.params.id?"single":"list"}},methods:{getListData:function(){var t=this;Object(m["c"])(this.params).then((function(e){t.data=e.data.data||{}}))}},created:function(){"list"==this.mode&&this.getListData()},mounted:function(){},filters:{},watch:{}},S=v,_=(s("b6b3"),Object(b["a"])(S,a,i,!1,null,null,null));e["default"]=_.exports},f18c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-3241489a.d4270c32.js.map