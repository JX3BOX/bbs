(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3241489a"],{"38bb":function(t,s,e){},5393:function(t,s,e){},6829:function(t,s,e){"use strict";e("5393")},"7ad6":function(t,s,e){"use strict";e("38bb")},adce:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-question-list"},[e("el-table",{staticClass:"m-list",staticStyle:{width:"100%"},attrs:{data:t.list},on:{"row-click":t.takeQuestion}},[e("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),e("el-table-column",{attrs:{prop:"title",label:"标题"}}),e("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return t._l(s.row.tags,(function(a){return e("el-tag",{key:s.row.id+"_"+a,staticClass:"tag",attrs:{size:"small"}},[t._v(t._s(a))])}))}}])}),e("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:s.row.hardStar,callback:function(e){t.$set(s.row,"hardStar",e)},expression:"scope.row.hardStar"}})]}}])}),e("el-table-column",{attrs:{prop:"author",label:"出题人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.createUser)+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"}},[[e("el-button",{attrs:{type:"primary"}},[t._v("去答题")])]],2)],1)],1)},n=[],i=(e("d81d"),e("fb6a"),{name:"QuestionList",props:["data"],components:{},data:function(){return{}},computed:{list:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.map((function(t,s){try{t.tags=JSON.parse(t.tags).slice(0,3)}catch(e){console.log("解析题目列表tag异常",e),t.tags=[]}return t}))}},watch:{},methods:{takeQuestion:function(t,s,e){var a=t.id;this.$router.push({name:"question",params:{id:a}})}}}),r=i,o=(e("7ad6"),e("2877")),l=Object(o["a"])(r,a,n,!1,null,null,null);s["a"]=l.exports},b6b3:function(t,s,e){"use strict";e("f18c")},e254:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"v-question"},["list"==t.mode?[e("QuestionList",{attrs:{data:t.data}})]:[e("QuestionSingle")]],2)},n=[],i=e("adce"),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"v-question-single"},[e("SingleTitle",{attrs:{item:t.data,type:"question"}}),e("SingleCard",{attrs:{item:t.data,answer:t.answer,userAnswers:t.userAnswers,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),e("div",{staticClass:"m-exam-submit",on:{click:t.submit}},[e("el-button",{staticClass:"u-btn"},[t._v("提交")])],1),t.isLogin?t._e():e("div",{staticClass:"m-exam-mark",on:{click:t.prompt}})],1)},o=[],l=(e("4e82"),e("e9c4"),e("9430")),u=e("fb94"),c=e("6a7f"),d=e("c9d2"),p={name:"QuestionSingle",props:[],components:{SingleCard:l["a"],SingleTitle:u["a"]},data:function(){return{isLogin:"",data:{},answer:"",userAnswers:{},submitAnswers:{},isSubmitted:!1}},computed:{},watch:{},methods:{loadData:function(){var t=this,s=this.$route.params.id;Object(c["e"])(s).then((function(s){var e=s.data;e.tags=JSON.parse(e.tags),e.options=JSON.parse(e.options),t.data=e}))},finalAnswer:function(t){var s,e;for(var a in t)s=a,t[a].length&&(e=t[a].sort()),e=t[a];for(var n=[],i=0;i<this.data.options.length;i++)for(var r=0;r<e.length;r++)e[r]==i&&n.push(this.data.options[i]);this.submitAnswers=n,this.$set(this.userAnswers,s,e)},prompt:function(){this.$message.error("请先登录")},submit:function(){var t=this;"{}"==JSON.stringify(this.userAnswers)?this.$alert("你没有选择答案哦~","提交失败",{type:"error"}):Object(c["h"])(this.$route.params.id,this.submitAnswers).then((function(s){s.data&&(t.answer=s.data,t.isSubmitted=!0)}))}},filters:{},created:function(){d["a"].isLogin()?this.isLogin=!0:(this.prompt(),this.isLogin=!1),this.loadData()}},f=p,m=(e("6829"),e("2877")),h=Object(m["a"])(f,r,o,!1,null,null,null),b=h.exports,w={name:"Question",props:[],components:{QuestionList:i["a"],QuestionSingle:b},data:function(){return{data:[],params:{pageIndex:1}}},computed:{mode:function(){return this.$route.params.id?"single":"list"}},methods:{getListData:function(){var t=this;Object(c["c"])(this.params).then((function(s){t.data=s.data.data||{}}))}},created:function(){"list"==this.mode&&this.getListData()},mounted:function(){},filters:{},watch:{}},g=w,v=(e("b6b3"),Object(m["a"])(g,a,n,!1,null,null,null));s["default"]=v.exports},f18c:function(t,s,e){}}]);
//# sourceMappingURL=chunk-3241489a.30d03101.js.map