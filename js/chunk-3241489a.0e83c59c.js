(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3241489a"],{"38bb":function(t,s,e){},5393:function(t,s,e){},6829:function(t,s,e){"use strict";e("5393")},"7ad6":function(t,s,e){"use strict";e("38bb")},adce:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-question-list"},[e("el-table",{staticClass:"m-list",staticStyle:{width:"100%"},attrs:{data:t.list},on:{"row-click":t.takeQuestion}},[e("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),e("el-table-column",{attrs:{prop:"title",label:"标题"}}),e("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return t._l(s.row.tags,(function(a){return e("el-tag",{key:s.row.id+"_"+a,staticClass:"tag",attrs:{size:"small"}},[t._v(t._s(a))])}))}}])}),e("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:s.row.hardStar,callback:function(e){t.$set(s.row,"hardStar",e)},expression:"scope.row.hardStar"}})]}}])}),e("el-table-column",{attrs:{prop:"author",label:"出题人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.createUser)+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"}},[[e("el-button",{attrs:{type:"primary"}},[t._v("去答题")])]],2)],1)],1)},i=[],n=(e("d81d"),e("fb6a"),{name:"QuestionList",props:["data"],components:{},data:function(){return{}},computed:{list:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.map((function(t,s){try{t.tags=JSON.parse(t.tags).slice(0,3)}catch(e){console.log("解析题目列表tag异常",e),t.tags=[]}return t}))}},watch:{},methods:{takeQuestion:function(t,s,e){var a=t.id;this.$router.push({name:"question",params:{id:a}})}}}),r=n,o=(e("7ad6"),e("2877")),u=Object(o["a"])(r,a,i,!1,null,null,null);s["a"]=u.exports},b6b3:function(t,s,e){"use strict";e("f18c")},e254:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"v-question"},["list"==t.mode?[e("QuestionList",{attrs:{data:t.data}})]:[e("QuestionSingle")]],2)},i=[],n=e("adce"),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"v-question-single"},[e("SingleTitle",{attrs:{item:t.data,type:"question"}}),e("SingleCard",{attrs:{item:t.data,answer:t.answer,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),e("div",{staticClass:"m-exam-submit",on:{click:t.submit}},[e("el-button",{staticClass:"u-btn"},[t._v("提交")])],1),t.isLogin?t._e():e("div",{staticClass:"m-exam-mark",on:{click:t.prompt}}),e("p",[t._v(" ")]),e("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"emotion",userId:t.user_id,adminBoxcoinEnable:!1,userBoxcoinEnable:!1}}),e("div",{staticClass:"m-single-comment"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("评论")]),e("Comment",{attrs:{id:t.id,category:"emotion"}})],1)],1)},o=[],u=(e("4e82"),e("e9c4"),e("9430")),l=e("fb94"),c=e("23d8"),d=e("9616"),m=e("6a7f"),p=e("c9d2"),h={name:"QuestionSingle",props:[],components:{SingleCard:u["a"],SingleTitle:l["a"],Comment:c["a"]},data:function(){return{isLogin:"",data:{},answer:"",userAnswers:{},submitAnswers:{},isSubmitted:!1}},computed:{id:function(){return this.$route.params.id},user_id:function(){return this.data.createUserId}},watch:{},methods:{loadData:function(){var t=this,s=this.$route.params.id;Object(m["e"])(s).then((function(s){var e=s.data;e.tags=JSON.parse(e.tags),e.options=JSON.parse(e.options),t.data=e,Object(d["b"])("question",t.id)}))},finalAnswer:function(t){var s,e;for(var a in t)s=a,t[a].length&&(e=t[a].sort()),e=t[a];for(var i=[],n=0;n<this.data.options.length;n++)for(var r=0;r<e.length;r++)e[r]==n&&i.push(this.data.options[n]);this.submitAnswers=i,this.$set(this.userAnswers,s,e)},prompt:function(){this.$message.error("请先登录")},submit:function(){var t=this;"{}"==JSON.stringify(this.userAnswers)?this.$alert("你没有选择答案哦~","提交失败",{type:"error"}):Object(m["h"])(this.$route.params.id,this.submitAnswers).then((function(s){s.data&&(t.answer=t.toAnswer(s.data.question),t.isSubmitted=!0)}))},toAnswer:function(t){var s={},e="";for(var a in this.userAnswers)e=this.userAnswers[a];return s.answerList=t.answerList,s.myAnswerIsRight=t.myAnswerIsRight,s.whyami=t.whyami,s.id=t.id,s.type=t.type,s.myAnswer=e,s}},filters:{},created:function(){p["a"].isLogin()?this.isLogin=!0:(this.prompt(),this.isLogin=!1),this.loadData()}},f=h,b=(e("6829"),e("2877")),w=Object(b["a"])(f,r,o,!1,null,null,null),g=w.exports,v={name:"Question",props:[],components:{QuestionList:n["a"],QuestionSingle:g},data:function(){return{data:[],params:{pageIndex:1}}},computed:{mode:function(){return this.$route.params.id?"single":"list"}},methods:{getListData:function(){var t=this;Object(m["c"])(this.params).then((function(s){t.data=s.data.data||{}}))}},created:function(){"list"==this.mode&&this.getListData()},mounted:function(){},filters:{},watch:{}},S=v,_=(e("b6b3"),Object(b["a"])(S,a,i,!1,null,null,null));s["default"]=_.exports},f18c:function(t,s,e){}}]);
//# sourceMappingURL=chunk-3241489a.0e83c59c.js.map